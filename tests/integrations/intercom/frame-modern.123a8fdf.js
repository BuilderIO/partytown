// prettier-ignore
!function (e) { function t(t) { for (var r, o, c = t[0], a = t[1], u = t[2], l = 0, p = []; l < c.length; l++)o = c[l], Object.prototype.hasOwnProperty.call(i, o) && i[o] && p.push(i[o][0]), i[o] = 0; for (r in a) Object.prototype.hasOwnProperty.call(a, r) && (e[r] = a[r]); for (d && d(t); p.length;)p.shift()(); return s.push.apply(s, u || []), n() } function n() { for (var e, t = 0; t < s.length; t++){ for (var n = s[t], r = !0, c = 1; c < n.length; c++){ var a = n[c]; 0 !== i[a] && (r = !1) } r && (s.splice(t--, 1), e = o(o.s = n[0])) } return e } var r = {}, i = { 4: 0 }, s = []; function o(t) { if (r[t]) return r[t].exports; var n = r[t] = { i: t, l: !1, exports: {} }; return e[t].call(n.exports, n, n.exports, o), n.l = !0, n.exports } o.e = function (e) { var t = [], n = i[e]; if (0 !== n) if (n) t.push(n[2]); else { var r = new Promise((function (t, r) { n = i[e] = [t, r] })); t.push(n[2] = r); var s, c = document.createElement("script"); c.charset = "utf-8", c.timeout = 120, o.nc && c.setAttribute("nonce", o.nc), c.src = function (e) { return o.p + "" + ({ 0: "app", 1: "banner", 2: "bound-events", 3: "confetti", 5: "install", 6: "launcher-discovery", 7: "locale-ar-json", 8: "locale-bg-json", 9: "locale-bs-json", 10: "locale-ca-json", 11: "locale-cs-json", 12: "locale-da-json", 13: "locale-de-form-json", 14: "locale-de-json", 15: "locale-el-json", 16: "locale-es-json", 17: "locale-et-json", 18: "locale-fi-json", 19: "locale-fr-json", 20: "locale-he-json", 21: "locale-hr-json", 22: "locale-hu-json", 23: "locale-id-json", 24: "locale-it-json", 25: "locale-ja-json", 26: "locale-ko-json", 27: "locale-lt-json", 28: "locale-lv-json", 29: "locale-mn-json", 30: "locale-nb-json", 31: "locale-nl-json", 32: "locale-package-json", 33: "locale-pl-json", 34: "locale-pt-BR-json", 35: "locale-pt-json", 36: "locale-ro-json", 37: "locale-ru-json", 38: "locale-sl-json", 39: "locale-sr-json", 40: "locale-sv-json", 41: "locale-tr-json", 42: "locale-vi-json", 43: "locale-zh-CN-json", 44: "locale-zh-TW-json", 45: "message", 46: "sentry", 47: "survey", 49: "vendors~app", 50: "vendors~bound-events", 51: "vendors~message", 52: "vendors~sentry" }[e] || e) + "-modern." + { 0: "bf9bd499", 1: "5cb6e690", 2: "9b8e0dae", 3: "d634e2b0", 5: "f6b28b30", 6: "6e8de57c", 7: "afeb426d", 8: "703d70e9", 9: "fc1fc9e5", 10: "4f8bae1c", 11: "997ece18", 12: "ef284e0a", 13: "3462f649", 14: "06b665f0", 15: "a39ed19c", 16: "1cf19f62", 17: "25ddb272", 18: "182ae418", 19: "5b56a481", 20: "bbc31a23", 21: "0c6ec884", 22: "48e6d079", 23: "e005c285", 24: "97b6f8e4", 25: "9af972ea", 26: "196e53b4", 27: "42b25a5e", 28: "ae2221f5", 29: "ca4b1df1", 30: "71275040", 31: "7343c4ee", 32: "81f4bc62", 33: "9be911f7", 34: "43e240b7", 35: "222c5c31", 36: "851a43f7", 37: "ced9813e", 38: "1ab0eb47", 39: "608f4724", 40: "182c2621", 41: "d9113976", 42: "e3f946df", 43: "91dd2773", 44: "be7d1a4e", 45: "051688d0", 46: "90b0f058", 47: "586a0d85", 49: "5db8e1c6", 50: "c31e2efe", 51: "881ecfc8", 52: "130e0552" }[e] + ".js" }(e); var a = new Error; s = function (t) { c.onerror = c.onload = null, clearTimeout(u); var n = i[e]; if (0 !== n) { if (n) { var r = t && ("load" === t.type ? "missing" : t.type), s = t && t.target && t.target.src; a.message = "Loading chunk " + e + " failed.\n(" + r + ": " + s + ")", a.name = "ChunkLoadError", a.type = r, a.request = s, n[1](a) } i[e] = void 0 } }; var u = setTimeout((function () { s({ type: "timeout", target: c }) }), 12e4); c.onerror = c.onload = s, document.head.appendChild(c) } return Promise.all(t) }, o.m = e, o.c = r, o.d = function (e, t, n) { o.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, o.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, o.t = function (e, t) { if (1 & t && (e = o(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (o.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var r in e) o.d(n, r, function (t) { return e[t] }.bind(null, r)); return n }, o.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return o.d(t, "a", t), t }, o.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, o.p = "https://js.intercomcdn.com/", o.oe = function (e) { throw console.error(e), e }; var c = window.webpackJsonp = window.webpackJsonp || [], a = c.push.bind(c); c.push = t, c = c.slice(); for (var u = 0; u < c.length; u++)t(c[u]); var d = a; s.push([247, 48]), n() }([, function (e, t, n) { "use strict"; var r = n(12), i = n.n(r), s = n(21); var o = n(58), c = n(2), a = n(104), u = n(59); function d(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function l(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? d(Object(n), !0).forEach((function (t) { p(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : d(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function p(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } n.d(t, "n", (function () { return y })), n.d(t, "h", (function () { return w })), n.d(t, "l", (function () { return j })), n.d(t, "i", (function () { return R })), n.d(t, "m", (function () { return A })), n.d(t, "d", (function () { return N })), n.d(t, "b", (function () { return M })), n.d(t, "c", (function () { return P })), n.d(t, "a", (function () { return U })), n.d(t, "f", (function () { return D })), n.d(t, "o", (function () { return k })), n.d(t, "k", (function () { return x })), n.d(t, "g", (function () { return G })), n.d(t, "e", (function () { return F })); let h, f, b = 0, _ = null, g = null; const m = [], O = {}, E = [], S = [], v = [], y = e => g = e; function C(e, t) { return e.splice(0, Math.min(e.length, t)) } function I(e = !1) { if (b >= 5) return; const t = C(m, 100); if (E.length > 0 || t.length > 0) { const n = C(S, 100), r = C(v, 100), i = C(E, 100); e ? c.b.createMetricsWithBeacon(h, t, n, r, i) : c.b.createMetrics(h, t, n, r, i).catch(() => { var e, s, o, c; b++, e = t, s = n, o = r, c = i, Array.prototype.unshift.apply(m, e), Array.prototype.unshift.apply(S, s), Array.prototype.unshift.apply(v, o), Array.prototype.unshift.apply(E, c) }) } } function T() { clearInterval(_), _ = null, I() } function w(e, t, n, r, i, s = {}, o = "m4_metric") { if (Object(u.a)(e)) { A(R(e, t, n, r, i, s, o)) } } function j() { return f } function R(e, t, n, r, i, o = {}, c = "m4_metric") { if (!Object(u.a)(e)) return {}; const a = e && e.id ? e.id : null, d = l(l({}, o), {}, { version: "3a5f2cc12cfaed6a7621910194c6a3662ad8d6e0" }); return { id: s.a.generateUUID(), name: c, created_at: Math.round(Date.now() / 1e3), metadata: Object.assign({ user_id: a, action: t, object: n, place: r, context: i }, d) } } function A(e) { i()(e) || m.push(e) } function N(e) { Object(a.c)() && S.push({ level: "info", text: e }) } function M(e) { Object(a.c)() && S.length < 30 && S.push({ level: "error", text: e }) } function P(e, t) { L({ name: e, type: "inc" }, t) } function U(e, t, n) { L({ name: e, type: "count", value: t }, n) } function D(e, t, n) { L({ name: e, type: "timing", value: t }, n) } function L(e, t) { v.length > 50 || (t && (e.tags = t), v.push(e)) } function k(e, t) { O[e] = { start: t } } function x(e) { O.hasOwnProperty(e) && O[e].hasOwnProperty("start") && (G(e, { duration: Date.now() - O[e].start }), delete O[e]) } function V(e, t = {}) { return { id: s.a.generateUUID(), name: e, createdAt: Date.now(), screenWidth: screen.width, screenHeight: screen.height, additionalMetaData: t, sessionId: h && h.sessionId } } function G(e, t, n = !1) { const r = ((e = !1) => e ? 1 : 20)(Object(o.a)() || Object(a.c)()); if (void 0 === f && (f = ((e = 20) => 1 === e || Math.random() < 1 / e)(r)), f || n) { B(V(e, l({ sample_rate: n ? 1 : r }, t))) } } function B(e) { E.length < 30 && E.push(e) } function F(e, t, n, r, i, s) { w(g, e, t, n, r, i, s) } t.j = { metrics: m, hcMetrics: E, logs: S, opMetrics: v, pushMetric: A, startMetricsPolling: function (e, t) { return h = e, null === _ && (_ = setInterval(() => I(), 3e4)), t.addEventListener("beforeunload", () => I(!0)), T }, buildAndAddMetric: w, buildAndAddHcMetric: G, buildMetric: R, buildHcMetric: V, addHcMetric: B, addInfoLog: N, addErrorLog: M, addIncrementOpMetric: P, addCountOpMetric: U, addTimingOpMetric: D, clearMetricsState: function () { m.splice(0), S.splice(0), v.splice(0), E.splice(0), E.splice(0); for (const e in O) delete O[e]; b = 0 }, getShouldSample: j, startTimingMetric: k, endTimingMetric: x } }, function (e, t, n) { "use strict"; n.d(t, "c", (function () { return y })), n.d(t, "d", (function () { return j })), n.d(t, "a", (function () { return U })), n.d(t, "e", (function () { return Ce })); var r = n(96), i = n.n(r), s = n(69), o = n.n(s), c = n(12), a = n.n(c), u = n(214), d = n(3), l = n(167), p = n(28), h = n(124), f = n(7), b = n(160); const _ = ["custom_bot", "composer_suggestions", "predictive_answers_suggestions"]; function g(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function m(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? g(Object(n), !0).forEach((function (t) { O(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : g(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function O(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function E(e, t) { if (null == e) return {}; var n, r, i = function (e, t) { if (null == e) return {}; var n, r, i = {}, s = Object.keys(e); for (r = 0; r < s.length; r++)n = s[r], t.indexOf(n) >= 0 || (i[n] = e[n]); return i }(e, t); if (Object.getOwnPropertySymbols) { var s = Object.getOwnPropertySymbols(e); for (r = 0; r < s.length; r++)n = s[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]) } return i } const { assign: S } = Object, v = Object(u.b)(); function y(e) { const t = `${v.api_base}/messenger/web/article_collections`; return d.b.post({ url: t, session: e }).then(e => e.map(L)) } function C(e, t, n, r, i, s = null, o = !1, c = null, a = null, u = !1) { const d = { created_at: t, self_serve_suggestions_match: o }; r && (d.client_assigned_uuid = r), i && (d.email = i), s && (d.composer_suggestions = JSON.stringify(s.suggestions)), c && (d.bot_intro = c), a && (d.resolution_bot_behavior_version_id = a), u && (d.search_browse = !0); const l = e[0]; if ("paragraph" === l.type) e = e.map(e => ({ type: e.type, text: Object(h.b)(e.text) })), d.blocks = JSON.stringify(e); else if ("image" === l.type) n && (l.url = n.publicUrl), d.blocks = JSON.stringify(e); else if ("attachmentList" === l.type && n) { const t = l.attachments[0]; t.id = n.id, t.url = n.publicUrl, t.contentType = n.contentType, d.blocks = JSON.stringify(e) } return d } function I(e, t, n, r) { return { metrics: JSON.stringify(e), logs: JSON.stringify(t), op_metrics: JSON.stringify(n), hc_metrics: JSON.stringify(r) } } function T(e) { return e ? { banner_view_id: e } : {} } function w(e) { return e ? { progress_id: e } : {} } function j(e, t, n) { const r = `${v.api_base}/messenger/web/self_serve_suggestions`, i = { query: t, answers_limit: n }; return d.b.post({ url: r, session: e, params: i }) } function R(e) { return { conversations: e.conversations.map(U), pages: N(e.pages) } } function A(e) { return { unreadConversationIds: (e.unread_conversation_ids || []).map(e => e.toString()), unreadDismissedConversationIds: (e.unread_dismissed_conversation_ids || []).map(e => e.toString()) } } function N(e) { return { page: e.page, perPage: e.per_page, totalPages: e.total_pages } } function M(e) { if (e.conversation_message.team_author) { return 0 === (e.conversation_parts ? e.conversation_parts.conversation_parts || e.conversation_parts : []).filter(e => e.author.is_admin && !e.author.is_bot).length } return !1 } function P(e) { return M(e) || !e.last_participating_admin ? void 0 : re(e.last_participating_admin) } function U(e) { return { composerState: D(e.composer_state), dismissed: e.dismissed, id: e.id, intercomLinkSolution: e.intercom_link_solution, lastPartCreatedAt: Object(p.c)(e.updated_at), lastParticipatingAdmin: P(e), participants: e.participants || [], parts: [H(e), ...J(e)], preventEndUserReplies: e.prevent_end_user_replies, inboundConversationsDisabled: e.inbound_conversations_disabled, read: e.read, readAt: e.read_at ? Object(p.c)(e.read_at) : void 0, replyPlaceholder: e.reply_area_placeholder, userParticipated: e.user_participated, notificationStatus: e.notification_status, currentChannel: e.current_channel, analyticsMetadata: { customBotId: e.analytics_metadata ? e.analytics_metadata.custom_bot_id : void 0 }, isInbound: e.is_inbound, state: e.state } } function D(e) { if (e) return { visible: e.visible, customBotActive: e.custom_bot_active, selfServeSuggestionsEnabled: e.self_serve_suggestions_enabled } } function L(e) { return { id: e.id, name: e.name, description: e.description, sections: e.sections, articleCount: e.article_count } } function k(e) { return { articles: e.articles.map(e => { var t, n, r; const s = { id: e.id, url: e.url }; var o, c; if (null !== (t = e.highlight) && void 0 !== t && t.title) s.title = null === (o = e.highlight) || void 0 === o ? void 0 : null === (c = o.title) || void 0 === c ? void 0 : c[0]; else if (null !== (n = e.highlight) && void 0 !== n && n.summary) { var a; s.title = e.title, s.summary = i()(null === (a = e.highlight) || void 0 === a ? void 0 : a.summary) || e.summary } else if (null !== (r = e.highlight) && void 0 !== r && r.body) { var u; s.title = e.title, s.summary = i()(null === (u = e.highlight) || void 0 === u ? void 0 : u.body) || e.summary } else s.title = e.title; return s }) } } function x(e = []) { return e.map(V) } function V(e) { return { id: e.id, name: e.name, articles: e.articles.map(G) } } function G(e) { return { id: e.id, title: e.title, url: e.url } } function B(e) { return { author: (t = e.author, { avatar: { square128: t.avatar }, firstName: t.first_name || t.name, name: t.name }), blocks: e.blocks, contentId: e.content_id, description: e.description, id: e.id, reactionsReply: fe(e.reactions_reply), title: e.title, updatedAt: e.updated_at, url: e.url, alexandriaData: e.alexandria_data }; var t } function F(e) { return M(e) ? { admins: (e.conversation_message.team_author.last_active_admins || []).map(re), name: e.conversation_message.team_author.name } : void 0 } function H(e) { const t = e.conversation_message; return { author: $(t.author), body: he(t.blocks || [], t.attachments || []), clientId: t.client_assigned_uuid, createdAt: Object(p.c)(t.created_at), eventData: {}, form: t.form, id: `message-${t.id}`, isMessage: !0, messageType: de(t), notificationType: (n = t.delivery_option, { badge: "badge", full: "full", summary: "snippet" }[n]), partType: "message", pointerSelector: t.pointer_selector, reactionsReply: t.reactions_reply ? fe(t.reactions_reply) : void 0, replyOptions: t.reply_options || [], replyType: t.reply_type, seenState: pe(t.seen_by_admin), sentAt: Object(p.c)(t.sent_at), showCreatedAt: t.show_created_at, teamAuthor: F(e) }; var n } function $(e) { return { admins: e.authors ? e.authors.map(W) : [], avatar: ce(e.avatar), firstName: q(e.first_name), id: e.id, initial: e.initial, isAdmin: e.is_admin, isBot: e.is_bot, isSelf: e.is_self, type: e.type.toLowerCase() } } function W(e) { return { avatar: ce(e.avatar), firstName: q(e.first_name) } } function q(e) { return e || "" } function z(e = []) { return e.map(Q) } function Q(e) { const t = e.from ? re(e.from) : null; return m(m({}, e), {}, { from: t, reaction_set: (e.reaction_set || []).map(be) }) } function Y(e = []) { return e.map(e => m(m({}, e), {}, { dismissed: !1 })) } function J(e) { let t = []; return e.conversation_parts && (t = e.conversation_parts.conversation_parts || e.conversation_parts), t.filter(e => "lightweight_reply_user_response" !== e.part_type).map(K) } function K(e) { return { author: { avatar: ce(e.author.avatar), firstName: q(e.author.first_name), id: e.author.id, initial: e.author.initial, isAdmin: e.author.is_admin, isBot: e.author.is_bot, isSelf: e.author.is_self, type: e.author.is_admin ? "admin" : "user" }, body: he(e.blocks || [], e.attachments || []), clientId: e.client_assigned_uuid, conversationRating: _e(e), createdAt: Object(p.c)(e.created_at), eventData: ue(e.event_data, e.part_type), form: e.form, id: e.id, isMessage: !1, messageType: de(e), partType: e.part_type, replyOptions: e.reply_options || [], seenState: pe(e.seen_by_admin), showCreatedAt: !0 } } function X(e) { return { slotType: e.slot_type, messengerCardId: e.messenger_card_id } } function Z(e) { return e ? (Object(f.e)("Tour received", e), { id: e.id.toString(), activeStepId: e.active_step_id.toString(), author: $(e.author), steps: (t = e.steps, o()(t, ["order"], ["asc"])).map(e => { return { id: (t = e).id.toString(), blocks: t.blocks, order: t.order, progressionBehavior: (n = t.progression_behavior, ee[n]), placement: t.placement, pointerSize: t.pointer_size, selector: t.selector, selectors: t.selectors, url: t.url }; var t, n }), title: e.title, url: e.url, restartable: e.restartable, endTourAnimation: e.end_tour_animation, progressStartUrl: e.start_url, progressId: e.progress_id }) : {}; var t } const ee = ["manual", "click", "type"]; function te(e) { const t = e.install_mode; if (t) { const e = t.active_subscription, n = t.user_hash_verified, r = t.secure_install_v2, i = t.messenger_enabled_for_visitors; return { activeSubscription: e, messengerEnabledForUsers: t.messenger_enabled_for_users, messengerEnabledForVisitors: i, secureInstallV2: r, userHashVerified: n } } } function ne(e) { const { app: t } = e, n = function (e) { return { anonymousInboundMessages: e.inbound_lead_messaging || e.inbound_lead_messaging_docs_site, composerSuggestionsAsQuickReplies: e.composer_suggestions_as_quick_replies, googleAnalytics: e.google_analytics, hubspotInstalled: e.hubspot_installed, inboundMessages: e.inbound_messages, launcherDiscoveryMode: e.launcher_discovery_mode, marketoEnrichmentInstalled: e.marketo_enrichment_installed, outboundMessages: e.outbound_messages, singlePageAppRateLimiting: e.single_page_app_rate_limiting, crossSiteCookies: e.cross_site_cookies, renderNativePickerInMobile: e.render_native_picker_in_mobile, openEndpoint: e.open_endpoint, openEndpointShadow: e.open_endpoint_shadow, searchBrowseShadowRollout: e.search_browse_shadow_rollout } }(e.modules.messages.features); return { activeAdmins: (t.active_admins || []).map(re), alignment: e.modules.customization.alignment, backgroundImage: t.messenger_background, boundWebEvents: (r = e.bound_web_events, r ? r.map(ge) : []), color: e.modules.messages.colors.base, customGoogleAnalyticsTrackerId: e.modules.messages.google_analytics_tracking_id, expectedResponseDelayTranslationKey: t.expected_response_delay_translation_key, launcherExpectedResponseDelayTranslationKey: t.launcher_expected_response_delay_translation_key, features: n, helpCenterSiteUrl: t.help_center_site_url || void 0, horizontalPadding: e.modules.customization.horizontal_padding, inboundConversationsDisabled: t.inbound_conversations_disabled || !1, accessToTeammateEnabled: t.access_to_teammate_enabled, isAudioEnabled: t.audio_enabled || !1, isDeveloperWorkspace: t.developer_workspace || !1, isErrorReportingDisabled: e.modules.error_reporting && e.modules.error_reporting.disabled, isInstantBootEnabled: !0 === e.modules.messages.instant_boot_enabled, isIntercomLinkEnabled: t.show_powered_by, temporaryExpectationsMessage: t.temporary_expectations_message, isLauncherEnabled: !0 === e.modules.messages.use_activator, isOverrideSamplingEnabled: e.modules.metrics && e.modules.metrics.enabled, logoUrl: t.messenger_logo_url, launcherLogoUrl: t.launcher_logo_url, name: t.name, officeHoursResponse: t.office_hours_response || void 0, originCookieDomain: e.origin_cookie_domain, realtimeConfig: { endpoints: e.modules.rtm.endpoints }, secondaryColor: e.modules.messages.colors.secondary, selfServeSuggestionsMatch: t.self_serve_suggestions_match || !1, smsEnabled: t.sms_notifications_enabled || !1, teamGreeting: t.team_greeting, teamIntro: t.team_intro, upfrontEmailCollectionSetting: t.upfront_email_collection_setting, useCacheFor: t.use_cache_for, userConversationAttachmentsEnabled: t.user_conversation_attachments_enabled, userConversationGifsEnabled: t.user_conversation_gifs_enabled, verticalPadding: e.modules.customization.vertical_padding }; var r } function re(e) { return { avatar: ce(e.avatar), calendarUrl: ie(e.calendar_url), firstName: q(e.first_name), initial: e.initial || e.avatar.initials, intro: ie(e.intro), isActive: e.is_active, isAdmin: !0, isBot: e.is_bot, isSelf: !1, jobTitle: ie(e.job_title), lastActiveAt: Object(p.c)(e.last_active_at), location: e.location ? se(e.location) : void 0, socialAccounts: (e.social_accounts || []).map(oe) } } function ie(e) { if (e && 0 !== e.trim().length) return e } function se(e) { return { cityName: e.city_name, countryCode: e.country_code, countryName: e.country_name, timezoneOffset: e.timezone_offset } } function oe(e) { return { imageUrl: e.image_url, profileUrl: e.profile_url, provider: e.provider, username: e.username } } function ce(e) { let t; return e.square_128 ? t = e.square_128 : e.image_urls && e.image_urls.square_128 && (t = e.image_urls.square_128), t ? { square128: t } : {} } function ae(e) { return e } function ue(e, t) { return "participant_added" !== t && "participant_removed" !== t || (e.participant.avatar = ce(e.participant.avatar)), e || {} } function de(e) { const t = ["chat", "post", "note", "video", "pointer"][e.message_style]; return t || ("attribute_collector" === e.part_type ? "attributeCollector" : le(e, "link") || function (e, t) { let n = !0; return e.blocks.forEach(e => { e.type !== t && (n = !1) }), n && e.blocks.length > 1 }(e, "link") ? "link" : le(e, "notificationChannelsCard") ? "notificationChannels" : le(e, "conversationRating") ? "conversationRating" : void 0) } function le(e, t) { const n = e.blocks && 1 === e.blocks.length && e.blocks[0]; return n && n.type === t } function pe(e) { return { unseen: "not-seen-yet", seen: "seen" }[e] || "not-seen-yet" } function he(e, t) { if (function (e) { return 1 === e.length && "videoReply" === e[0].type }(e)) return e; if (function (e) { return 1 === e.length && "videoFile" === e[0].type }(e)) return function (e) { return [Object.assign({}, e[0])] }(e); const n = []; return function (e, t) { if (0 === e.length) return t; const n = []; return e.map(e => { e.attachments.map(e => n.push(e.url)) }), t.filter(e => n.indexOf(e.url) < 0) }(e.filter(e => "attachmentList" === e.type), t).forEach(e => { !function (e) { return e.content_type.indexOf("image") >= 0 }(e) ? n.push(function (e) { return { type: "attachmentList", attachments: [{ contentType: e.content_type, name: e.name, size: e.size, url: e.url }] } }(e)) : n.push(function (e) { return { height: parseInt(e.height, 10), type: "image", url: e.url, width: parseInt(e.width, 10) } }(e)) }), e.concat(n) } function fe(e) { return { reactionIndex: e.reaction_index, reactionSet: (e.reaction_set || []).map(be) } } function be(e) { return { emoji: e.unicode_emoticon, index: e.index } } function _e(e) { if ("conversationRating" !== de(e)) return {}; const { remark: t } = e.blocks[0]; return { chosenRating: e.blocks[0].rating_index, remark: t } } function ge(e) { return { id: e.id, description: e.description, name: e.name, selector: e.selector, sourceUrl: e.source_url, trigger: e.trigger, urlRegex: e.url_regex } } function me(e) { return { cards: e.cards, cardsSuccess: e.cards_success, conversations: e.conversations.map(U), hasMoreConversations: e.has_more_conversations, articleCollections: e.article_collections.map(L), openInboundConversationIds: e.open_inbound_conversation_ids } } function Oe(e) { return e ? e.map(e => m(m({}, e), {}, { serialized_object: Ee(e.ruleset_link_object_type, e.serialized_object) })) : [] } function Ee(e, t) { switch (e) { case "inbound_trigger": case "inbound_custom_bot": return Se(t); case "messenger_trigger": case "button_custom_bot": return { id: (n = t).id, event: n.event, preAction: n.messenger_pre_action, selector: n.selector }; default: return t }var n } function Se(e) { return e ? { composerDisabled: e.composer_disabled, prompt: e.prompt, rulesetId: e.ruleset_id, suggestions: e.suggestions.map(e => function (e) { return { preAction: e.pre_action, text: e.text, uuid: e.uuid } }(e)), updatedAt: e.updated_at, priority: e.priority } : null } function ve(e) { return e ? { id: e.id, parts: e.parts, operator: $(e.operator) } : null } function ye(e) { const t = Object(b.b)(window); t && (e.sdk_webview_platform = t) } function Ce() { return `${v.api_base}/messenger/web/conversations/transcript` } t.b = { addConversationRatingRemark: function (e, t, n) { const r = `${v.api_base}/messenger/web/conversations/${t}/remark`, i = { remark: n }; return d.b.post({ url: r, session: e, params: i }).then(() => { }) }, buildBanner: Q, buildComment: K, buildComposerSuggestions: Se, buildBotIntro: ve, buildTour: Z, changeConversationRatingIndex: function (e, t, n) { const r = `${v.api_base}/messenger/web/conversations/${t}/rate`, i = { rating_index: n }; return d.b.post({ url: r, session: e, params: i }).then(() => { }) }, collectEmailFromBanner: function (e, t, n, r) { const i = `${v.api_base}/messenger/web/banners/${t}/collect_email`, s = Object.assign({ email: r }, T(n)); return d.b.post({ url: i, session: e, params: s }) }, completeTour: function (e, t, n) { const r = `${v.api_base}/messenger/web/tours/${t}/complete`, i = w(n); return d.b.post({ url: r, session: e, params: i }) }, createArticleReaction: function (e, t, n, r = !1, i = null, s = "help_center", o = null) { const c = `${v.api_base}/messenger/web/articles/${t}/react`, a = { reaction_index: n, allow_auto_responses: r, article_content_id: i, article_channel: s, article_source: o }; return d.b.post({ url: c, session: e, params: a }).then(() => { }) }, createComment: function (e, t, n, r, i, s, o) { const c = `${v.api_base}/messenger/web/conversations/${t}/reply`, a = C(r, i, s, n, o); return d.b.post({ url: c, session: e, params: a }).then(e => Object.assign({}, K(e), { clientId: n })) }, createConversation: function (e, { blocks: t, createdAt: n, upload: r, email: i, composerSuggestions: s, selfServeSuggestionsMatch: o, resolutionBotBehaviorVersionId: c, botIntro: a, currentUrl: u, startedFromSearchBrowse: l = !1 }) { const p = { url: `${v.api_base}/messenger/web/messages`, session: e, params: C(t, n, r, null, i, s, o, a, c, l) }; return u && (p.currentUrl = u), d.b.post(p).then(U) }, createEvent: function (e, t, n) { const r = `${v.api_base}/messenger/web/events`, i = { event_name: t, metadata: n }, s = { event_list: JSON.stringify({ data: [i] }) }; return d.b.post({ url: r, session: e, params: s }).then(e => { if (!a()(e)) return function (e) { const { banner: t, custom_bot: n, client_matches: r, tour: i } = e[0]; return { banner: t ? Q(t) : t, customBot: n ? U(n) : n, clientsideRulesetConditions: Oe(r || []), tour: i ? Z(i) : i } }(e) }) }, createMetrics: function (e, t, n = [], r = [], i = []) { const s = `${v.api_base}/messenger/web/metrics`, o = I(t, n, r, i); return d.b.post({ url: s, session: e, params: o, shouldSetUserData: !1 }) }, createMetricsWithBeacon: function (e, t, n = [], r = [], i = []) { const s = I(t, n, r, i); return d.b.sendBeacon({ url: `${v.api_base}/messenger/web/metrics`, session: e, params: s, shouldSetUserData: !1 }) }, createOrUpdateUser: function (e, t = {}, n, r, i, s, o = !1) { t = S({}, t), void 0 !== n && (t.anonymous_email = n); const c = { source: i, sampling: o }; void 0 !== r && (c._intercomEncryptedPayload = r); const a = `${v.api_base}/messenger/web/ping`; return d.b.post({ url: a, session: e, params: c, customAttributes: t, internal: s }).then(e => { const { errors: t } = e; return t ? { errors: t } : function (e) { var t; const { user: n } = e; e.active_tour && Object(f.e)("Tour attempting to resume from ping", e.active_tour); return { id: n.id, activeCompanyId: n.active_company_id || "-1", activeTour: Z(e.active_tour), anonymousId: n.anonymous_id, anonymousSession: e.anonymous_session, app: ne(e), articleConversationId: JSON.stringify(e.article_conversation_id), banners: z(e.banners), cdasBreachingLimit: e.cdas_breaching_limit || [], clientsideMessageConditions: e.client_messages, clientsideRulesetConditions: Oe(e.client_matches), composerSuggestions: Se(e.composer_suggestions), botIntro: ve(e.bot_intro), requiresCookieConsent: n.requires_cookie_consent, resolutionBotBehaviorVersionId: e.resolution_bot_behavior_version_id, countryCode: n.country_code, hasConversations: !1 !== n.has_conversations, homeScreenSlots: (null === (t = n.home_screen_slots) || void 0 === t ? void 0 : t.map(X)) || [], identityVerificationReady: e.identity_verification_ready, identityVerified: e.identity_verified, installModeConfig: te(e), lastContactedAt: n.last_contacted_at, locale: n.locale, newConversationComposerState: D(e.composer_state), notificationLinkConversationId: e.notification_link_conversation_id, phoneNumber: n.phone_number, role: (r = n.role, { contact_role: "lead", user_role: "user", visitor_role: "visitor" }[r]), unreadConversationIds: (e.unread_conversation_ids || []).map(e => e.toString()), unreadDismissedConversationIds: (e.unread_dismissed_conversation_ids || []).map(e => e.toString()), userSuppliedEmail: n.anonymous_email, newSession: n.new_session, searchRequiredBeforeConversation: n.help_center_require_search, surveys: Y(e.surveys), preventMultipleInboundConversation: n.prevent_multiple_inbound_conversation }; var r }(e) }) }, sendMessengerOpen: function (e, t) { const n = {}; t && (n.initial_view = t); const r = `${v.api_base}/messenger/web/open`; return d.b.post({ url: r, session: e, params: n }).then(e => { const { errors: t } = e; return t ? { errors: t } : { composerSuggestions: Se(e.composer_suggestions), clientsideRulesetConditions: Oe(e.client_matches) } }) }, createReaction: function (e, t, n) { const r = `${v.api_base}/messenger/web/conversations/${t}/react`, i = { reaction_index: n }; return d.b.post({ url: r, session: e, params: i }).then(() => { }) }, createUpload: function (e, t, n) { return new Promise((r, i) => { const s = new FormData; s.append("key", e.key), s.append("acl", e.acl), s.append("Content-Type", e.content_type), s.append("AWSAccessKeyId", e.aws_access_key), s.append("policy", e.policy), s.append("signature", e.signature), s.append("success_action_status", e.success_action_status), s.append("file", t); const o = new XMLHttpRequest; o.upload.addEventListener("progress", (function (e) { const { lengthComputable: t, loaded: r, total: i } = e; if (!n || !t) return; const s = parseInt(r / i * 100); n(s) }), !1), o.addEventListener("error", (function () { i() }), !1), o.addEventListener("abort", (function () { i() }), !1), o.addEventListener("load", (function (t) { 201 === t.target.status ? r({ id: e.id, publicUrl: e.public_url, contentType: e.content_type }) : i() }), !1), o.open("POST", e.upload_destination, !0), o.send(s) }) }, createUploadPolicy: function (e, t, n, r) { const i = `${v.api_base}/messenger/web/uploads`, s = { upload: JSON.stringify({ original_filename: Object(l.a)(t.name), size_in_bytes: t.size, content_type: t.type, width: n, height: r }) }; return d.b.post({ url: i, session: e, params: s }).then(ae) }, disableInstallMode: function (e) { const t = `${v.api_base}/messenger/web/install`; return d.b.post({ url: t, session: e }) }, dismissBanner: function (e, t, n) { const r = `${v.api_base}/messenger/web/banners/${t}/dismiss`, i = T(n); return d.b.post({ url: r, session: e, params: i }) }, dismissNotifications: function (e, t) { const n = `${v.api_base}/messenger/web/conversations/dismiss`, r = { conversation_ids: t }; return d.b.post({ url: n, session: e, params: r }).then(() => { }) }, fetchBannerView: function (e, t) { const n = `${v.api_base}/messenger/web/banners/${t}/fetch`; return d.b.post({ url: n, session: e }).then(e => Q(e.banner)) }, fetchMessengerSheetData: function (e, t, n, r) { const i = `${v.api_base}/messenger/web/sheets/open`, s = { action_id: n, uri: t, values: JSON.stringify(r) }; return d.b.post({ url: i, session: e, params: s }) }, fetchMessengerSheetDataWithToken: function (e, t, n) { const r = `${v.api_base}/messenger/web/messenger_card_view/open_sheet`, i = { action_id: t, token: e, values: JSON.stringify(n) }; return d.b.post({ url: r, params: i }) }, fetchTour: function ({ session: e, tourId: t, token: n } = {}) { if (!e && !n) return Object(f.e)("A session or a token must be supplied when fetching a tour"), Promise.reject("missing_session_and_token"); if (e) return Object(f.e)("Attempting to fetch tour with session data."), d.b.post({ url: `${v.api_base}/messenger/web/tours/${t}/fetch`, session: e }).then(Z); { Object(f.e)("Attempting to fetch tour for messenger card in fallback state."); const e = { token: n }; return d.b.post({ url: `${v.api_base}/messenger/web/tours/${t}/fetch_with_token`, params: e }).then(Z) } }, fireComposerSuggestion: function (e, { conversationId: t, suggestion: n, clientId: r, botIntro: i, resolutionBotBehaviorVersionId: s, articleUrl: o = null }) { const c = t ? `${v.api_base}/messenger/web/conversations/${t}/reply` : `${v.api_base}/messenger/web/messages`, a = { composer_suggestion: JSON.stringify(n), client_assigned_uuid: r }; return t && (a.conversation_id = t), i && (a.bot_intro = i), s && (a.resolution_bot_behavior_version_id = s), o && (a.search_browse = !0), d.b.post({ url: c, session: e, params: a, currentUrl: o }).then(t ? K : U) }, fireTrigger: function (e, { triggerId: t, clientAssignedUUID: n }) { const r = `${v.api_base}/messenger/web/triggers/${t}/fire`, i = { client_assigned_uuid: n }; return d.b.post({ url: r, session: e, params: i }) }, getArticle: function (e, t, n, r = !1) { const i = `${v.api_base}/messenger/web/articles/${t}`, s = function (e, t) { return { conversation_id: e, browse_mode: t } }(n, r); return d.b.post({ url: i, session: e, params: s }).then(B) }, getArticleByURL: function (e, t) { const n = `${v.api_base}/messenger/web/articles/url`, r = { url: t }; return d.b.post({ url: n, session: e, params: r }).then(B) }, getArticleReaction: function (e, t, n, r) { const i = `${v.api_base}/messenger/web/articles/get_reaction`, s = { article_id: t, article_content_id: n }; d.b.post({ url: i, session: e, params: s }).then(e => { e ? r(null, e) : r() }).catch(e => { r(e) }) }, getArticleSectionsInCollection: function (e, t) { const n = `${v.api_base}/messenger/web/article_collections/${t}/articles`; return d.b.post({ url: n, session: e }).then(x) }, getCardView: function (e) { const t = `${v.api_base}/messenger/web/messenger_card_view/`, n = { token: e }; return d.b.post({ url: t, params: n }) }, getConversation: function (e, t, n) { const r = `${v.api_base}/messenger/web/conversations/${t}`, i = { self_serve_suggestions_match: n }; return d.b.post({ url: r, session: e, params: i }).then(U) }, getConversationTranscriptURL: Ce, getConversations: function (e, { source: t, page: n, perPage: r, selfServeSuggestionsMatch: i }) { const s = `${v.api_base}/messenger/web/conversations`, o = { page: n, per_page: r, source: t, self_serve_suggestions_match: i }; return d.b.post({ url: s, session: e, params: o }).then(R) }, getHomeScreenCards: function (e, { homeScreenSlots: t, selfServeSuggestionsMatch: n }) { const r = `${v.api_base}/messenger/web/home_cards`, i = { slot_card_ids: t.map(e => e.messengerCardId), self_serve_suggestions_match: n }; return d.b.post({ url: r, session: e, params: i }).then(me) }, getMessengerCanvasContentWithToken: function (e, t) { const n = `${v.api_base}/messenger/web/messenger_card_view/live_content`, r = { token: e, canvas_id: t }; return d.b.post({ url: n, params: r }).then(e => Object.assign(e, { id: t })) }, getMessengerCanvasWithContent: function (e, t, n) { const r = `${v.api_base}/messenger/web/messenger_cards/content`, i = { canvas_id: t, uri: n }; return ye(i), d.b.post({ url: r, session: e, params: i }).then(e => Object.assign(e, { id: t })) }, getUnreadConversations: function (e) { const t = `${v.api_base}/messenger/web/conversations/unread`; return d.b.post({ url: t, session: e }).then(A) }, markConversationAsRead: function (e, t) { const n = `${v.api_base}/messenger/web/conversations/${t}/read`; return d.b.post({ url: n, session: e }).then(U) }, outboundPreview: function (e, t) { const n = `${v.api_base}/messenger/web/custom_bots/${t}/outbound_preview`; return d.b.post({ url: n, session: e }) }, progressTour: function (e, t, n, r) { const i = Object.assign({ step_id: n }, w(r)); return d.b.sendBeacon({ url: `${v.api_base}/messenger/web/tours/${t}/progress`, session: e, params: i }) }, quickReply: function (e, t, n, r, i) { const s = `${v.api_base}/messenger/web/conversations/${t}/quick_reply`, o = function (e, t, n) { return { client_assigned_uuid: n, conversation_part: JSON.stringify({ id: e, reply_option: t }) } }(n, r, i); return d.b.post({ url: s, session: e, params: o }).then(K) }, reactToBanner: function (e, t, n, r) { const i = `${v.api_base}/messenger/web/banners/${t}/react`, s = Object.assign({ reaction: r }, T(n)); return d.b.post({ url: i, session: e, params: s }) }, recordInteractions: function (e, t, n) { const r = `${v.api_base}/messenger/web/conversations/${t}/record_interactions`, i = { interactions: n }; return d.b.post({ url: r, session: e, params: i }).then(() => { }) }, recordTourFailure: function (e, t, n, r, i, s) { const o = `${v.api_base}/messenger/web/tours/${t}/record_failure`, c = { failed_selector: r, failure_url: i, tour_step_id: n }, a = Object.assign(c, w(s)); return d.b.post({ url: o, session: e, params: a }) }, rulesetConditionSatisfied: function (e, t, n, r, i, s, o, c) { const a = `${v.api_base}/messenger/web/rulesets/${t}/match`, u = { user_id: r, company_id: i, ruleset_link_id: n, predicates: JSON.stringify(s) }; return o && (u.checkpoint_id = o), c && (u.extra_context = JSON.stringify(c)), d.b.post({ url: a, session: e, params: u }).then(e => { let { custom_bot: t, composer_suggestions: n, predictive_answers_suggestions: r } = e; return m(m({}, E(e, _)), {}, { customBot: t, composerSuggestions: Se(n), answerbotPredictiveContexts: r }) }) }, searchGifs: function (e, t) { const n = `${v.api_base}/messenger/web/gifs`, r = { query: t }; return d.b.post({ url: n, session: e, params: r }) }, sendBeaconEvent: function (e, t, n) { const r = { event_name: t, metadata: n }; return d.b.sendBeacon({ url: `${v.api_base}/messenger/web/events`, session: e, params: { event_list: JSON.stringify({ data: [r] }) } }) }, startConversationFromSuggestion: function (e, { suggestionUuid: t, clientAssignedUUID: n, selfServeSuggestionsMatch: r, articleUrl: i = null }) { const s = `${v.api_base}/messenger/web/custom_bots/trigger_inbound_conversation`, o = { id: t, client_assigned_uuid: n, self_serve_suggestions_match: r }; return i && (o.search_browse = !0), d.b.post({ url: s, session: e, params: o, currentUrl: i }).then(U) }, stopTour: function (e, t, n) { const r = `${v.api_base}/messenger/web/tours/${t}/stop`, i = w(n); return d.b.post({ url: r, session: e, params: i }) }, submitSurvey: function (e, t, n, r) { const i = `${v.api_base}/messenger/web/surveys/${t}/submit`, s = { survey_instance_id: n, responses: JSON.stringify(r) }; return d.b.post({ url: i, session: e, params: s }) }, resetTour: function (e, t) { const n = `${v.api_base}/messenger/web/tours/${t}/reset`; return d.b.post({ url: n, session: e }) }, searchArticles: function (e, t) { const n = `${v.api_base}/messenger/web/articles/search`, r = { phrase: t }; return d.b.post({ url: n, session: e, params: r }).then(k) }, submitMessengerCardAction: function (e, t, n, r) { const i = `${v.api_base}/messenger/web/messenger_cards`, s = { action_id: n, uri: t, values: JSON.stringify(r) }; return ye(s), d.b.post({ url: i, session: e, params: s }) }, submitMessengerCardActionWithToken: function (e, t, n) { const r = `${v.api_base}/messenger/web/messenger_card_view/submit`, i = { action_id: t, token: e, values: JSON.stringify(n) }; return d.b.post({ url: r, params: i }) }, submitSheet: function (e, t, n) { const r = `${v.api_base}/messenger/web/sheets/submit`, i = { uri: t, sheet_values: JSON.stringify(n) }; return d.b.post({ url: r, session: e, params: i }) }, submitSheetWithToken: function (e, t) { const n = `${v.api_base}/messenger/web/messenger_card_view/submit_sheet`, r = { token: e, sheet_values: JSON.stringify(t) }; return d.b.post({ url: n, params: r }) }, triggerTransitions: function (e, t, n) { const r = `${v.api_base}/messenger/web/operator/trigger`, i = function (e, { type: t, payload: { composerHasContent: n, executionTime: r } = {} }) { return { type: t, payload: JSON.stringify({ composer_has_content: n, execution_time: r }), meta: JSON.stringify({ conversation_id: e }) } }(t, n); return d.b.post({ url: r, session: e, params: i }).then(U) }, updateConversationForm: function (e, t, n, r, i, s) { const o = s ? { identifier: r, value: i, conversation_part_id: n, upfront_email_collection: s } : { identifier: r, value: i, conversation_part_id: n }, c = `${v.api_base}/messenger/web/conversations/${t}/form`, a = { form_params: JSON.stringify(o) }; return d.b.post({ url: c, session: e, params: a }).then(U) }, updatePhoneNumber: function (e, t) { const n = `${v.api_base}/apps/${e.appId}/notification_channels/phone_number`, r = { phone_number: t }; return d.b.post({ url: n, session: e, params: r }) }, visitorAutoMessageConditionSatisfied: function (e, t) { const n = `${v.api_base}/messenger/web/messages/${t.id}/match`, r = { predicates: JSON.stringify(t.predicates) }; return d.b.post({ url: n, session: e, params: r }).then(e => { if (!a()(e)) return U(e) }) }, generateArticleCard: function (e, t) { const n = `${v.api_base}/messenger/web/articles/${t}/card`; return d.b.post({ url: n, session: e }) } } }, function (e, t, n) { "use strict"; var r = n(8); var i = function (e, t, n, r, i, s) { const o = new XMLHttpRequest; o.onerror = () => s(), o.onabort = () => s(), o.onload = () => { const { readyState: e, status: t, response: n } = o; 4 === e && (t >= 200 && t < 300 ? i(n) : s(n)) }, o.open(t, e, !0), o.withCredentials = !0, Object.keys(n).forEach(e => { o.setRequestHeader(e, n[e]) }), o.send(r) }; const s = r.a.hasXhr2Support(); var o = (e, t, n) => new Promise((r, o) => { if (!s) throw new Error("Browser does not support XMLHttpRequest."); i(e, "POST", t, n, r, o) }); function c(e) { return Math.floor(4294967296 * (1 + e())).toString(16).substring(1) } var a = n(92), u = n(15); n.d(t, "a", (function () { return d })); function d(e, t, n, i, s, o, d, l = !0) { var p; i = i || (null === (p = Object(u.d)()) || void 0 === p ? void 0 : p.href), o = o || Object(u.e)(), i = Object(a.b)(i), o = Object(a.b)(o), r.a.isNativeMobile() && (i = void 0), s = s || function (e = Math.random) { return c(e) + c(e) }(); const { appId: h, anonymousSession: f, sessionId: b, hostUserAgent: _, activeCompanyId: g } = e, m = { app_id: h, v: 3, g: "3a5f2cc12cfaed6a7621910194c6a3662ad8d6e0", s: b, r: o, platform: r.a.isMobileBrowser() ? "mobile_web" : "web", "Idempotency-Key": s, internal: d ? JSON.stringify(d) : "", page_title: Object(u.b)(), user_active_company_id: g }; l && (m.user_data = function (e, t) { const { userId: n, email: r, userHash: i, anonymousId: s } = e, o = Object.assign({ email: r, user_id: n, user_hash: i, anonymous_id: s }, t); return JSON.stringify(o) }(e, n)); const O = Object.assign(m, t); return void 0 !== i && (O.referer = i), void 0 !== f && (O.anonymous_session = f), void 0 !== _ && (O.host_user_agent = _), O } function l(e) { const t = []; return Object.keys(e).forEach(n => { const r = e[n]; n = encodeURIComponent(n), Array.isArray(r) ? r.forEach(e => t.push(`${n}[]=${encodeURIComponent(e)}`)) : t.push(`${n}=${encodeURIComponent(r)}`) }), t.join("&") } function p(e) { try { return JSON.parse(e) } catch (t) { return e } } t.b = { buildBody: d, post: function ({ url: e, session: t = {}, params: n = {}, customAttributes: r = null, currentUrl: i = null, idempotencyKey: s = null, referrer: c = null, internal: a = null, shouldSetUserData: u = !0 }) { if (!t) return Promise.reject("http_post_session_empty"); const h = d(t, n, r, i, s, c, a, u); return o(e, { "Content-Type": "application/x-www-form-urlencoded" }, l(h)).then(p) }, sendBeacon: function ({ url: e, session: t = {}, params: n = {}, customAttributes: r = null, currentUrl: i = null, idempotencyKey: s = null, referrer: c = null, internal: a = null, shouldSetUserData: u = !0 }) { var h, f, b; if (!t) return Promise.reject("http_post_session_empty"); const _ = d(t, n, r, i, s, c, a, u); if (null !== (h = window) && void 0 !== h && null !== (f = h.parent) && void 0 !== f && null !== (b = f.navigator) && void 0 !== b && b.sendBeacon) { const t = { type: "application/x-www-form-urlencoded" }; return window.parent.navigator.sendBeacon(e, new Blob([l(_)], t)) ? Promise.resolve() : Promise.reject() } return o(e, { "Content-Type": "application/x-www-form-urlencoded" }, l(_)).then(p) } } }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return r })); const r = () => window.INTERCOM_PRIVILEGE_SEPARATION }, function (e, t, n) { "use strict"; n.d(t, "l", (function () { return m })), n.d(t, "o", (function () { return O })), n.d(t, "m", (function () { return E })), n.d(t, "c", (function () { return S })), n.d(t, "t", (function () { return v })), n.d(t, "k", (function () { return y })), n.d(t, "j", (function () { return C })), n.d(t, "h", (function () { return I })), n.d(t, "i", (function () { return T })), n.d(t, "g", (function () { return w })), n.d(t, "e", (function () { return j })), n.d(t, "f", (function () { return R })), n.d(t, "d", (function () { return A })), n.d(t, "q", (function () { return N })), n.d(t, "a", (function () { return U })), n.d(t, "u", (function () { return D })), n.d(t, "b", (function () { return L })), n.d(t, "s", (function () { return k })), n.d(t, "n", (function () { return x })), n.d(t, "r", (function () { return V })), n.d(t, "p", (function () { return G })); var r = n(8), i = n(30), s = n(6), o = n(20), c = n(2), a = n(3), u = n(219), d = n(1), l = n(17), p = n(28), h = n(58), f = n(168), b = n(9), _ = n(222), g = n(47); function m(e, t, n = !1, r = null) { return (i, o) => { i(function (e, t = !1) { return { type: "GET_CONVERSATION_REQUEST", conversationId: e, isUpdating: t } }(t, n)); const { session: c, operator: a, app: u } = o(); return e.getConversation(c, t, u.selfServeSuggestionsMatch).then(t => { if (i(function (e) { return (t, n) => { const r = n(), { newConversation: i } = r, o = Object(b.f)(r); try { Object(s.e)(e).clientId === Object(s.e)(i).clientId && "conversation" !== o && (t(T(e, null, null, Date.now(), "custom_bot")), t(Object(g.a)(e.id, !0))) } catch (e) { } } }(t)), i(O(e, t, !1, Date.now())), a) { const { lastComposerEvent: e, userCreatedConversationAt: n, lastTriggerTransitionTimestamp: r } = a; Object(l.j)(t, r), Object(l.i)(t, n, e) } r && Object(h.a)() && Object(d.g)("newCommentEvent", { duration_ms: Object(p.a)(r) }) }).catch(e => i(function (e, t) { return { type: "GET_CONVERSATION_FAILURE", conversationId: e, error: t } }(t, e))) } } function O(e, t, n, r) { return o => { Object(s.s)(t).forEach(t => o(Object(i.a)(e, t, !1))), o(function (e, t = !1, n) { return { type: "GET_CONVERSATION_SUCCESS", conversation: e, skipNotification: t, createdAt: n } }(t, n, r)) } } function E(e, t) { return (n, r) => { n(function (e) { return { type: "MARK_CONVERSATION_AS_READ_REQUEST", conversationId: e } }(t)); const { session: i } = r(); return e.markConversationAsRead(i, t).then(() => n(function (e) { return { type: "MARK_CONVERSATION_AS_READ_SUCCESS", conversationId: e } }(t))).catch(e => n(function (e, t) { return { type: "MARK_CONVERSATION_AS_READ_FAILURE", conversationId: e, error: t } }(t, e))) } } function S(e) { return { type: "CONVERSATION_READ_ELSEWHERE", conversationId: e } } function v(e) { return { type: "USER_CONTENT_SEEN_BY_ADMIN", conversationId: e } } function y(e, t, n, r) { return (i, s) => { i(function (e, t, n) { return { type: "CREATE_REACTION_REQUEST", conversationId: e, reactionIndex: t, isFromConversation: !!n } }(t, n, r)); const { session: o } = s(); return e.createReaction(o, t, n).then(() => i(function (e, t) { return { type: "CREATE_REACTION_SUCCESS", conversationId: e, reactionIndex: t } }(t, n))).catch(e => i(function (e, t, n) { return { type: "CREATE_REACTION_FAILURE", conversationId: e, reactionIndex: t, error: n } }(t, n, e))) } } function C(e, t, n, r = !1, i = !1, s = null, o = null, c = !1, a) { return void 0 === t ? function (e, t, n = !1, r, i, s) { return (o, c) => { const a = c(), { session: u, app: d, user: l, newConversation: p } = a, { body: h, createdAt: f } = t, b = p ? p.botIntroId : null; o(I(t, n, s, Date.now())), s && o({ type: "UPFRONT_EMAIL_COLLECTION_SUBMITTED" }); let g = null; return s || b || (g = Object(_.a)(a)), M(e, u, t, e => o(P(t, e))).then(t => { const n = { blocks: h, createdAt: f, upload: t, email: s, composerSuggestions: g, selfServeSuggestionsMatch: d.selfServeSuggestionsMatch, botIntro: b, resolutionBotBehaviorVersionId: l ? l.resolutionBotBehaviorVersionId : null }; return p && p.articleUrl && (n.currentUrl = p.articleUrl, n.startedFromSearchBrowse = !0), e.createConversation(u, n) }).then(e => { o(T(e, r, i, Date.now())) }).catch(e => o(w(e))) } }(e, n, r, o, c, a) : function (e, t, n, r = !1, i = !1, s, o, c, a) { return (u, d) => { const { session: l } = d(), { body: p, createdAt: h, clientId: f } = n; return u(j(t, n, r, a)), a && u({ type: "UPFRONT_EMAIL_COLLECTION_SUBMITTED" }), M(e, l, n, e => u(P(n, e, t))).then(n => e.createComment(l, t, f, p, h, n, a)).then(e => { u(R(t, e, i, s, o, c, Date.now())) }).catch(e => u(A(t, n, e))) } }(e, t, n, r, i, s, o, c, a) } function I(e, t, n, r = Date.now()) { return { type: "CREATE_CONVERSATION_REQUEST", part: e, isRetry: t, timestamp: r, email: n } } function T(e, t, n, r, i) { return { type: "CREATE_CONVERSATION_SUCCESS", conversation: e, officeHoursResponse: t, isAnnotatedImage: n, createdAt: r, conversationTriggerType: i } } function w(e) { return { type: "CREATE_CONVERSATION_FAILURE", reason: e } } function j(e, t, n, r) { return { type: "CREATE_COMMENT_REQUEST", conversationId: e, part: t, isRetry: n, email: r } } function R(e, t, n, r, i, s, o, c = !1) { return { type: "CREATE_COMMENT_SUCCESS", conversationId: e, part: t, isBorderless: n, lastParticipatingAdmin: r, officeHoursResponse: i, isAnnotatedImage: s, createdAt: o, fromMessengerSuggestedContent: c } } function A(e, t, n) { return { type: "CREATE_COMMENT_FAILURE", conversationId: e, part: t, reason: n } } function N(e, t, n) { const { id: r } = t; return i => { if (n.selectedReplyOption || n.composerSuggestionItem) { let r, s; return n.selectedReplyOption ? (r = n.selectedReplyOption.replyOption, s = n.selectedReplyOption.quickReplyPart) : r = n.composerSuggestionItem, i(Object(f.a)(e, t, r, !0, s)) } return i(C(e, r, n, !0)) } } function M(e, t, n, r) { const { file: i, body: s } = n, { width: o, height: c } = s[0]; return i ? i.size > 41943040 ? Promise.reject("file_size") : e.createUploadPolicy(t, i, o, c).then(t => e.createUpload(t, i, r)) : Promise.resolve() } function P(e, t, n) { return { type: "UPDATE_UPLOAD_PROGRESS", conversationId: n, part: e, progress: t } } function U(e, t, n, r, i = new Date) { return { type: "ADMIN_IS_TYPING", conversationId: e, adminId: t, firstName: n, avatarUrl: r, lastActiveAt: i } } function D(e) { return { type: "USER_IS_TYPING", conversationId: e } } function L(e, t, n = new Date) { return { type: "COMPOSER_CONTENT_CHANGED", conversationId: e, composerContent: t, lastActiveAt: n } } function k(e, t, n, r, i, s, o, c, a) { return (d, l) => { const { session: p, user: h } = l(); return d(function (e, t, n, r, i, s, o) { return { type: "UPDATE_CONVERSATION_FORM_REQUEST", conversationId: e, partId: t, identifier: n, value: r, identifierType: i, formType: s, isCustomData: o } }(t, n, r, i, s, o, c)), e.updateConversationForm(p, t, n, r, i, a).then(e => { d(function (e, t, n, r) { return { type: "UPDATE_CONVERSATION_FORM_SUCCESS", conversation: e, partId: t, identifier: n, createdAt: r } }(e, n, r, Date.now())), "email" === r && d(Object(u.d)(h, i)) }).catch(e => { d(function (e, t, n, r) { return { type: "UPDATE_CONVERSATION_FORM_FAILURE", conversationId: e, partId: t, identifier: n, error: r } }(t, n, r, e, Date.now())) }) } } function x(e) { return (t, n) => { const { session: i } = n(); let s = Object(c.e)(); Object(r.h)() && (s += `?v=${Math.floor(1e8 * Math.random())}`), Object(o.w)(s, Object(a.a)(i, { conversation_id: e })) } } function V(e) { return { type: "SET_NEW_CONVERSATION_COMPOSER_STATE", composerState: e } } function G(e, t, n) { return (r, i) => { const { session: s } = i(); return e.recordInteractions(s, t, n) } } }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return E })), n.d(t, "d", (function () { return S })), n.d(t, "a", (function () { return v })), n.d(t, "j", (function () { return y })), n.d(t, "i", (function () { return C })), n.d(t, "l", (function () { return I })), n.d(t, "q", (function () { return T })), n.d(t, "p", (function () { return w })), n.d(t, "g", (function () { return j })), n.d(t, "m", (function () { return R })), n.d(t, "r", (function () { return A })), n.d(t, "e", (function () { return N })), n.d(t, "f", (function () { return M })), n.d(t, "k", (function () { return P })), n.d(t, "c", (function () { return U })), n.d(t, "s", (function () { return L })), n.d(t, "h", (function () { return k })), n.d(t, "t", (function () { return x })), n.d(t, "o", (function () { return V })), n.d(t, "n", (function () { return G })); var r = n(69), i = n.n(r), s = n(12), o = n.n(s), c = n(70), a = n.n(c), u = n(122), d = n.n(u), l = n(95), p = n.n(l), h = n(152), f = n.n(h), b = n(235), _ = n.n(b), g = n(16), m = n(1); const { assign: O } = Object, E = e => e.parts.filter(e => e.author.isAdmin)[0], S = e => Object(g.a)(e.parts.filter(e => e.author.isAdmin)), v = e => e.parts.reduce((e, t) => e + (t.author.isAdmin ? 1 : 0), 0), y = e => 1 === e.parts.length && "chat" === e.parts[0].messageType, C = e => e.parts.length > 1 && Object(g.a)(e.parts).author.isAdmin, I = e => e.author.isBot && "Operator" === e.author.firstName, T = (e, t) => { if (!o()(t)) { const n = e => e.clientId || e.id, r = t.parts || [], s = a()([...e.parts, ...r], n); return i()(s, ["createdAt"], ["asc"]) } return e.parts }, w = (e, t) => { if (!o()(t) && t.composerState) { if (t.composerState.version > e.composerState.version) return t.composerState; t.composerState.version === e.composerState.version && t.composerState.visible !== e.composerState.visible && Object(m.b)(`Different composerState visibibility with same version number for conversation with id=${e.id}`) } return e.composerState }, j = e => { if (e && e.parts && 0 !== e.parts.length) return `${e.id}-${Object(g.a)(e.parts).id}` }, R = e => "partial" === e.fetchState, A = e => { const t = S(e); return 1 === e.parts.length ? N(e) : O({}, t, { messageType: M(t) }) }, N = e => { const { lastParticipatingAdmin: t } = e, n = t ? t.lastActiveAt : void 0, r = t ? t.isActive : void 0; return O({}, e.parts[0], { lastActiveAt: n, isActive: r }) }, M = e => e.messageType || "adminReply", P = e => !(!e.identifier.startsWith("custom_data.") && !e.identifier.startsWith("company.custom_data.")), U = (e, t) => { const n = e.attributes.find(e => e.identifier === t); if (n) return "string" === n.type && Array.isArray(n.options) ? "list" : "email" === n.identifier ? "email" : "phone" === n.identifier ? "phone" : n.type }, D = e => { const t = f()(e.parts, e => e.body); return p()(t, e => "messengerCard" === e.type) }, L = e => f()(D(e), e => d()(e, "type")), k = (e, t) => _()(D(e), { uri: t }), x = e => e.sort((e, t) => t.lastPartCreatedAt - e.lastPartCreatedAt), V = e => (e => e.composerState.visible && !e.inboundConversationsDisabled && !e.preventEndUserReplies)(e) && !(e => "attribute_collector" === e.parts[0].replyType)(e), G = e => e.parts && Object(g.a)(e.parts) && "pointer" === Object(g.a)(e.parts).messageType }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return p })), n.d(t, "c", (function () { return h })), n.d(t, "d", (function () { return findAndValidateInputField })), n.d(t, "e", (function () { return b })), n.d(t, "a", (function () { return DelayedNodeVisibilityCheck })); var r = n(159), i = n.n(r), s = n(20), o = n(24), c = n.n(o), a = n(11), u = n(4), d = n(25); function l(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function p(e) { const t = JSON.parse(a.b.get("tour_triggered_from_url")); if (t) { const n = t.indexOf(e.toString()); -1 !== n && (t.splice(n, 1), a.b.set("tour_triggered_from_url", JSON.stringify(t))) } } function h(e, t) { return t.hostname === e.hostname && t.pathname === e.pathname && t.hash === e.hash } const f = e => e.replace(/[\u200B-\u200D\uFEFF]/g, ""); class findAndValidateInputField{ constructor(e, t) { l(this, "elements", void 0), l(this, "callback", void 0), l(this, "destroyed", void 0), l(this, "validateInputs", () => { let e = !0; this.elements.forEach(t => { "checkbox" !== t.type && "radio" !== t.type && this.elementHasEmptyValue(t) && (e = !1) }), this.onChange(e) }), this.callback = t, this.destroyed = !1, this.elements = []; const n = window.parent.document.querySelector(e); if (n) { const e = n.tagName.toLowerCase(), t = "input" === e || "textarea" === e || "select" === e || n.isContentEditable; this.elements = t ? [n] : n.querySelectorAll("input, textarea, select, div[contenteditable]") } } onChange(e) { this.destroyed || this.callback(e) } destroy() { this.destroyed = !0, this.removeListeners() } elementHasEmptyValue(e) { return e instanceof HTMLSelectElement ? !f(e.options[e.selectedIndex].value) : e.isContentEditable ? !f(e.innerText || "") : !f(e.value) } addListeners() { this.elements.forEach(e => { "select" === e.tagName.toLowerCase() ? e.addEventListener("change", this.validateInputs) : e.addEventListener("input", this.validateInputs) }) } removeListeners() { this.elements.forEach(e => { "select" === e.type ? e.removeEventListener("change", this.validateInputs) : e.removeEventListener("input", this.validateInputs) }) } run() { if (!this.elements.length) return this.callback(!0); this.validateInputs(), this.addListeners() } } const b = function (...e) { c()("tours:debug")(...e) }; class DelayedNodeVisibilityCheck{ constructor(e, t, n, r) { l(this, "selector", void 0), l(this, "timeoutValue", void 0), l(this, "callback", void 0), l(this, "timeout", void 0), l(this, "waitTimeout", void 0), l(this, "document", void 0), l(this, "observer", void 0), Object(u.a)() ? Object(d.d)({ selector: e, timeoutValue: t, wait: n }, r) : (this.selector = e, this.timeoutValue = t, this.document = window.parent.document, this.callback = r, this.observer = new MutationObserver(i()(this._check.bind(this), 200)), this.waitTimeout = window.setTimeout(() => { this._initObserver(), this._startTimer(), this._check() }, n || 0)) } _initObserver() { this.document.body && this.observer.observe(this.document.body, { attributes: !0, childList: !0, subtree: !0 }) } _check() { const e = this.document.querySelector(this.selector); Object(s.u)(e) ? (this.callback(!0), this.cancel()) : this.callback(!1) } _startTimer() { (this.timeoutValue || 0 === this.timeoutValue) && (this.timeout = window.setTimeout(() => { this.callback(!1), this.cancel() }, this.timeoutValue)) } cancel() { this.observer.disconnect(), this.timeout && clearTimeout(this.timeout), this.waitTimeout && clearTimeout(this.waitTimeout) } } }, function (e, t, n) { "use strict"; n.d(t, "d", (function () { return c })), n.d(t, "c", (function () { return a })), n.d(t, "g", (function () { return u })), n.d(t, "h", (function () { return d })), n.d(t, "e", (function () { return l })), n.d(t, "b", (function () { return p })), n.d(t, "f", (function () { return h })), n.d(t, "j", (function () { return f })), n.d(t, "i", (function () { return b })); var r = n(4); const i = /iphone|ipad|ipod|android|blackberry|opera mini|iemobile/i, s = [".intercom-lightweight-app-launcher", ".intercom-launcher-frame", "#intercom-container", ".intercom-messenger", ".intercom-notifications"]; function o(e) { try { if (!(e in window)) return !1; const t = window[e]; return null !== t && (t.setItem("intercom-test", "0"), t.removeItem("intercom-test"), !0) } catch (e) { return !1 } } function c() { return o("localStorage") } function a() { return !!(window.FileReader && window.File && window.FileList && window.FormData) } function u() { const e = p().userAgent; return !!e && (null !== e.match(i) && void 0 !== window.parent) } function d() { const e = p().vendor || "", t = p().userAgent || ""; return 0 === e.indexOf("Apple") && /\sSafari\//.test(t) } function l(e = window) { const t = p(), n = "Google Inc." === t.vendor && !e.chrome; return "" === t.languages && (t.webdriver || n) } function p() { return navigator || {} } function h(e = p().userAgent) { return /iPad|iPhone|iPod/.test(e) && !window.MSStream } function f() { return !Object(r.a)() && s.some(e => { const t = window.parent.document.querySelector(e); if (t) { const e = window.getComputedStyle(t); return null === e || "none" === e.display } }) } const b = () => "ontouchstart" in window || navigator.maxTouchPoints > 0; t.a = { hasXhr2Support: function () { return "XMLHttpRequest" in window && "withCredentials" in new XMLHttpRequest }, hasLocalStorageSupport: c, hasSessionStorageSupport: function () { return o("sessionStorage") }, hasFileSupport: a, hasAudioSupport: function () { const e = document.createElement("audio"); return !!e.canPlayType && !!e.canPlayType("audio/mpeg;").replace(/^no$/, "") }, hasVisibilitySupport: function () { return void 0 !== document.hidden || void 0 !== document.mozHidden || void 0 !== document.msHidden || void 0 !== document.webkitHidden }, messengerIsVisible: function () { return !!Object(r.a)() || s.some(e => { const t = window.parent.document.querySelector(e); if (t) { const e = t.getBoundingClientRect(); return e && e.width > 0 && e.height > 0 } }) }, messengerHasDisplayNoneSet: f, isMobileBrowser: u, isIOSFirefox: function () { return !!p().userAgent.match("FxiOS") }, isFirefox: function () { return !!p().userAgent.match("Firefox") }, isSafari: d, isElectron: function () { const e = p().userAgent || "", t = (Object(r.a)() ? window : window.parent) || {}, n = t.process && t.versions && t.versions.electron; return /\sElectron\//.test(e) || n }, isIE: function () { const e = p().userAgent || ""; return e.indexOf("MSIE") > 0 || e.indexOf("Trident") > 0 }, isEdge: function () { return (p().userAgent || "").indexOf("Edge") > 0 }, isNativeMobile: function () { return p().isNativeMobile }, isChrome: function () { const e = window.chrome, t = p().vendor, n = p().userAgent.indexOf("OPR") > -1, r = p().userAgent.indexOf("Edge") > -1; return !!p().userAgent.match("CriOS") || null != e && "Google Inc." === t && !1 === n && !1 === r }, isIOS: h, isAndroid: function (e = p().userAgent) { return e && e.toLowerCase().indexOf("android") > -1 } } }, function (e, t, n) { "use strict"; n.d(t, "e", (function () { return l })), n.d(t, "j", (function () { return p })), n.d(t, "a", (function () { return h })), n.d(t, "f", (function () { return f })), n.d(t, "g", (function () { return b })), n.d(t, "b", (function () { return _ })), n.d(t, "m", (function () { return g })), n.d(t, "c", (function () { return m })), n.d(t, "k", (function () { return O })), n.d(t, "q", (function () { return E })), n.d(t, "l", (function () { return S })), n.d(t, "i", (function () { return v })), n.d(t, "d", (function () { return y })), n.d(t, "p", (function () { return C })), n.d(t, "o", (function () { return I })), n.d(t, "n", (function () { return T })), n.d(t, "h", (function () { return w })); var r = n(0), i = n(43), s = n(6), o = n(16), c = n(80), a = n(125); const u = ({ viewStack: e }) => e, d = Object(r.createSelector)(u, e => !!e && e.length > 1), l = Object(r.createSelector)(u, e => e && e.length > 0 ? e[e.length - 1] : void 0), p = Object(r.createSelector)(u, e => !e || 0 === e.length), h = e => e.app.accessToTeammateEnabled, f = ({ app: e }) => l(e), b = ({ app: e }) => d(e), _ = Object(r.createSelector)(e => e.app, e => e.user, a.a, (e, t, n) => !e.inboundConversationsDisabled && (t.preventMultipleInboundConversation ? !n : "user" === t.role ? e.features.inboundMessages : e.features.anonymousInboundMessages)), g = e => { const { app: t } = e; return t.launcherLogoUrl }, m = Object(r.createSelector)([_, e => e.app.helpCenterSiteUrl], (e, t) => !e && !!t), O = (e, { currentView: t }) => "home-screen" !== t && "empty-screen" !== t, E = e => { if (!e) return !1; const { officeHoursResponse: t } = e.app, n = { only_outside_of_office_hours: !!t, always: !0, never: !1 }, { role: r, userSuppliedEmail: c } = e.user, { upfrontEmailCollectionSetting: a, upfrontEmailCollectionSubmitted: u } = e.app.upfrontEmailCollection, d = e.session && e.session.email, l = Object(i.b)(e); return (!l || !l.isEmailAttributeCollectorInserted) && (!c && (-1 !== ["visitor", "lead"].indexOf(r) && (!d && (!u && (!function (e) { return !!e && (Object(s.i)(e) && !Object(o.a)(e.parts).author.isBot) }(l) && n[a]))))) }; const S = Object(r.createSelector)(e => e.app.isIntercomLinkEnabled, c.b, (e, t) => e && !t), v = Object(r.createSelector)(c.f, f, (e, t) => !(!e || "new-conversation" !== t)), y = e => e.app.color, C = e => e.user.searchRequiredBeforeConversation, I = Object(r.createSelector)(C, _, h, (e, t, n) => e && t && n), T = Object(r.createSelector)(_, h, (e, t) => e && t), w = e => e.app.hideLightweightAppMessenger }, function (e, t, n) { "use strict"; var r = n(9), i = n(93), s = n(42), o = n(72), c = n(0), a = Object(c.createSelector)(e => Object(o.a)(e.conversations.byId), e => e.filter(e => !e.read && e.dismissed)), u = n(54), d = n(101), l = n(2), p = n(5), h = n(68), f = n(47), b = n(1); const _ = "delivered", g = "renotifying"; n.d(t, "e", (function () { return O })), n.d(t, "l", (function () { return E })), n.d(t, "a", (function () { return v })), n.d(t, "j", (function () { return y })), n.d(t, "k", (function () { return C })), n.d(t, "i", (function () { return I })), n.d(t, "h", (function () { return j })), n.d(t, "f", (function () { return R })), n.d(t, "g", (function () { return A })), n.d(t, "c", (function () { return M })), n.d(t, "d", (function () { return L })), n.d(t, "m", (function () { return k })); const { assign: m } = Object; function O() { return (e, t) => { const { launcherDiscoveryMode: { isLauncherDiscoveryModeOpening: n } } = t(); n ? (e(Object(i.d)()), setTimeout(() => e(E()), 100), setTimeout(() => e(Object(i.a)()), 100)) : e(E()) } } function E() { return (e, t) => { const { conversations: n, borderless: { conversationId: r } } = t(), i = n.byId[r]; r ? (e(A(r)), function (e) { return e && -1 !== [_, g].indexOf(e.notificationStatus) }(i) && e(Object(p.p)(l.b, r, ["opened"]))) : e((e, t) => { const { app: { isMessengerOpen: n } } = t(); e(n ? v() : e => { e(P()), e(S()), e(Object(h.a)()) }) }) } } function S(e = !1) { return { type: "OPEN_MESSENGER", hideLightweightAppMessenger: e } } function v(e = !1) { return { type: "CLOSE_MESSENGER", fromCloseButton: e } } function y(e = "", t = !1, n = null) { return { type: "SHOW_NEW_CONVERSATION", defaultMessage: e, replaceCurrentView: t, articleUrl: n } } function C(e = !1) { return { type: "SHOW_SEARCH_BROWSE", skipOpenAnimation: e } } function I() { return { type: "SHOW_CONVERSATIONS" } } function T() { return { type: "SHOW_EMPTY_SCREEN" } } function w(e = !1) { return { type: "SHOW_MESSENGER_TRIGGER_SCREEN", replaceCurrentView: e } } function j() { return e => { e(w(!0)), e(S()) } } function R(e) { return t => { t(Object(f.a)(e)), t(S()) } } function A(e) { return t => { t(Object(h.a)()), t(R(e)), t(Object(p.l)(l.b, e)) } } function N(e) { return t => { t(Object(f.a)(e)), t(Object(p.l)(l.b, e)) } } function M(e) { return t => t(Object(p.l)(l.b, e)).then(() => t(R(e))) } function P() { return (e, t) => { const n = t(), { app: r, user: i, message: o } = n, { features: c, inboundConversationsDisabled: l, viewStack: p, isBooting: f } = r, { hasConversations: b, articleConversationId: _ } = i, g = Object(u.b)(n), m = Object(d.k)(n), O = Object(s.a)(n), E = a(n), S = function (e, t) { return "user" === e.role && t.inboundMessages || "user" !== e.role && t.anonymousInboundMessages }(i, c); f || (S ? g > 1 ? (e({ type: "SHOW_HOME_SCREEN" }), U(i, "homescreen")) : o && o.conversationId ? (e(N(o.conversationId)), e(Object(h.a)()), U(i, "conversation-from-auto-message")) : 1 === O.length ? (e(N(O[0].id)), U(i, "conversation-from-notification")) : 1 === E.length ? (e(N(E[0].id)), U(i, "conversation-from-dismissed")) : _ ? (e(N(_)), U(i, "conversation-from-article")) : p.length || (m || b ? (e({ type: "SHOW_HOME_SCREEN" }), U(i, "homescreen")) : l ? m ? (e({ type: "SHOW_HOME_SCREEN" }), U(i, "homescreen")) : (e({ type: "SHOW_EMPTY_SCREEN" }), U(i, "empty-screen")) : (e(y()), U(i, "new-conversation"))) : (e({ type: "SHOW_EMPTY_SCREEN" }), U(i, "empty-screen"))) } } function U(e, t = "homescreen") { b.j.buildAndAddMetric(e, t, "initial-screen", "messenger", "from_launcher") } function D(e, t) { const n = t(), i = function (e) { return m({}, e, { viewStack: e.viewStack.slice(0, -1) }) }(n.app); Object(r.g)(n) && "messenger-trigger" === Object(r.e)(i) ? e({ type: "SHOW_HOME_SCREEN" }) : Object(r.g)(n) ? e({ type: "MESSENGER_NAVIGATE_BACK" }) : e({ type: "SHOW_HOME_SCREEN" }) } function L() { return D } function k() { return { type: "TOGGLE_UPFRONT_EMAIL_COLLECTOR_STATE" } } t.b = { closeMessenger: v, getAndOpenConversation: M, navigateBack: L, onLauncherClick: O, openConversation: R, openConversationInMessenger: A, openConversations: function () { return e => { e({ type: "SHOW_CONVERSATIONS" }), e(S()) } }, openMessenger: S, openNewConversation: function (e) { return (t, n) => { n().app.inboundConversationsDisabled || t(y(e)), t(S()) } }, showAndGetConversation: N, showConversation: f.a, showConversations: I, showEmptyScreen: T, showMessengerTriggerScreen: w, showInitialScreen: P, showNewConversation: y, showSearchBrowse: C, toggleMessenger: E, toggleUpfrontEmailCollectorState: k, openMessengerLoadingView: j } }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return c })), n.d(t, "b", (function () { return a })); var r = n(4), i = n(97), s = n(8); const o = e => ({ get: t => { try { return e.getItem(`intercom.${t}`) } catch (e) { } }, set: (t, n) => { try { return e.setItem(`intercom.${t}`, n || "") } catch (e) { } }, remove: t => { try { return e.removeItem(`intercom.${t}`) } catch (e) { } }, clear: () => { try { e.clear() } catch (e) { } } }), c = Object(r.a)() ? Object(i.b)() : s.a.hasLocalStorageSupport() ? o(localStorage) : { get: () => { }, set: () => { }, remove: () => { }, clear: () => { } }, a = Object(r.a)() ? Object(i.c)() : s.a.hasSessionStorageSupport() ? o(sessionStorage) : { get: () => { }, set: () => { }, remove: () => { }, clear: () => { } } }, , function (e, t, n) { "use strict"; let r = 0; t.a = (e, t = {}, n) => { const i = { type: e, payload: t }; if (n) { i.callbackId = r++; const e = t => { const { type: r, callbackId: s, payload: o } = t.data; "intercom:callback" === r && s === i.callbackId && (window.removeEventListener("message", e), n(o)) }; window.addEventListener("message", e) } window.parent.postMessage(i, "*") } }, function (e, t, n) { "use strict"; function r(e) { console && console.warn(e) } function i(e) { console && console.error(e) } n.d(t, "b", (function () { return r })), n.d(t, "a", (function () { return i })) }, function (e, t, n) { "use strict"; n.d(t, "h", (function () { return l })), n.d(t, "b", (function () { return p })), n.d(t, "d", (function () { return h })), n.d(t, "e", (function () { return f })), n.d(t, "i", (function () { return b })), n.d(t, "c", (function () { return _ })), n.d(t, "a", (function () { return g })), n.d(t, "f", (function () { return m })), n.d(t, "g", (function () { return O })); var r, i = n(4), s = n(25); function o(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function c(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? o(Object(n), !0).forEach((function (t) { a(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : o(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function a(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } let u = null === (r = window) || void 0 === r ? void 0 : r.parent, d = []; const l = e => { u = e, Object(i.a)() || window.parent.addEventListener("resize", e => d.forEach(t => t(e))) }, p = () => { var e, t; return Object(i.a)() ? u.title : null === (e = u) || void 0 === e ? void 0 : null === (t = e.document) || void 0 === t ? void 0 : t.title }, h = () => { var e; return Object(i.a)() ? u.location : null === (e = u) || void 0 === e ? void 0 : e.location }, f = () => { var e, t; return Object(i.a)() ? u.referrer : null === (e = u) || void 0 === e ? void 0 : null === (t = e.document) || void 0 === t ? void 0 : t.referrer }, b = e => { Object(i.a)() && (u = c(c({}, u), e), d.forEach(e => e(u))) }, _ = () => { var e, t; return { innerWidth: null === (e = u) || void 0 === e ? void 0 : e.innerWidth, innerHeight: null === (t = u) || void 0 === t ? void 0 : t.innerHeight } }, g = e => { d.push(e) }, m = e => d = d.filter(t => t !== e), O = e => Object(s.k)(e) }, function (e, t, n) { "use strict"; t.a = e => { if (e) return e[e.length - 1] } }, function (e, t, n) { "use strict"; n.d(t, "f", (function () { return h })), n.d(t, "d", (function () { return f })), n.d(t, "e", (function () { return b })), n.d(t, "h", (function () { return _ })), n.d(t, "m", (function () { return g })), n.d(t, "a", (function () { return m })), n.d(t, "l", (function () { return O })), n.d(t, "c", (function () { return E })), n.d(t, "j", (function () { return S })), n.d(t, "i", (function () { return v })), n.d(t, "k", (function () { return I })), n.d(t, "b", (function () { return T })), n.d(t, "g", (function () { return w })); var r = n(12), i = n.n(r), s = n(8), o = n(14), c = n(1); let a = !1, u = !1, d = !1, l = !1, p = !1; const h = e => !!e && !!e[0] && "attachmentList" === e[0].type, f = e => { if (e) return e.isActive ? "active" : "away" }, b = e => { if (!e || !e.lastActiveAt) return; const t = new Date; return Math.round((t.getTime() - e.lastActiveAt.getTime()) / 6e4) }, _ = e => i()(e), g = e => { a = e }, m = () => a, O = e => { u = e }, E = () => u; function S(e, t) { try { const n = C(), r = e.parts[e.parts.length - 1].author.isBot; if (n || !r || !t) return; Object(c.g)("timeToFirstBotResponse", { duration_ms: Date.now() - t }), y(!0) } catch (e) { Object(o.a)(`Failure while recording trigger transition duration ${e}`) } } function v(e, t, n) { try { let r = p; const i = e.parts[e.parts.length - 1].author.isBot; if (r || !i || !t || Math.abs(n - t) > 50) return void (p = !0); Object(c.g)("durationFromCreateConversationToOperatorReply", { duration_ms: Date.now() - t }), p = !0 } catch (e) { Object(o.a)(`Failure while recording trigger transition duration ${e}`) } } const y = e => { l = e }, C = () => l, I = e => { d = e }, T = () => d, w = e => !!e && s.a.messengerIsVisible() }, , function (e, t, n) { "use strict"; n.d(t, "k", (function () { return s })), n.d(t, "c", (function () { return o })), n.d(t, "i", (function () { return c })), n.d(t, "g", (function () { return a })), n.d(t, "a", (function () { return u })), n.d(t, "j", (function () { return d })), n.d(t, "d", (function () { return l })), n.d(t, "e", (function () { return p })), n.d(t, "f", (function () { return h })), n.d(t, "l", (function () { return f })), n.d(t, "o", (function () { return b })), n.d(t, "n", (function () { return _ })), n.d(t, "b", (function () { return g })), n.d(t, "m", (function () { return O })), n.d(t, "h", (function () { return E })); var r = n(0); const i = e => e.tour, s = (Object(r.createSelector)(i, e => e.isFetching), Object(r.createSelector)(i, e => e.isFetched)), o = (Object(r.createSelector)(i, e => e.fetchingFailed), Object(r.createSelector)(i, e => e.activeTour)), c = Object(r.createSelector)(i, e => e.isPreviewing), a = Object(r.createSelector)(i, e => e.updateFailed), u = Object(r.createSelector)(i, e => { if (e.activeTour) return e.activeTour.author }), d = Object(r.createSelector)(i, e => !(!e.activeTour || !e.activeTour.isCompleted)), l = Object(r.createSelector)(i, e => { if (e.activeTour) return e.activeTour.steps.length }), p = Object(r.createSelector)(i, e => { const t = e.activeTour; if (t) return t.steps.findIndex(e => e.id === t.activeStepId) }), h = Object(r.createSelector)(i, e => { const t = e.activeTour; if (!t) return; const { steps: n, activeStepId: r } = t; return t ? n.find(e => e.id === r) : void 0 }), f = Object(r.createSelector)(i, e => { const t = e.activeTour; if (!t) return; const { steps: n, activeStepId: r } = t, i = n.findIndex(e => e.id === r); return n[i + 1] }), b = Object(r.createSelector)(i, e => e.videoAudioMuted), _ = Object(r.createSelector)(i, e => e.userHasInteractedWithVideo), g = Object(r.createSelector)(i, e => { const t = e.activeTour; if (t) return t.endTourAnimation }), m = Object(r.createSelector)(p, l, (e, t) => e + 1 === t), O = Object(r.createSelector)(g, m, (e, t) => "confetti" === e && t), E = Object(r.createSelector)(i, e => e.isAwaitingProgress) }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return i })), n.d(t, "l", (function () { return s })), n.d(t, "m", (function () { return o })), n.d(t, "B", (function () { return c })), n.d(t, "s", (function () { return a })), n.d(t, "f", (function () { return u })), n.d(t, "r", (function () { return d })), n.d(t, "z", (function () { return l })), n.d(t, "e", (function () { return p })), n.d(t, "A", (function () { return h })), n.d(t, "b", (function () { return f })), n.d(t, "x", (function () { return b })), n.d(t, "c", (function () { return _ })), n.d(t, "y", (function () { return g })), n.d(t, "d", (function () { return m })), n.d(t, "j", (function () { return O })), n.d(t, "o", (function () { return E })), n.d(t, "h", (function () { return S })), n.d(t, "g", (function () { return v })), n.d(t, "q", (function () { return y })), n.d(t, "n", (function () { return C })), n.d(t, "w", (function () { return I })), n.d(t, "v", (function () { return T })), n.d(t, "t", (function () { return w })), n.d(t, "u", (function () { return j })), n.d(t, "p", (function () { return R })), n.d(t, "i", (function () { return A })), n.d(t, "k", (function () { return N })); var r = n(37); const i = { TAB: 9, ENTER: 13, ESC: 27, SPACE: 32, BACKSPACE: 8, DELETE: 46 }, s = e => e.scrollHeight - e.clientHeight - e.scrollTop, o = e => e.scrollTop / (e.scrollHeight - e.clientHeight), c = (e, t = 0) => { e && (e.scrollTop = t) }, a = (e, t = 0) => { const { scrollTop: n, scrollHeight: r, clientHeight: i } = e; return r - n - i < t + 1 }, u = e => { if (!e) return 0; const { scrollTop: t, scrollHeight: n, clientHeight: r } = e; return n - r - t }, d = e => { const { scrollHeight: t, clientHeight: n } = e; return t > n }, l = e => { const { scrollHeight: t, clientHeight: n } = e; e.scrollTop = t - n }, p = e => { const { scrollHeight: t, clientHeight: n } = e; if (!e.scrollBy) return l(e); e.scrollBy({ top: t - n, left: 0, behavior: "smooth" }) }, h = (e, t) => { const { bottom: n, top: r, height: i } = e.getBoundingClientRect(), { bottom: s, top: o, height: c } = t.getBoundingClientRect(); if (!(r < o) && !(n > s)) return; let a = e.offsetTop; for (; e;){ const { position: t } = window.getComputedStyle(e); "relative" === t && (a += e.offsetTop - e.scrollTop + e.clientTop), e = e.offsetParent } t.scrollTop = a - Math.trunc(c / 2) + Math.trunc(i / 2) }, f = (e, t) => { const n = e.className.split(" "); n.some(e => e === t) || (n.push(t), e.className = n.join(" ").trim()) }, b = (e, t) => { e.className = e.className.split(" ").filter(e => e !== t).join(" ") }, _ = (e, t, n, r = !1) => { null != e && (e.addEventListener ? e.addEventListener(t, n, r) : e.attachEvent && e.attachEvent(`on${t}`, n)) }, g = (e, t, n) => { null != e && (e.removeEventListener ? e.removeEventListener(t, n) : e.detachEvent && e.detachEvent(`on${t}`, n)) }, m = e => { const t = e.currentTarget, { scrollTop: n, scrollHeight: r, clientHeight: i } = t, { deltaY: s } = e, o = s > 0; o && s > r - i - n ? t.scrollTop = r : !o && -s > n ? t.scrollTop = 0 : e.stopPropagation() }, O = e => { if (e && "selectionStart" in e) return e.selectionStart }, E = (e, t, n) => e.slice(0, n) + t + e.slice(n), S = (e, t = -1) => { e && (e.focus(), "setSelectionRange" in e && t >= 0 && e.setSelectionRange(t, t)) }; function v(e, t, n) { const r = e.document || e.ownerDocument; return e => { const i = []; Array.from(r.querySelectorAll(t)).forEach(e => i.push(e)); let { target: s } = e; for (; s && s !== this;){ if (i.indexOf(s) > -1) { n.call(s, e); break } s = s.parentNode } } } const y = e => void 0 !== e.hidden ? !e.hidden : void 0 !== e.mozHidden ? !e.mozHidden : void 0 !== e.msHidden ? !e.msHidden : void 0 === e.webkitHidden || !e.webkitHidden, C = () => { let e; return void 0 !== document.hidden ? e = "visibilitychange" : void 0 !== document.mozHidden ? e = "mozvisibilitychange" : void 0 !== document.msHidden ? e = "msvisibilitychange" : void 0 !== document.webkitHidden && (e = "webkitvisibilitychange"), e }, I = (e, t = {}) => { const n = document.createElement("form"); n.setAttribute("target", "_blank"), n.setAttribute("method", "post"), n.setAttribute("action", e), Object.keys(t).forEach(e => { const r = document.createElement("input"); r.type = "hidden", r.name = e, r.value = t[e], n.appendChild(r) }), document.body.appendChild(n), n.submit(), document.body.removeChild(n) }, T = e => t => (t.keyCode === i.ENTER || t.keyCode === i.SPACE) && e(t), w = e => e.keyCode === i.TAB && !(-1 !== ["INPUT", "TEXTAREA", "BUTTON"].indexOf(e.target.tagName)), j = e => { if (e) return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length) }, R = e => e.keyCode === i.ESC, A = e => Array.from(e.querySelectorAll('button, [href], input:not([type="file"]):not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')).filter(e => !e.closest('[aria-hidden="true"]')), N = e => Object(r.b)(e) ? "rtl" : "ltr" }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return r })); function r() { const e = (new Date).getTime(); return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, t => { const n = (e + 16 * Math.random()) % 16 | 0; return ("x" === t ? n : 3 & n | 8).toString(16) }) } t.a = { generateUUID: r } }, function (e, t, n) { "use strict"; n.d(t, "g", (function () { return r })), n.d(t, "h", (function () { return i })), n.d(t, "c", (function () { return s })), n.d(t, "d", (function () { return o })), n.d(t, "e", (function () { return c })), n.d(t, "f", (function () { return a })), n.d(t, "i", (function () { return u })), n.d(t, "a", (function () { return d })), n.d(t, "b", (function () { return l })); const r = "search_browse_card", i = "search_browse_card_input", s = "article", o = "collection", c = "input", a = "reaction", u = "search_browse", d = "search_browse", l = "search_browse_article" }, , , function (e, t, n) { "use strict"; var r = e => ({ data: t }) => { const { type: n, payload: r } = t, i = e[n]; i && i(r) }, i = n(13), s = () => Object(i.a)("intercom:ready"), o = (e, t, n) => Object(i.a)("intercom:create-or-update-frame", { name: e, styles: t }, n), c = e => Object(i.a)("intercom:destroy-frame", { name: e }), a = e => Object(i.a)("intercom:write-cookie", { cookie: e }), u = e => Object(i.a)("intercom:request-animation-frame", {}, e), d = (e, t) => Object(i.a)("intercom:open-url", { url: e, openNatively: t }), l = (e, t, n) => Object(i.a)("intercom:set-storage-item", { key: e, value: t, type: n }), p = (e, t) => Object(i.a)("intercom:remove-storage-item", { key: e, type: t }), h = e => Object(i.a)("intercom:get-storage", {}, e), f = (e, t) => Object(i.a)("intercom:get-dom-element", { selector: e }, t), b = (e, t) => Object(i.a)("intercom:delayed-node-visibility-check", e, t); let _ = 0; var g = (e, t = {}, n) => { const r = _++, i = { type: "intercom:add-event-listener", event: e, payload: t, listenerId: r }, s = e => { const { type: t, listenerId: r, payload: s } = e.data; "intercom:event" === t && r === i.listenerId && n(s) }; return window.addEventListener("message", s), window.parent.postMessage(i, "*"), () => { (e => { window.parent.postMessage({ type: "intercom:remove-event-listener", listenerId: e }, "*") })(r), window.removeEventListener("message", s) } }; n.d(t, "b", (function () { return r })), n.d(t, "i", (function () { return s })), n.d(t, "c", (function () { return o })), n.d(t, "e", (function () { return c })), n.d(t, "m", (function () { return a })), n.d(t, "l", (function () { return l })), n.d(t, "j", (function () { return p })), n.d(t, "g", (function () { return h })), n.d(t, "k", (function () { return u })), n.d(t, "h", (function () { return d })), n.d(t, "f", (function () { return f })), n.d(t, "d", (function () { return b })), n.d(t, "a", (function () { return g })) }, function (e, t, n) { "use strict"; n.d(t, "d", (function () { return r })), n.d(t, "a", (function () { return i })), n.d(t, "b", (function () { return s })), n.d(t, "e", (function () { return o })), n.d(t, "c", (function () { return c })), n.d(t, "f", (function () { return a })); const r = () => "intercom-id", i = e => `intercom-id-${e}`, s = e => `intercom-session-${e}`, o = () => "_mkto_trk", c = () => "hubspotutk", a = () => "1" === navigator.doNotTrack }, , function (e, t, n) { "use strict"; function r(e) { if (null != e) return new Date(1e3 * e) } function i(e) { return Date.now() - 1e3 * e } n.d(t, "c", (function () { return r })), n.d(t, "a", (function () { return i })), t.b = { timestampToDate: r, now: function () { return function () { const e = Date.now; return "function" == typeof e && !("prototype" in e) }() ? Date.now() : (new Date).getTime() }, calculateDurationInMs: i } }, function (e, t, n) { "use strict"; var r = n(72), i = n(0), s = n(6); t.a = Object(i.createSelector)([e => Object(r.a)(e.conversations.byId), e => e.notificationTypeOverrides], (e, t) => e.filter(e => !Object(s.m)(e)).map(e => ((e, t) => { const n = Object(s.g)(e); return Object.assign({}, e, { suppress: t.suppress[n] || !1, forceSnippet: t.forceSnippet[n] || !1 }) })(e, t))) }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return s })); var r = n(14), i = n(48); const s = (e, t, n) => (s, d) => { const { messengerCards: l } = d(), p = n && l && l[t.uri], h = Object(i.c)(t); if (s(c(h)), p && o(p.card) && !h.canvas.content && (h.canvas = Object.assign({}, h.canvas, p.card.canvas)), h.canvas.content) return void s(a(h, h.canvas.content)); const { session: f } = d(); return e.getMessengerCanvasWithContent(f, h.canvas.id, h.uri).then(e => { s(a(h, e.content)) }).catch(e => { s(u(h)), Object(r.a)(`There was a problem retrieving the live card content: ${e}`) }) }, o = e => !(!e || !e.canvas), c = e => ({ type: "GET_CARD_CONTENT_REQUEST", card: e }), a = (e, t) => ({ type: "GET_CARD_CONTENT_SUCCESS", card: e, content: t }), u = e => ({ type: "GET_CARD_CONTENT_FAILURE", card: e }) }, function (e, t, n) { "use strict"; var r = n(12), i = n.n(r), s = n(49), o = n.n(s), c = n(19), a = n(10), u = n(55), d = n(1), l = n(7), p = n(2), h = n(58); function f(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } class tour_progress_CheckIfTourReadyToProgress{ constructor(e, t) { f(this, "whenReady", void 0), f(this, "state", void 0), f(this, "activeStep", void 0), f(this, "nextStep", void 0), this.state = e, this.whenReady = t, this.activeStep = Object(c.f)(e), this.nextStep = Object(c.l)(e), this._check() } _check() { return "click" === this.activeStep.progressionBehavior ? (Object(l.e)("Click to progress behavior detected."), this._evaluateProgressionByClick()) : this.whenReady() } _evaluateProgressionByClick() { let e = 0, t = 0; this._pageNeedsRedirection() ? (Object(l.e)("Step url for the next step is different so the tour will wait 2s for the page to reload"), e = 2e3) : Object(l.e)("No page redirection detected."), this._nextStepIsPointer() && (Object(l.e)("The page is going to wait upto 5s for the next step's selector to become visible in page"), t = 5e3), new l.a(this.nextStep.selector, t, e, this.whenReady) } _pageNeedsRedirection() { return this.activeStep.url !== this.nextStep.url } _nextStepIsPointer() { return !!this.nextStep.selector } } var b = n(11), _ = n(8); n.d(t, "e", (function () { return m })), n.d(t, "h", (function () { return O })), n.d(t, "c", (function () { return v })), n.d(t, "f", (function () { return y })), n.d(t, "b", (function () { return C })), n.d(t, "d", (function () { return T })), n.d(t, "a", (function () { return j })), n.d(t, "k", (function () { return R })), n.d(t, "i", (function () { return A })), n.d(t, "g", (function () { return N })), n.d(t, "j", (function () { return M })); function g(e) { return Object(c.g)(e) || Object(c.i)(e) || Object(c.j)(e) } function m() { return async (e, t) => { const n = t(), { session: r } = t(), { id: i, progressId: s } = Object(c.c)(n), o = Object(c.l)(n); if (o) { if (Object(l.e)(`Tour with id ${i} is attempting to progress to step ${o}`), !g(n)) { e({ type: "PROGRESS_TOUR_REQUEST_STARTED" }); try { await p.b.progressTour(r, i, o.id, s) } catch (t) { e({ type: "TOUR_UPDATE_FAILED" }), Object(l.e)(`Could not update tour due to e=${t}`) } } Object(c.i)(n) && b.b.set("tour_progress_preview", o.id), new tour_progress_CheckIfTourReadyToProgress(n, () => { e(function (e, t) { return { type: "PROGRESS_TOUR", activeStepId: e, progressId: t } }(o.id, s)), e({ type: "PROGRESS_TOUR_REQUEST_FINISHED" }) }) } else window.parent && window.parent.postMessage("exit_tour_preview", "*"), function (e) { E("intercom:tourComplete", { tourId: e }) }(i), e(function (e) { return { type: "COMPLETE_TOUR", progressId: e } }(s)) } } function O() { return async (e, t) => { const n = t(), { session: r } = t(), { id: i, progressStartUrl: s } = Object(c.c)(n); if (!Object(c.i)(n)) { e({ type: "RESET_TOUR" }); try { var o, a; await p.b.resetTour(r, i), Object(l.b)(i); const t = window.parent; s && !Object(l.c)(s, null === (o = window) || void 0 === o ? void 0 : null === (a = o.parent) || void 0 === a ? void 0 : a.location) ? t.__intercomAssignLocation(s) : e(N(i)) } catch (e) { Object(l.e)(`Could not reset tour due to exception - ${e}`) } } } } function E(e, t) { if (!Object(h.a)()) return; const n = new CustomEvent(e, { detail: t }); window.parent.document.dispatchEvent(n) } function S(e) { E("intercom:tourError", { tourId: e }) } function v() { return (e, t) => { const n = t(), { id: r, progressId: i } = Object(c.c)(n), { session: s } = t(); Object(l.e)(`Tour with id ${r} marked as complete`), g(n) || (e({ type: "MARK_ACTIVE_TOUR_AS_COMPLETED" }), p.b.completeTour(s, r, i)) } } function y() { return (e, t) => { const n = t(), { id: r, progressId: i } = Object(c.c)(n), s = Object(c.f)(n); var o, a, u; if (!g(n)) return S(r), p.b.recordTourFailure(n.session, r, s.id, s.selector, null === (o = window) || void 0 === o ? void 0 : null === (a = o.parent) || void 0 === a ? void 0 : null === (u = a.location) || void 0 === u ? void 0 : u.pathname, i) } } function C() { return e => { var t, n; if (Object(_.g)()) return; const r = I(null === (t = window) || void 0 === t ? void 0 : null === (n = t.parent) || void 0 === n ? void 0 : n.location); if (Object(l.e)("Checking if URL has tour attached"), r) { const t = "tour_triggered_from_url"; let n = JSON.parse(b.b.get(t)); n = n || [], n.indexOf(r) > -1 ? Object(l.e)(`Tour with id ${r} has already been triggered`) : (Object(l.e)(`Tour id ${r} attached in the url`), e(T(r)), n.push(r), b.b.set(t, JSON.stringify(n))) } else Object(l.e)("No attached tour found in the URL") } } const I = e => { if (!e) return; let t = Object(u.a)(e).product_tour_id; if (!t) { const n = e.toString(); if (!n) return; const r = n.match(/product_tour_id=(\d+)/i); r && (t = r[1]) } return t }; function T(e) { return async (t, n) => { const r = Object(c.c)(n()), { session: i } = n(); if (r) Object(l.e)(`Active tour with id ${r.id} already found so tour id ${e} won't be fetched`); else { Object(l.e)(`Will attempt to fetch tour with id ${e}`); try { t(R(await p.b.fetchTour({ session: i, tourId: e }))) } catch (t) { e && S(e), Object(l.e)(`Could not fetch or start tour due to e=${t}`) } } } } function w(e, t) { return { type: "FETCH_TOUR_SUCCESS", tour: e, isPreviewingTour: t } } function j(e) { return { type: "CHANGE_VIDEO_MUTED", muted: e } } function R(e) { return (t, n) => { const { user: r } = n(), s = Object(c.c)(n()); if (!i()(s)) return Object(l.e)("There is already an active tour", s), void Object(l.e)("The tour won't attempt to start", e); const u = function (e) { if (!e.steps) return; const { activeStepId: t, steps: n } = e, r = n.findIndex(e => parseInt(e.id, 10) === parseInt(t, 10)), i = n.slice(r).find(e => !o()(e.selector)); return i ? i.selector : void 0 }(e); u ? (Object(l.e)("Checking if selector of the first active pointer step is visible on the page", e), new l.a(u, null, 0, n => { n ? (Object(l.e)("Node is visible. Tour is attempting to start", e), t(w(e, !1)), t(Object(a.a)()), Object(d.h)(r, "received", "tour", "messenger", null, { tour_id: e.id })) : (Object(l.e)("Node is not visible. Tour will not start", e), function (e, t) { Object(h.a)() && (Object(d.c)("tour_failed_css_evaluation", { tour_id: e }), Object(d.b)(`tour_failed_css_evaluation tour_id=${e}`)), Object(d.h)(t, "received_but_failed_css_evaluation", "tour", "messenger", null, { tour_id: e }) }(e.id, r), S(e.id)) })) : (Object(l.e)("Tour is attempting to start", e), t(w(e, !1)), t(Object(a.a)()), Object(d.h)(r, "received", "tour", "messenger", null, { tour_id: e.id })) } } function A(e) { return t => { t(w(e, !0)), t(Object(a.a)()) } } function N(e) { return async (t, n) => { const { session: r } = n(); try { var i, s; const n = await p.b.fetchTour({ session: r, tourId: e }), o = window.parent, c = Object(u.b)(n.url); n.url && !Object(l.c)(c, null === (i = window) || void 0 === i ? void 0 : null === (s = i.parent) || void 0 === s ? void 0 : s.location) ? o.__intercomAssignLocation(n.url) : (t(w(n, !1)), t(Object(a.a)())) } catch (t) { S(e), Object(l.e)(`Could not fetch or start tour due to e=${t}`) } } } function M() { return (e, t) => { const n = t(); if (g(n)) e(P("")); else { const { session: r } = t(), { id: i, progressId: s } = Object(c.c)(n); e(P(s)), p.b.stopTour(r, i, s) } } } function P(e) { return { type: "STOP_TOUR", progressId: e } } }, function (e, t, n) { "use strict"; var r = n(98); t.a = { read(e, t) { t = t || Object(r.a)(); const n = "(?:(?:^|[^]*;)\\s*" + encodeURIComponent(e).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=\\s*([^;]*).*$)|^.*$", i = t.match(new RegExp(n)); if (null !== i && void 0 !== i[1]) return decodeURIComponent(i[1]) }, write(e, t, n = {}) { const { domain: i, path: s, expires: o, secure: c, sameSite: a } = n; let u = `${e}=${t}`; return i && (u += `; domain=${i}`), s && (u += `; path=${s}`), o && (u += `; expires=${o.toUTCString()}`), a && (u += `; samesite=${a}`), c && (u += "; secure"), Object(r.c)(u), u }, clear(e, t = {}) { const { domain: n, path: r } = t, i = new Date(0); return this.write(e, "", { domain: n, path: r, expires: i }) } } }, , , function (e, t, n) { "use strict"; n.d(t, "b", (function () { return o })), n.d(t, "a", (function () { return c })), n.d(t, "c", (function () { return a })), n.d(t, "f", (function () { return u })), n.d(t, "h", (function () { return d })), n.d(t, "g", (function () { return l })), n.d(t, "e", (function () { return p })), n.d(t, "d", (function () { return h })); const r = ["https://app.intercom.com", "https://app.intercom.io"]; function i(e, t) { e.opener && e.opener.postMessage(t, "*") } function s(e, t = {}) { return { boundEventCreator: Object.assign({ type: e }, t) } } const o = { CLICK: { key: "click", title: "Clicks", description: "When people click on a button or link" }, VISIT: { key: "visit", title: "Page views", description: "When people view a page" } }, c = { CHOOSE_EVENT_TYPE: "CHOOSE_EVENT_TYPE", CONFIRM_URL: "CONFIRM_URL", SELECT_CLICK_ELEMENT: "SELECT_CLICK_ELEMENT" }; function a(e, t) { e.addEventListener("message", e => { if (-1 === r.indexOf(e.origin)) return; const { boundEventCreator: n } = e.data; n && "open" === n.type && t(n.boundEventCreatorState) }) } function u(e) { i(e, s("ready")) } function d(e, t) { i(e, s("updateStage", { newStage: t })) } function l(e, t) { i(e, s("updateData", { eventData: t })) } function p(e, t) { i(e, s("newEvent", { newEvent: t })) } function h(e) { i(e, s("closed")) } }, , function (e, t, n) { "use strict"; n.d(t, "c", (function () { return c })), n.d(t, "d", (function () { return p })), n.d(t, "a", (function () { return h })), n.d(t, "e", (function () { return f })), n.d(t, "b", (function () { return b })); var r = n(1), i = n(14), s = n(120); const o = ["ar", "bg", "bs", "ca", "cs", "da", "de", "de-form", "el", "en", "es", "et", "fi", "fr", "he", "hr", "hu", "id", "it", "ja", "ko", "lt", "lv", "mn", "nb", "nl", "pl", "pt", "pt-BR", "ro", "ru", "sl", "sr", "sv", "tr", "vi", "zh-CN", "zh-TW"], c = ["ar", "he"], a = {}; a.en = n(216); let u = a, d = "en"; const l = (e, t) => e && e.replace(/{([\s\S]+?)}/g, (e, n) => t[n]), p = async e => { if (-1 === o.indexOf(e)) return Object(i.b)(`Unsupported locale: ${e}`); if (!a[e]) { const t = await Object(s.a)({ promise: () => n(379)(`./${e}.json`) }); a[e] = t } d = e }, h = () => d, f = (e, t) => { const n = u[d]; if (!n) return Object(r.b)(`Unknown locale '${d}'`), ""; const i = n[e]; if (!i) return Object(r.b)(`Unknown key '${e}' in locale '${d}'`), l(u.en[e], t) || ""; try { return l(i, t) } catch (t) { return Object(r.b)(`Interpolation failed for key '${e}' in locale '${d}'`), "" } }, b = e => -1 !== c.indexOf(e) }, , function (e, t, n) { "use strict"; n.d(t, "c", (function () { return u })), n.d(t, "a", (function () { return d })), n.d(t, "e", (function () { return l })), n.d(t, "d", (function () { return p })), n.d(t, "b", (function () { return h })); var r = n(24), i = n.n(r), s = n(5), o = n(21), c = n(40); const a = i()("intercom.actions.inbound-triggers"); function u(e, t, n = !1) { return async (r, i) => { try { const a = i(), { app: u, session: d, newConversation: l } = a, p = Object(o.b)(), h = { clientId: p, body: Object(c.c)(t.text), createdAt: new Date, composerSuggestionItem: t }, f = l.composerState.visible; r(function (e) { switch (e.preAction) { case "close-composer": return Object(s.r)({ visible: !1 }); default: throw `Invalid PRE ACTION type for suggestion=${e.preAction}` } }(t)), r(Object(s.h)(h, n)); const b = await e.startConversationFromSuggestion(d, { suggestionUuid: t.uuid, clientAssignedUUID: p, selfServeSuggestionsMatch: u.selfServeSuggestionsMatch, articleUrl: l.articleUrl }); r(Object(s.i)(b, null, null, Date.now(), "custom_bot")), f && r(Object(s.r)({ visible: !0 })) } catch (e) { r(Object(s.g)(null)), a(`Couldnt start conversation from suggestion due to e=${e}`) } } } function d(e) { return { type: "ADD_INBOUND_SUGGESTIONS", composerSuggestions: e } } function l(e) { return { type: "UPDATE_SERVER_SIDE_INBOUND_SUGGESTIONS", composerSuggestions: e } } function p(e) { return { type: "UPDATE_PREVIEW_INBOUND_SUGGESTIONS", composerSuggestions: e } } function h(e) { return { type: "REMOVE_INBOUND_SUGGESTIONS", rulesetId: e } } }, function (e, t, n) { "use strict"; var r = n(37), i = n(71), s = n.n(i), o = n(124); n.d(t, "g", (function () { return d })), n.d(t, "f", (function () { return l })), n.d(t, "d", (function () { return p })), n.d(t, "e", (function () { return h })), n.d(t, "c", (function () { return f })), n.d(t, "a", (function () { return b })), n.d(t, "b", (function () { return _ })); const c = ["image", "attachmentList", "video", "videoReply", "videoFile", "messengerCard"], a = ["image", "video", "videoReply", "videoFile", "notificationChannelsCard"], u = [{ user: "sent_an_image", admin: "sent_you_an_image" }, { user: "sent_an_attachment", admin: "sent_you_an_attachment" }, { user: "sent_a_video", admin: "sent_you_a_video" }, { user: "sent_a_video_reply", admin: "sent_you_a_video_reply" }, { user: "sent_a_video", admin: "sent_you_a_video" }, { user: "sent_an_app", admin: "sent_you_an_app" }], d = e => e && e.type && "videoFile" === e.type, l = e => a.indexOf(e.type) > -1, p = e => e.text || e.content, h = e => { const t = e[e.length - 1], n = t.body, i = t.author; let s, o = t.body.some(l); v(n[0]) && (s = O(n)); const c = m(n), a = S(n, i); return s = 0 === c.length && a ? a : c, "quick_reply" === t.partType ? h(e.slice(0, e.length - 1)) : (function (e) { return "attribute_collector" === e.partType }(t) && (s = Object(r.e)("operator_asked_for_attribute", { attribute: g(t) }), o = !0), { author: i, summaryText: s, isMetadata: o }) }, f = e => { const t = Object(o.a)(e); return y(t).map(e => ({ type: "paragraph", text: e })) }, b = (e, t, n) => [{ type: "attachmentList", attachments: [{ contentType: t, name: e, size: n }] }], _ = (e, t, n, r, i) => [{ type: "image", url: e, width: t, height: n, attribution: r, title: i }], g = e => { const t = e.form.attributes[0]; return t.name || t.identifier.toLowerCase().replace(".", " ") }, m = e => { const t = e.filter(e => "button" !== e.type && !v(e)).map(e => E(e)).filter(e => !!e).join(" "); return s()(t.replace(/<br>/g, " ")) }, O = e => { const t = e.filter(e => v(e))[0]; if (t && t.title) return s()(t.title) }, E = e => { switch (e.type) { case "videoFile": case "messengerCard": return ""; case "orderedList": return e.items.map((e, t) => `${t + 1}. ${e}`).join(", "); case "unorderedList": return e.items.join(", "); default: return e.text || e.content } }, S = (e, t) => { const n = (e => e.filter(e => c.indexOf(e.type) > -1)[0])(e); if (!n) return; const i = c.indexOf(n.type), s = u[i]; return t.isAdmin ? Object(r.e)(s.admin) : Object(r.e)(s.user) }, v = e => e && e.type && "link" === e.type, y = e => { const t = e.split("\n\n"); for (let e = 0; e < t.length; e++)t[e] = t[e].replace(/\n/g, "<br>"); return t.filter(e => e) } }, , function (e, t, n) { "use strict"; var r = n(0), i = n(6), s = n(29), o = n(16), c = n(103); t.a = Object(r.createSelector)(s.a, e => e.filter(e => { return !Object(i.m)(e) && (!e.read && !e.dismissed && !Object(c.a)(Object(o.a)(e.parts).partType) && !e.suppress && (t = e, "snippet" === Object(o.a)(t.parts).notificationType || t.forceSnippet) && !Object(i.n)(e)); var t })) }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return i })), n.d(t, "a", (function () { return s })); var r = n(0); const i = Object(r.createSelector)([e => e.app.conversationId, e => e.conversations.byId, e => e.newConversation], (e, t, n) => { const r = null === e ? n : t[e]; if (r) return r.composerState || (r.composerState = n.composerState), r }), s = e => Object(r.createSelector)([e => e.conversations.byId], t => t && t[e]) }, , , function (e, t, n) { "use strict"; n.d(t, "d", (function () { return o })), n.d(t, "b", (function () { return u })), n.d(t, "a", (function () { return p })), n.d(t, "c", (function () { return h })), n.d(t, "e", (function () { return f })); var r = n(30), i = n(6), s = n(220); function o(e, t = "unknown", n = 1, s = 10) { return (o, u) => { o({ type: "GET_CONVERSATIONS_REQUEST" }); const { session: d, app: l } = u(); return e.getConversations(d, { source: t, page: n, perPage: s, selfServeSuggestionsMatch: l.selfServeSuggestionsMatch }).then(t => { t.conversations.forEach(t => { Object(i.s)(t).forEach(t => { o(Object(r.a)(e, t)) }) }), o(f(t)), o(c(t)) }).catch(() => { o(a()) }) } } function c(e) { return { type: "GET_CONVERSATIONS_SUCCESS", conversations: e } } function a(e) { return { type: "GET_CONVERSATIONS_FAILURE", error: e } } function u(e, t) { return (n, r) => { n(d(t)); const { session: i } = r(); return e.dismissNotifications(i, t).then(() => n(l(t))) } } function d(e) { return { type: "DISMISS_NOTIFICATIONS_REQUEST", conversationIds: e } } function l(e) { return { type: "DISMISS_NOTIFICATIONS_SUCCESS", conversationIds: e } } function p(e) { return { type: "CONVERSATIONS_SCROLLED", scrollPosition: e } } function h(e) { return { type: "EMAIL_ATTRIBUTE_COLLECTOR_INSERTED", conversationId: e } } function f(e) { return t => { const n = e.conversations; n && n.forEach(e => { Object(i.n)(e) && e.read && t(Object(s.a)(e.id)) }) } } }, function (e, t, n) { "use strict"; function r(e, t = !1) { const n = { type: "SHOW_CONVERSATION", conversationId: e }; return t && (n.replaceCurrentView = t), n } n.d(t, "a", (function () { return r })) }, function (e, t, n) { "use strict"; var r = n(60), i = n.n(r), s = n(153), o = n.n(s), c = n(78), a = n.n(c), u = n(149), d = n.n(u), l = n(236), p = n.n(l); const h = e => { if (!d()(e)) return e; const t = {}; return Object.keys(e).forEach(n => { let r = h(e[n]); Array.isArray(r) && (r = r.map(e => h(e))), t[p()(n)] = r }), t }; var f = n(74), b = n.n(f), _ = n(129), g = n.n(_), m = n(237), O = n.n(m); const E = { button: function (e) { return e.action.id ? (e.id = e.action.id, g()(e, "action.id"), e) : e }, input: function (e) { return e.action && e.action.id ? (e.id = e.action.id, g()(e, "action.id"), e) : e }, list: function (e) { const t = e.items.map(e => { if (e.action) { if (!e.action.id) return e; e.id = e.action.id, g()(e, "action.id") } return e }); return e.items = t, e } }; function S(e) { return e.components.map(e => function (e) { const t = O()({}, e); return b()(E, e.type, () => { })(t), t }(e)) } var v = n(154); function y(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function C(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } n.d(t, "a", (function () { return T })), n.d(t, "c", (function () { return w })), n.d(t, "e", (function () { return j })), n.d(t, "b", (function () { return A })), n.d(t, "d", (function () { return N })); const I = e => e ? Object(v.a)(e.toString()) : "", T = (e, t) => { switch (e.type) { case "button": return `button-${I(e.id)}`; case "text": return `text-${t}-${I(e.text)}`; case "input": return `input-${I(e.id)}`; case "spacer": return `spacer-${t}`; case "divider": return `divider-${t}`; case "image": return `image-${t}-${I(e.url)}`; case "list": return `list-${e.items.map(e => I(e.id)).join("-")}`; case "dropdown": return `dropdown-${I(e.id)}`; case "single-select": return `single-select-${I(e.id)}`; default: return `unknown-${t}` } }, w = e => e.state ? { uri: e.uri, canvas: { id: "", content: e.state } } : e, j = e => { const t = function (e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? y(Object(n), !0).forEach((function (t) { C(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : y(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e }({}, e); return i()(t, ["canvas", "content"], e => (e => "0.1" === e.version ? e : { version: "0.1", components: S(e) })(a()(e))), i()(t, ["canvas", "content", "components"], e => e.map(h)) }, R = (e, t, n) => { const r = []; return e.forEach(e => { "list" === e.type ? r.push(...e.items) : r.push(e) }), r.find(e => e[t] && (!n || e[t] === n)) }, A = (e, t, n) => !!R(e, t, n), N = (e, t, n = !0) => { const r = ((e, t) => R(e, "id", t))(t, e), i = M(r, t); return i && r && r.type ? "button" === r.type || "item" === r.type ? o()(a()(t), `${i}.loading`, n, a.a) : "input" === r.type || "dropdown" === r.type || "single-select" === r.type ? o()(a()(t), `${i}.saveState`, n ? "saving" : "unsaved", a.a) : void 0 : t }, M = (e, t) => { for (const n in t) if (t.hasOwnProperty(n)) { if (e === t[n]) return `[${n}]`; if (t[n] && "object" == typeof t[n]) { const r = M(e, t[n]); if (r) return `[${n}]` + r } } } }, , function (e, t, n) { "use strict"; n.d(t, "f", (function () { return c })), n.d(t, "d", (function () { return a })), n.d(t, "a", (function () { return u })), n.d(t, "b", (function () { return d })), n.d(t, "e", (function () { return l })), n.d(t, "c", (function () { return p })); var r = n(2), i = n(126), s = n(61), o = n(1); function c(e) { return { type: "RECEIVE_BANNERS", banners: e } } function a(e) { return (t, n) => { const r = n(), { verticalPadding: o } = Object(s.a)(r), { customizationOverrides: c = {} } = r, { isSetByBanner: a } = c; (20 === o || a) && t(Object(i.a)({ verticalPadding: e })) } } function u(e, t, n) { return (i, s) => { const { session: o } = s(); i(function (e, t) { return { type: "COLLECT_EMAIL_FROM_BANNER", bannerId: e, email: t } }(e, n)), r.b.collectEmailFromBanner(o, e, t, n) } } function d(e, t) { return (n, i) => { const { session: s } = i(); n({ type: "DISMISS_BANNER" }), r.b.dismissBanner(s, e, t); const o = []; for (const t of i().banners) t.banner_id !== e && o.push(t); n(c(o)) } } function l(e, t, n) { return (i, s) => { const { session: o } = s(); i(function (e, t) { return { type: "REACT_TO_BANNER", bannerId: e, reaction: t } }(e, n)), r.b.reactToBanner(o, e, t, n) } } function p(e) { return async (t, n) => { const { session: i } = n(); try { t(function (e) { return { type: "FETCH_BANNER_VIEW", bannerViewId: e } }(e)); const n = [], s = await r.b.fetchBannerView(i, e); if (!s) return; n.push(s), t(c(n)) } catch (e) { Object(o.b)(`Could not fetch banner_view due to e=${e}`) } } } }, , , , function (e, t, n) { "use strict"; n.d(t, "a", (function () { return a })), n.d(t, "c", (function () { return u })), n.d(t, "b", (function () { return d })); var r = n(9), i = n(72), s = n(0), o = n(6), c = n(66); const a = (e, t) => !e.read && "whatsapp" !== e.currentChannel && e.id !== t && (e.dismissed || !Object(o.m)(e)), u = Object(s.createSelector)(e => Object(i.a)(e.conversations.byId), e => { const { app: { conversationId: t, isMessengerOpen: n }, user: { isPresent: i } } = e; if (n && "conversation" === Object(r.f)(e)) return t; if (!n) { const t = Object(c.a)(e); if (1 === t.length && i) return t[0].id } }, (e, t) => e.reduce((e, n) => (a(n, t) && e.push(n.id), e), [])), d = Object(s.createSelector)(u, e => e.length) }, function (e, t, n) { "use strict"; function r(e) { const t = document.createElement("a"); return t.href = e, { protocol: t.protocol, host: t.host, port: t.port, pathname: t.pathname, hash: t.hash, search: t.search, hostname: t.hostname, origin: t.origin } } function i(e) { const t = r(e).search; return t ? (/^[?#]/.test(t) ? t.slice(1) : t).split("&").reduce((e, t) => { const [n, r] = t.split("="); return e[n] = r ? decodeURIComponent(r.replace(/\+/g, " ")) : "", e }, {}) : {} } n.d(t, "b", (function () { return r })), n.d(t, "a", (function () { return i })) }, function (e, t, n) { "use strict"; n.d(t, "c", (function () { return v })), n.d(t, "a", (function () { return y })), n.d(t, "e", (function () { return C })), n.d(t, "b", (function () { return I })), n.d(t, "d", (function () { return T })); var r, i, s = n(240), o = n.n(s), c = n(27), a = n.n(c), u = n(241), d = n.n(u), l = n(224), p = n.n(l), h = n(120), f = n(4); const b = "1" === window.navigator.doNotTrack, _ = ["address", "addresses", "email", "emailAddress", "emailAddresses", "phoneNumber", "phone", "number", "name", "firstName", "lastName", "userSuppliedEmail", "initial", "socialAccounts", "text", "messengerCards", "url"], g = []; let m, O; const E = e => d()(e, (e, t, n) => { _.indexOf(n) >= 0 ? e[n] = "removedIdentifyingInfo" : a()(t) && !o()(t) ? e[n] = E(t.toJS ? t.toJS() : t) : e[n] = t }), S = e => b ? "removedIdentifyingInfo" : (e => { const t = p()(e); return E(t) })(e), v = async e => { const { addTag: t, addExtra: r, logError: i, addBreadcrumb: s } = await Object(h.a)({ promise: () => Promise.all([n.e(52), n.e(46)]).then(n.bind(null, 456)) }); t("app.id", m), g.forEach(({ type: e }) => s("redux-action", e)), O && O.getState && r("state", S(O.getState())), i(e) }, y = e => { e.onerror = (e, t, n, r, i) => v(i), e.onunhandledrejection = e => v(e.reason) }, C = e => { e && (m = e) }, I = e => { e && (O = e) }, T = () => function (e) { return function (t) { return g.push({ type: t.type, timestamp: +new Date }), e(t) } }; !Object(f.a)() && null !== (r = window) && void 0 !== r && null !== (i = r.parent) && void 0 !== i && i.intercomSettings && C(window.parent.intercomSettings.app_id) }, function (e, t, n) { "use strict"; var r = n(12), i = n.n(r), s = n(93), o = n(39), c = n(10), a = n(50), u = n(226), d = n(2), l = n(46), p = n(5), h = n(73), f = n(9); function b(e, t) { const { conversationId: n } = e.app; return "conversation" === Object(f.f)(e) && -1 !== t.indexOf(n) } var _ = n(150); var g = n(1), m = n(28); const O = e => { let t; return (...n) => { const r = () => e(...n); return t = Promise.resolve(t).then(r, r), t } }, E = (e, t, n, r) => { let i = 0, s = 0; return (...o) => { const c = m.b.now(); return c - s >= n && (i = 0, s = c), i++, i <= t ? e(...o) : (Object(g.c)(`rate_limiting.${r}`), Object(g.g)(`rate_limit_check_${r}`, { rate_limited: !0, rate_limit_count: n }, !0), Promise.reject("rate_limited_update")) } }; var S = n(7), v = n(56), y = n(14); const C = e => { if ("rate_limited_update" === e) return null; try { return e.errors || JSON.parse(e).errors } catch (t) { Object(y.a)(e), Object(v.c)(e) } }; var I = n(55), T = n(31), w = n(21), j = n(8); const R = "https://docs.intercom.com/configure-intercom-for-your-product-or-site/staying-secure/enable-identity-verification-on-your-web-product", A = { IDENTITY_VERIFICATION_READY_WARNING: `Intercom Messenger warning: Identity Verification is set up correctly but not enabled. For details on how to enable it, see ${R}.`, IDENTITY_VERIFICATION_FAILURE_WITH_USER_ID_WARNING: `Intercom Messenger warning: Your Identity Verification user_hash is invalid. Check that you are generating the user_hash with your user's user_id and your app's secret key. For more details, see ${R}.`, IDENTITY_VERIFICATION_FAILURE_WITH_EMAIL_WARNING: `Intercom Messenger warning: Your Identity Verification user_hash is invalid. Check that you are generating the user_hash with your user's email and your app's secret key. For more details, see ${R}.` }; var N = n(4), M = n(24), P = n.n(M); n.d(t, "b", (function () { return x })), n.d(t, "a", (function () { return W })), n.d(t, "f", (function () { return q })), n.d(t, "e", (function () { return z })), n.d(t, "d", (function () { return Q })); const U = P()("intercom.actions.user"); let D, L; const k = ((e, t = 6e4) => { let n; const r = () => { n = {} }, i = (...r) => { const i = e(...r), s = n[i], o = Date.now(); return !((e, n) => void 0 === n || e - n > t)(o, s) || (n[i] = o, !1) }; return i.reset = r, r(), i })((e, t, n, r) => { const { email: i, userId: s, userHash: o, anonymousId: c } = e; return JSON.stringify(Object.assign({ encryptedPayload: r }, { url: t, email: i, userId: s, userHash: o, anonymousId: c }, n)) }, 6e4); function x(e, t, n, r, d, f, m, O = !1, E, v = "unknown", R, A) { return async (M, P) => { let U, { app: x, session: F } = P(); if ((!D || L !== n && x && x.features && x.features.singlePageAppRateLimiting) && Y(n), F = t || F, F.sessionId || (F.sessionId = w.a.generateUUID()), M(V(F, n, r, d, f, m, R)), !O && k(F, n, r, E)) return null; try { U = await D(e, P, r, E, v, R) } catch (e) { const t = C(e); if ("403" === (e => e && e[0].code)(t) && A) return Object(y.b)("This domain is not allowed for the Intercom Messenger. Add your domain here: https://app.intercom.com/a/apps/_/messenger"), A(!0), null; t && t.find(e => "App Not Found" === e.message) && Object(y.b)("The App ID in your code snippet is incorrect. Change it to your App ID found in settings to complete installation: http://app.intercom.com/a/apps/_/settings/web"), M(B(e, Z(e))); const n = (e => { const t = C(e); if (!t) return; const n = t.find(e => e.data); if (!n) return; const r = n.data; return { activeSubscription: r.active_subscription, userHashVerified: r.user_hash_verified, secureInstallV2: r.secure_install_v2, messengerEnabledForVisitors: r.messenger_enabled_for_visitors, messengerEnabledForUsers: r.messenger_enabled_for_users } })(e); return n && M(Object(_.c)(n)), null } Object(g.n)(U); const { errors: H, installModeConfig: $, notificationLinkConversationId: W } = U; if ($ && M(Object(_.c)($)), H) return null; if (X(U, F, $), K(U), M(G(U)), M(Object(o.e)(U.composerSuggestions)), U.newConversationComposerState && M(Object(p.r)(U.newConversationComposerState)), Object(N.a)() || M(Object(T.b)()), M(Object(h.a)({ color: U.app.color, secondaryColor: U.app.secondaryColor })), W && M(Object(c.c)(W)), U.unreadConversationIds.length > 0) { const t = P(); b(t, U.unreadConversationIds) ? M(Object(p.l)(e, t.app.conversationId)) : M(Object(l.d)(e, "createOrUpdateUser")) } if (!Object(j.g)() && U.app.features.launcherDiscoveryMode && M(Object(s.e)()), !Object(N.a)()) { var q, z, Q; const { activeTour: e } = U, t = null === (q = Object(I.a)(null === (z = window) || void 0 === z ? void 0 : null === (Q = z.parent) || void 0 === Q ? void 0 : Q.location)) || void 0 === q ? void 0 : q.product_tour_id; i()(e) || (i()(t) ? M(Object(T.k)(e)) : Object(S.e)(`Tour with id ${e.id} received from ping won't start because there is a tourId in the query params`)) } if (!Object(N.a)()) { const { banners: e } = U; i()(e) || M(Object(a.f)(e)) } if (!Object(N.a)()) { const { surveys: e } = U; i()(e) || M(Object(u.b)(e)) } return U } } function V(e, t, n, r, i, s, o) { return { type: "CREATE_OR_UPDATE_USER_REQUEST", session: e, url: t, customAttributes: n, launcherEnabledOverride: r, anonymousSessionDuration: i, customizationAttributes: s, internal: o } } function G(e) { return { type: "CREATE_OR_UPDATE_USER_SUCCESS", user: e } } function B(e, t = !1) { return { type: "CREATE_OR_UPDATE_USER_FAILURE", error: e, isIdentityVerificationError: t } } function F() { return { type: "MESSENGER_OPEN_REQUEST_SENT" } } function H(e) { return { type: "MESSENGER_OPEN_REQUEST_SUCCESS", response: e } } function $(e) { return { type: "MESSENGER_OPEN_REQUEST_FAILED", error: e } } function W(e) { return { type: "ANONYMOUS_SESSION_CHANGED", anonymousSession: e } } function q() { return { type: "USER_IS_PRESENT" } } function z() { return { type: "USER_IS_ABSENT" } } function Q(e, t, n) { return (r, i) => { const { session: s } = i(); if (s) return r({ type: "CREATE_EVENT", name: t, boundEventMetadata: n }), e.sendBeaconEvent(s, t).catch(() => r({ type: "CREATE_EVENT_FAILED" })) } } function Y(e) { J(30, 18e5, e) } function J(e, t, n) { L = n, D = ((e, t, n, r) => O(E(e, t, n, r)))((e, t, n, r, i, s) => { const { session: o } = t(); return e.createOrUpdateUser(o, n, void 0, r, i, s, Object(g.l)()) }, e, t, "user_update") } function K(e) { const t = e.cdasBreachingLimit; if (!t.length) return; const n = 1 === t.length ? "attribute" : "attributes", r = t.join(", "); Object(y.b)(`You have reached your CDA limit and we were not able to create or update the following ${n}: ${r}. For more details, see: https://www.intercom.com/help/configure-intercom/customize-intercom-to-be-about-your-users/send-custom-user-attributes-to-intercom`) } function X(e, t, n = {}) { const { userHash: r, userId: i, email: s } = t, { secureInstallV2: o, secureInstallV3: c } = n; if (o || c) { if (!i && !s) return } else if (!r) return; const a = function (e, t) { if (e.identityVerificationReady) return A.IDENTITY_VERIFICATION_READY_WARNING; if (!e.identityVerified && t.userId) return A.IDENTITY_VERIFICATION_FAILURE_WITH_USER_ID_WARNING; if (!e.identityVerified && !t.userId) return A.IDENTITY_VERIFICATION_FAILURE_WITH_EMAIL_WARNING; return null }(e, t); a && Object(y.b)(a) } function Z(e) { const t = C(e); if (!t) return !1; let n = !1; return t.forEach(e => { -1 !== e.code.indexOf("identity_verification") && (n = !0, Object(y.a)(`Intercom Messenger error: ${e.message} For more details, see ${R}.`)) }), n } t.c = { createOrUpdateUser: x, createOrUpdateUserRequest: V, createOrUpdateUserSuccess: G, createOrUpdateUserFailure: B, sendMessengerOpen: function (e, t) { return async (n, r) => { const i = r(), s = Object(f.f)(i), { session: o } = i; let c; t || n({ type: "MESSENGER_OPEN_REQUEST_SENT" }); try { c = await e.sendMessengerOpen(o, s) } catch (e) { return U("Request to messenger open failed", e), t || n($(e)), null } return t || n(H(c)), c } }, messengerOpenRequestSent: F, messengerOpenRequestSuccess: H, messengerOpenRequestFailed: $, destroySession: function (e = !0) { return { type: "DESTROY_SESSION", clearCookies: e } }, anonymousSessionChanged: W, userIsPresent: q, userIsAbsent: z, createEvent: function (e, t, n) { return (r, i) => { const { session: s } = i(); if (s) return r({ type: "CREATE_EVENT", name: t, metadata: n }), e.createEvent(s, t, n).then(t => { const { banner: n, customBot: i } = t; return Object(N.a)() || n && r(Object(a.f)([n])), i && r(Object(p.o)(e, Object(d.a)(i))), t }).catch(() => r({ type: "CREATE_EVENT_FAILED" })) } }, triggerBoundEvent: Q, setupCreateOrUpdateUserRateLimiting: J, setupDefaultCreateOrUpdateUserRateLimiting: Y, isDuplicateCreateOrUpdateUserRequest: k, checkCdasBreachingLimit: K, checkIdentityVerificationInstall: X, checkIdentityVerificationError: Z } }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return i })); var r = n(4); const i = () => !Object(r.a)() && window.parent && window.parent.intercomSettings && "tx2p130c" === window.parent.intercomSettings.app_id }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return i })), n.d(t, "a", (function () { return s })); var r = n(32); function i(e) { return e.requiresCookieConsent || !1 } function s(e) { if (!e) return !0; if (!(e.requiresCookieConsent || !1)) return !0; const t = r.a.read("gtm_cookie_consent"); return !t || function (e) { const { advertising: t, marketing: n, analytics: r, performance: i } = Object.fromEntries(e.split("+").map(e => [e, !0])); return { advertising: !!t, analytics: !!r, marketing: !!n, performance: !!i } }(t).analytics } }, , function (e, t, n) { "use strict"; n.d(t, "a", (function () { return c })); var r = n(0); const i = ["left", "right"], s = e => Math.max(e || 20, 20), o = e => (e => i.indexOf(e) >= 0)(e) ? e : "right", c = Object(r.createSelector)(e => e.app, e => e.customizationOverrides, (e, t = {}) => { const { alignment: n, horizontalPadding: r, verticalPadding: i, color: c, secondaryColor: a } = e, { alignment: u, horizontalPadding: d, verticalPadding: l, color: p, secondaryColor: h } = t; return { alignment: o(u || n), horizontalPadding: s(d || r), verticalPadding: s(l || i), color: p || c, secondaryColor: h || a } }); t.b = c }, , , , , function (e, t, n) { "use strict"; var r = n(0), i = n(29), s = n(6); const o = Object(r.createSelector)(i.a, e => e.filter(e => { return !e.read && "whatsapp" !== e.currentChannel && !e.forceSnippet && (1 === (t = e).parts.length && "full" === t.parts[0].notificationType || Object(s.i)(e)) && "pointer" !== e.messageType && !Object(s.n)(e) && !e.preventEndUserReplies; var t })); t.a = Object(r.createSelector)(e => { const { conversations: { byId: t }, message: { conversationId: n } } = e; return t[n] }, o, (e, t) => { return n = t, void 0 === (r = e) || ((e, t) => void 0 !== e.find(e => e.id === t.id))(n, r) || Object(s.n)(r) ? n : n.concat(r); var n, r }) }, , function (e, t, n) { "use strict"; function r(e, t) { return { type: "OPEN_MESSAGE", conversationId: e, partId: t } } function i() { return { type: "CLOSE_MESSAGE" } } function s(e, t) { return { type: "RECORD_MESSAGE_SENT", conversationId: e, partId: t } } n.d(t, "b", (function () { return r })), n.d(t, "a", (function () { return i })), n.d(t, "c", (function () { return s })) }, , , , function (e, t, n) { "use strict"; t.a = e => Object.keys(e).map(t => e[t]) }, function (e, t, n) { "use strict"; function r(e) { return Math.pow((e + .055) / 1.055, 2.4) } function i(e) { const t = e[0] / 255, n = e[1] / 255, i = e[2] / 255; return .2126 * (t <= .03928 ? t * (1 / 12.92) : r(t)) + .7152 * (n <= .03928 ? n * (1 / 12.92) : r(n)) + .0722 * (i <= .03928 ? i * (1 / 12.92) : r(i)) } function s(e) { let t = 255; 8 === (e = e.replace(/^#/, "")).length && (t = parseInt(e.slice(6, 8), 16), e = e.substring(0, 6)), 4 === e.length && (t = parseInt(e.slice(3, 4).repeat(2), 16), e = e.substring(0, 3)), 3 === e.length && (e = e[0] + e[0] + e[1] + e[1] + e[2] + e[2]); const n = parseInt(e, 16); return [n >> 16, n >> 8 & 255, 255 & n, t] } function o(e, t) { return function (e, t) { return (Math.max(e, t) + .05) / (Math.min(e, t) + .05) }(i(e), i(t)) } function c(e, t) { return o(s(e), s(t)) } var a = n(94); n.d(t, "b", (function () { return d })), n.d(t, "a", (function () { return l })); const u = (e, t, n, r) => (c(t[r], e) >= n ? r : null) || Object.keys(t).find(r => c(t[r], e) >= n) || r, d = e => ({ type: "SET_TAB_NAVIGATION", tabNavigation: e }), l = ({ color: e, secondaryColor: t }) => ({ type: "SET_ACCESSIBILITY_THEME", accessibilityTheme: u(e, a.a, 2, "default"), secondaryAccessibilityTheme: u(t, a.a, 2, "light") }) }, , function (e, t, n) { "use strict"; n.d(t, "c", (function () { return r })), n.d(t, "d", (function () { return i })), n.d(t, "e", (function () { return s })), n.d(t, "a", (function () { return o })), n.d(t, "h", (function () { return c })), n.d(t, "g", (function () { return a })), n.d(t, "b", (function () { return u })), n.d(t, "f", (function () { return d })), n.d(t, "i", (function () { return l })); const r = "send-data-to-messenger", i = "send-data-to-sheet", s = "set-iframe-src", o = "close", c = "submit-sheet", a = "start-navigation", u = "finish-navigation", d = "set-title"; function l(e, t, n) { return { intercomSheet: { type: e, payload: t, meta: { proxy: n } } } } }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return u })); var r = n(4), i = n(11); function s(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function o(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? s(Object(n), !0).forEach((function (t) { c(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : s(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function c(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const a = (() => { var e, t, n; const i = "composer-suggestions-disabled-at"; if (Object(r.a)()) return i; const s = null === (e = window) || void 0 === e ? void 0 : null === (t = e.parent) || void 0 === t ? void 0 : null === (n = t.intercomSettings) || void 0 === n ? void 0 : n.app_id; return s ? `${s}-${i}` : i })(); const u = { loading: !1, isViewed: !1, isDismissed: function () { const e = parseInt(i.a.get(a)); return !!e && Date.now() - e < 2592e6 }() || !1, suggestions: [], prompt: [], priority: 0 }; t.a = function (e = u, t) { switch (t.type) { case "COMPOSER_CONTENT_CHANGED": return "" === t.composerContent ? o(o({}, e), {}, { isViewed: !1 }) : e; case "SET_COMPOSER_SUGGESTIONS": { var n; const { priority: r } = t, i = e.isViewed || (null == t ? void 0 : null === (n = t.composerSuggestions) || void 0 === n ? void 0 : n.suggestions.length) > 0; return r < e.priority ? e : t.composerSuggestions ? o(o(o({}, e), t.composerSuggestions), {}, { priority: r, loading: !1, isViewed: i }) : o(o({}, u), {}, { isViewed: e.isViewed, isDismissed: e.isDismissed, priority: r }) } case "SET_COMPOSER_SUGGESTIONS_LOADING": return o(o({}, e), {}, { loading: t.loadingStatus }); case "SET_COMPOSER_SUGGESTIONS_DISMISSED": return r = Date.now(), i.a.set(a, r), o(o({}, e), {}, { isDismissed: !0 }); default: return e }var r } }, function (e, t, n) { "use strict"; var r = n(36), i = n.n(r), s = n(128), o = n(10), c = n(47), a = n(5), u = n(9); var d = n(21); const l = {}; var p = n(24), h = n.n(p); n.d(t, "a", (function () { return m })), n.d(t, "b", (function () { return O })), n.d(t, "c", (function () { return E })), n.d(t, "d", (function () { return S })), n.d(t, "e", (function () { return v })); const f = h()("intercom.actions.triggers"), b = { "open-messenger-loading-view": o.h }, _ = { "show-conversation": function (e, t) { return async (n, r) => { if ("conversation" !== Object(u.f)(r())) return await n(Object(a.l)(e, t.id)), n(Object(c.a)(t.id, !0)) } } }, g = {}; function m(e, t) { return n => { n(function (e) { return { type: "ADD_TRIGGER", trigger: e } }(e)), function (e, t, n) { try { const { selector: r, event: s, id: o } = e, c = window.parent.document.querySelector(r), a = i()(() => function (e, t, n) { f(`Handling event (triggerId=${e})`), t(E(e, n)) }(o, t, n), 3e3, { leading: !0, trailing: !1 }), u = () => { f(`${s} event fired from ${r} (triggerId=${o})`), a() }; c.addEventListener(s, u), g[o] = { targetElement: c, boundHandler: u }, f(`Attached ${s} event handler to ${r}`) } catch (e) { f(`Couldnt attach the messenger trigger to the DOM due to e=${e}`) } }(e, n, t) } } function O(e) { return (t, n) => { !function (e, t) { try { const { selector: n, event: r } = Object(s.c)(e)(t), { targetElement: i, boundHandler: o } = g[e]; i.removeEventListener(r, o), f(`Detached ${r} event handler from ${n}`) } catch (e) { f(`Couldn't detach the messenger trigger to the DOM due to e=${e}`) } finally { delete g[e] } }(e, n()), t(function (e) { return { type: "REMOVE_TRIGGER", triggerId: e } }(e)) } } function E(e, t) { return async (n, r) => { const i = Object(s.c)(e); try { i(r()) } catch (t) { return void f(`Rejected trigger=${e} as it's no longer present in the store`) } try { await async function (e) { return new Promise(t => { if (l[e]) throw new Error(`Multiple events of type=${e} fired`); l[e] = !0, setTimeout(async () => { l[e] = !1, t() }, 0) }) }("messenger-trigger-fire") } catch (t) { return void f(`Rejected trigger=${e} as multiple triggers were fired in same tick`) } try { const s = r(), { session: o } = s, c = i(s), u = Object(d.b)(), l = { clientId: u, createdAt: new Date }; n(function (e) { return { type: "ACTIVATE_TRIGGER", triggerId: e } }(e)), n(function (e) { return t => { const n = b[e.preAction]; if ("function" == typeof n) return t(n()); throw `Invalid PRE ACTION type for trigger=${e.id}` } }(c)), n(Object(a.h)(l, !1)); const p = await t.fireTrigger(o, { triggerId: String(e), clientAssignedUUID: u }); n(y(t, p)), n({ type: "DEACTIVATE_TRIGGER" }) } catch (e) { n({ type: "ACTIVATE_TRIGGER_FAILED" }), n(Object(a.g)(null)), f(`Couldnt fire messenger trigger due to e=${e}`) } } } function S(e, t) { return async (n, r) => { const i = r(), { session: s } = i, o = await e.outboundPreview(s, t); n(y(e, o)) } } function v(e) { return (t, n) => { try { const r = n(); t(E(Object(s.a)(r).id, e)) } catch (e) { f("Couldnt retry firing messenger trigger") } } } function y(e, t) { return n => { const { action: r, data: i } = t, s = _[r]; if (s) return n(s(e, i)); throw `Invalid POST ACTION type for trigger_action=${r}` } } }, , function (e, t, n) { "use strict"; var r = n(15), i = n(4); n.d(t, "a", (function () { return o })), n.d(t, "c", (function () { return c })), n.d(t, "b", (function () { return a })), n.d(t, "d", (function () { return l })); const s = [], o = e => { u(e); const t = document.createElement("meta"); t.id = "intercom-viewport-meta", t.name = "viewport", t.content = "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0", e.document.getElementsByTagName("head")[0].appendChild(t) }, c = e => { const t = e.document.getElementById("intercom-viewport-meta"); t && (t.parentNode.removeChild(t), d(e)) }, a = () => { const e = Object(r.c)(); return e.innerWidth <= 450 || e.innerWidth <= 900 && e.innerHeight <= 450 }, u = e => { [].slice.call(e.document.getElementsByTagName("meta")).forEach(e => { "viewport" === e.name && (s.push(e.cloneNode()), e.parentNode.removeChild(e)) }) }, d = e => { const t = s.length; for (let n = 0; n < t; n++)e.document.getElementsByTagName("head")[0].appendChild(s.pop()) }, l = () => { if (!Object(i.a)()) try { a() && !window.parent.navigator.standalone && window.parent.scrollTo(0, 0) } catch (e) { } } }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return s })), n.d(t, "f", (function () { return o })), n.d(t, "d", (function () { return c })), n.d(t, "g", (function () { return a })), n.d(t, "h", (function () { return u })), n.d(t, "e", (function () { return d })), n.d(t, "a", (function () { return l })), n.d(t, "c", (function () { return p })); var r = n(0); const i = e => e.browseMode, s = Object(r.createSelector)(i, ({ isOpen: e }) => e), o = Object(r.createSelector)(i, ({ routedToNewConversation: e }) => e), c = e => { var t; return null === (t = e.browseMode) || void 0 === t ? void 0 : t.phrase }, a = e => { var t; return null === (t = e.browseMode) || void 0 === t ? void 0 : t.searchedPhrase }, u = (Object(r.createSelector)(i, e => e.articleHistory || []), Object(r.createSelector)(i, e => e.skipOpenAnimation)), d = Object(r.createSelector)(s, o, u, e => e.user, (e, t, n, r) => ({ isOpen: e, transitioningToNewConversation: t, skipOpenAnimation: n, user: r })), l = Object(r.createSelector)(i, ({ hasViewedAnArticle: e }) => e), p = Object(r.createSelector)(i, ({ phrase: e, hideResultsWithDelay: t, searchResults: n }) => (e || t) && 0 === n.length) }, , , , , , , , , , , , function (e, t, n) { "use strict"; n.d(t, "a", (function () { return s })), n.d(t, "b", (function () { return o })); var r = n(15); const i = ["password", "passwd", "secret", "api_key", "apikey", "access_token", "auth_token", "credentials", "mysql_pwd", "stripetoken"], s = () => { var e; return null === (e = Object(r.d)()) || void 0 === e ? void 0 : e.host }, o = e => e ? (i.forEach(t => { e = c(e, t, "***") }), e) : e, c = (e, t, n) => { const r = new RegExp("([?&])" + t + "=.*?(&|$)", "i"); return e.match(r) ? e.replace(r, "$1" + t + "=" + n + "$2") : e } }, function (e, t, n) { "use strict"; n.d(t, "e", (function () { return s })), n.d(t, "b", (function () { return o })), n.d(t, "c", (function () { return c })), n.d(t, "d", (function () { return u })), n.d(t, "a", (function () { return d })); let r, i; function s() { return (e, t) => { const { launcherDiscoveryMode: { hasDiscoveredLauncher: n, isLauncherDiscoveryModeOpening: r, isLauncherDiscoveryModeClosing: i } } = t(); n || r || i || (setTimeout(() => { e({ type: "OPEN_LAUNCHER_DISCOVERY_MODE" }) }, 6e3), a(e)) } } function o() { r && clearTimeout(r), i && clearTimeout(i) } function c() { return e => { a(e) } } const a = e => { r = setTimeout(() => e({ type: "CLOSE_LAUNCHER_DISCOVERY_MODE" }), 9500), i = setTimeout(() => e({ type: "DISABLE_LAUNCHER_DISCOVERY_MODE" }), 10200) }; function u() { return { type: "OPENING_MESSENGER_FROM_LAUNCHER_DISCOVERY_MODE" } } function d() { return { type: "DISABLE_LAUNCHER_DISCOVERY_MODE" } } }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return r })); const r = { default: "#3b99fc", dark: "#38373e", light: "#cdcecd" } }, , , function (e, t, n) { "use strict"; n.d(t, "a", (function () { return u })), n.d(t, "b", (function () { return d })), n.d(t, "c", (function () { return l })); var r = n(4), i = n(8), s = n(25); let o = {}, c = {}; const a = (e, t) => ({ get: t => { const n = e[`intercom.${t}`]; return void 0 === n ? null : n }, set: (n, r) => { Object(s.l)(`intercom.${n}`, r, t), e[`intercom.${n}`] = r }, remove: e => Object(s.j)(`intercom.${e}`, t), clear: () => { } }), u = () => { Object(r.a)() && Object(s.g)(e => { c = i.a.hasLocalStorageSupport() ? e.sessionStorage : {}, o = i.a.hasLocalStorageSupport() ? e.localStorage : {} }) }, d = () => a(o, "localStorage"), l = () => a(c, "sessionStorage") }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return o })), n.d(t, "b", (function () { return c })), n.d(t, "c", (function () { return a })); var r = n(4), i = n(25); let s = ""; const o = () => Object(r.a)() ? s : parent.document.cookie, c = e => s = e, a = e => (Object(r.a)() ? (Object(i.m)(e), c(e)) : parent.document.cookie = e, e) }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return u })), n.d(t, "a", (function () { return d })); var r = n(24), i = n.n(r), s = n(5), o = n(21), c = n(40); const a = i()("intercom.actions.predictive-answers"); function u(e, t, n = !1) { return async (r, i) => { try { const a = void 0, u = i(), { session: l, newConversation: p, user: h } = u, f = Object(o.b)(), b = { clientId: f, body: Object(c.c)(t.text), createdAt: new Date, composerSuggestionItem: t }; r(d(null)), r(Object(s.h)(b, n)); const _ = await e.fireComposerSuggestion(l, { conversationId: a, suggestion: t, clientId: f, botIntro: p ? p.botIntroId : null, articleUrl: p ? p.articleUrl : null, resolutionBotBehaviorVersionId: h ? h.resolutionBotBehaviorVersionId : null }); r(Object(s.i)(_, null, null, Date.now(), "predictive_answer")) } catch (e) { r(Object(s.g)(null)), a(`Couldnt start conversation from suggestion due to e=${e}`) } } } function d(e) { return { type: "SET_PREDICTIVE_ANSWERS", predictiveAnswersSuggestions: e } } }, function (e, t, n) { "use strict"; var r = n(12), i = n.n(r), s = n(0), o = n(11), c = n(217); t.a = Object(s.createSelector)([e => e.app, e => e.user, e => e.launcher, c.a], (e, t, n, r) => !r && function (e, t) { const { inboundMessages: n, outboundMessages: r, anonymousInboundMessages: i } = e.features; return "user" === t.role ? n || r : i }(e, t) && function (e) { switch (e.launcherEnabledOverride) { case "show": return !0; case "hide": return !1; default: return e.isLauncherEnabled } }(n) && !function () { const e = o.b.get("intercom-snippet__intersection-mode"); return !i()(e) && !(-1 !== ["inbound-custom-bot-preview", "outbound-custom-bot-preview"].indexOf(e)) }()) }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return u })), n.d(t, "g", (function () { return d })), n.d(t, "k", (function () { return l })), n.d(t, "e", (function () { return p })), n.d(t, "i", (function () { return b })), n.d(t, "j", (function () { return m })), n.d(t, "d", (function () { return g })), n.d(t, "f", (function () { return f })), n.d(t, "a", (function () { return _ })), n.d(t, "h", (function () { return O })), n.d(t, "c", (function () { return c })); var r = n(0), i = n(221), s = n(9), o = n(29); const c = e => e.homeScreen, a = (e, t) => e.some(e => e.slotType === t), u = Object(r.createSelector)(c, ({ matchedSlots: e = [] } = {}) => a(e, "help_center")), d = Object(r.createSelector)(c, ({ fetchedSlots: e = [] } = {}) => a(e, "help_center")), l = Object(r.createSelector)(c, ({ matchedSlots: e = [] }) => a(e, "help_center") || a(e, "messenger_app")), p = Object(r.createSelector)([d, s.p, s.b], (e, t, n) => (!e || !t) && n), h = Object(r.createSelector)(c, ({ fetchedSlots: e = [] }) => 0 === e.findIndex(e => "new_conversation_card" === e.slotType)), f = Object(r.createSelector)([i.a], (e = []) => e.length > 0), b = Object(r.createSelector)([f, h], (e, t) => !!e || !t), _ = Object(r.createSelector)([o.a, e => e.homeScreen.hasMoreConversations], (e, t) => e.length > 0 || t), g = Object(r.createSelector)([f, _], (e, t) => !e && t), m = s.o, O = Object(r.createSelector)([f, p, _], (e, t, n) => !e && !t && n) }, , function (e, t, n) { "use strict"; t.a = e => "participant_added" === e || "participant_removed" === e || "article_feedback_requested" === e || "temporary_expectations" === e }, function (e, t, n) { "use strict"; let r, i; n.d(t, "a", (function () { return o })), n.d(t, "f", (function () { return c })), n.d(t, "e", (function () { return a })), n.d(t, "c", (function () { return u })), n.d(t, "b", (function () { return d })), n.d(t, "d", (function () { return l })); let s = !1; const o = () => r, c = e => r = e, a = e => i = e, u = () => i, d = () => !s, l = e => s = e }, , , , , , , , , , , , , , , , function (e, t, n) { "use strict"; var r = n(1), i = n(4); const s = { maxRetries: 3 }; t.a = ({ promise: e, maxRetries: t } = s) => { let n = 0; const o = Object(i.a)() ? window.requestAnimationFrame : window.parent.requestAnimationFrame, c = (i, s) => { e().then(e => i(e), e => { n < t && o ? (n += 1, window.setTimeout(() => o(() => c(i, s)), 1e3 * n)) : (Object(r.g)("dynamicImportCdnError", { message: e && e.message }), s(e)) }) }; return new Promise((e, t) => c(e, t)) } }, function (e, t, n) { "use strict"; n.d(t, "d", (function () { return s })), n.d(t, "c", (function () { return o })), n.d(t, "e", (function () { return c })), n.d(t, "a", (function () { return a })), n.d(t, "b", (function () { return u })), n.d(t, "g", (function () { return d })), n.d(t, "f", (function () { return l })), n.d(t, "h", (function () { return h })); var r = n(0); const i = e => e.messengerSheet, s = (Object(r.createSelector)(i, e => e.isSheetsDataLoading), Object(r.createSelector)(i, e => e.isSheetsDataLoaded)), o = Object(r.createSelector)(i, e => e.isProxyLoaded), c = Object(r.createSelector)(i, e => e.sheetTitle), a = Object(r.createSelector)(i, e => e.isNavigating), u = Object(r.createSelector)(i, e => e.isOpen), d = Object(r.createSelector)(i, e => e.sourceCard), l = Object(r.createSelector)(i, e => e.url), p = Object(r.createSelector)(i, e => e.data), h = Object(r.createSelector)(p, e => JSON.stringify(e)) }, , , function (e, t, n) { "use strict"; n.d(t, "a", (function () { return i })), n.d(t, "b", (function () { return s })); const r = e => { const t = function (t) { return e[t] }, n = "(?:" + Object.keys(e).join("|") + ")", r = RegExp(n), i = RegExp(n, "g"); return function (e) { return e = null == e ? "" : "" + e, r.test(e) ? e.replace(i, t) : e } }, i = r({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }), s = r({ "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#x27;": "'", "&#x60;": "`", "&#39;": "'" }) }, function (e, t, n) { "use strict"; var r = n(0); t.a = Object(r.createSelector)(e => e.openInboundConversationIds, e => (null == e ? void 0 : e.length) > 0) }, function (e, t, n) { "use strict"; function r(e) { return { type: "CREATE_CUSTOMIZATION_OVERRIDE", customizationAttributes: e } } function i(e) { return { type: "CREATE_BANNER_CUSTOMIZATION_OVERRIDE", customizationAttributes: e } } n.d(t, "b", (function () { return r })), n.d(t, "a", (function () { return i })) }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return i })); let r; function i(e, t) { return n => { n({ type: "SHOW_ALERT", payload: { alertType: e, alertPayload: t } }), r && clearTimeout(r), r = setTimeout(() => { n({ type: "CLOSE_ALERT" }) }, 5e3) } } }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return c })), n.d(t, "c", (function () { return a })), n.d(t, "a", (function () { return u })); var r = n(0); const i = e => e.triggers, s = Object(r.createSelector)(i, e => e.triggers), o = Object(r.createSelector)(i, e => e.active), c = Object(r.createSelector)(i, e => e.failed), a = e => Object(r.createSelector)(s, t => { const n = t[e]; if (n) return n; throw new Error(`Can't find the messenger trigger of id=${e}`) }), u = Object(r.createSelector)(s, o, (e, t) => { const n = e[t]; if (n) return n; throw new Error("No messenger trigger is active") }) }, , function (e, t, n) { "use strict"; function r(e, t) { return async (n, r) => { const i = r(), { session: s } = i; let o; if (!t.payload || !t.payload.conversationId) throw new Error("conversationId needs to be provided as a parameter"); o = t.payload.conversationId; try { n({ type: "TRIGGER_TRANSITIONS_REQUEST", payload: { timestamp: Date.now() } }), n(function (e) { return { type: "TRIGGER_TRANSITIONS_SUCCESS", payload: e, conversation: e } }(await e.triggerTransitions(s, o, t))) } catch (e) { n({ type: "TRIGGER_TRANSITIONS_FAILURE", error: !0, payload: new Error((e || "An error occured when triggering Operator transition.").toString()) }) } } } var i = n(2), s = n(1), o = n(22), c = n(80), a = n(155); function u(e) { return { type: "RECEIVE_ARTICLE", article: e } } function d(e, t, n = !1, r = !1, i = null, s = "") { return { type: "OPEN_ARTICLE", articleId: e, fromBrowseMode: n, metricMetadata: t, conversationId: i, forceTransitionComplete: r, hash: s } } function l(e, t, n = !1) { return async (t, r) => { const { session: s, app: o } = r(), { conversationId: c } = o; return t(u(await i.b.getArticle(s, e, c, n))) } } function p(e, t, n = !1, r = !1) { return async (i, s) => { const { app: o } = s(), { conversationId: c } = o; await i(l(e, 0, n)), i(d(e, t, n, r, c)) } } function h(e) { return (t, n) => { const { session: r } = n(), s = e.split("#")[1] || ""; return i.b.getArticleByURL(r, e).then(e => { t(u(e)), t(d(e.id, null, !0, !0, null, s)) }).catch(() => { const t = Object(a.b)().createElement("a"); t.target = "_blank", t.href = e, t.click() }) } } function f(e) { return (t, n) => { const { user: r, article: i } = n(), c = e ? "expanded" : "collapsed"; Object(s.h)(r, c, o.c, o.i, "messenger", { article_id: null == i ? void 0 : i.activeArticleId }), t({ type: "TOGGLE_ARTICLE_EXPANDED_MODE", isExpanded: e }) } } function b() { return { type: "EXPANSION_TRANSITION_COMPLETE" } } function _() { return { type: "ARTICLE_GO_BACK" } } function g(e) { return (t, n) => { const i = n(), a = Object(c.b)(i); if (t({ type: "CLOSE_ARTICLE", closedAt: new Date }), a) { const { user: e, article: t } = i; Object(s.h)(e, "closed", o.c, o.i, "messenger", { article_id: null == t ? void 0 : t.activeArticleId }) } else { const { conversationId: n } = i.app; t(r(e, { type: "closed_article", payload: { conversationId: n } })) } } } function m(e, t, n, r) { return (i, c) => { const { user: a } = c(); return Object(s.h)(a, "clicked", o.f, o.i, "messenger", { reaction_index: n }), i(O(e, t, n, r, "messenger", "search_browse")) } } function O(e, t, n, r, i = "help_center", s = null) { return (o, c) => { o({ type: "CREATE_ARTICLE_REACTION_REQUEST", articleId: t, reactionIndex: n }); const { session: a } = c(); return e.createArticleReaction(a, t, n, !1, r, i, s) } } function E() { return { type: "ARTICLE_LOADED" } } n.d(t, "i", (function () { return d })), n.d(t, "h", (function () { return l })), n.d(t, "g", (function () { return p })), n.d(t, "j", (function () { return h })), n.d(t, "k", (function () { return f })), n.d(t, "f", (function () { return b })), n.d(t, "a", (function () { return _ })), n.d(t, "c", (function () { return g })), n.d(t, "e", (function () { return m })), n.d(t, "d", (function () { return O })), n.d(t, "b", (function () { return E })) }, , , , , , , , , , , , , , , , , , , , function (e, t, n) { "use strict"; n.d(t, "c", (function () { return i })), n.d(t, "a", (function () { return s })), n.d(t, "b", (function () { return o })); var r = n(2); function i(e) { const { activeSubscription: t, userHashVerified: n, secureInstallV2: r, messengerEnabledForVisitors: i, messengerEnabledForUsers: s } = e; return { type: "OPEN_INSTALL_MODE", activeSubscription: t, userHashVerified: n, secureInstallV2: r, messengerEnabledForVisitors: i, messengerEnabledForUsers: s } } function s() { return { type: "CLOSE_INSTALL_MODE" } } function o() { return (e, t) => { const { session: n } = t(); return r.b.disableInstallMode(n).then(() => { e({ type: "CLOSE_INSTALL_MODE" }) }) } } }, function (e, t, n) { "use strict"; n.d(t, "c", (function () { return a })), n.d(t, "a", (function () { return d })), n.d(t, "b", (function () { return l })); var r = n(36), i = n.n(r), s = n(2), o = n(1), c = n(22); function a(e, t = !0) { return (n, r) => { const { session: i, user: a } = r(); return Object(o.h)(a, "submitted", c.e, c.i, "messenger", { phrase: e }), n(function (e, t) { return { type: "SEARCH_ARTICLES_REQUEST", phrase: e, immediate: t } }(e, t)), s.b.searchArticles(i, e).then(t => { n(function (e, t) { return { type: "SEARCH_ARTICLES_SUCCESS", searchResults: t.articles, phrase: e } }(e, t)) }).catch(() => { n(function (e) { return { type: "SEARCH_ARTICLES_FAILURE", phrase: e } }(e)) }) } } const u = i()((e, t) => e(a(t, !1)), 500, { leading: !1, trailing: !0 }); function d(e) { return t => { u(t, e) } } function l(e) { return (t, n) => { const { session: r } = n(); return t(function (e) { return { type: "GET_ARTICLES_SECTIONS_IN_COLLECTION_REQUEST", collectionId: e } }(e)), s.b.getArticleSectionsInCollection(r, e).then(n => { t(function (e, t) { return { type: "GET_ARTICLES_SECTIONS_IN_COLLECTION_SUCCESS", collectionId: e, articleSections: t } }(e, n)) }).catch(n => { t(function (e, t) { return { type: "GET_ARTICLES_SECTIONS_IN_COLLECTION_FAILURE", collectionId: e, error: t } }(e, n)) }) } } }, , , function (e, t, n) { "use strict"; t.a = e => { try { return window.btoa(unescape(encodeURIComponent(e))) } catch (t) { return e } } }, function (e, t, n) { "use strict"; n.d(t, "f", (function () { return o })), n.d(t, "d", (function () { return c })), n.d(t, "e", (function () { return a })), n.d(t, "a", (function () { return u })), n.d(t, "c", (function () { return d })), n.d(t, "b", (function () { return l })), n.d(t, "g", (function () { return h })), n.d(t, "h", (function () { return f })); var r = n(20), i = n(15); const s = e => { var t, n; if (null !== (t = window) && void 0 !== t && null !== (n = t.parent) && void 0 !== n && n.document) return window.parent.document.querySelector(e) }, o = () => { var e; return (null === (e = Object(i.c)()) || void 0 === e ? void 0 : e.innerHeight) || 0 }, c = () => s('[name="intercom-modal-frame"]'), a = () => s('[name="intercom-note-frame"]'), u = () => s('[name="intercom-borderless-frame"]'), d = () => s('[name="intercom-messenger-frame"]'), l = () => { const e = d(); if (e) return e.contentDocument }, p = () => { const e = s('[name="intercom-launcher-frame"]'); if (e) return e.contentDocument }, h = () => p() && Object(r.i)(p())[0], f = () => l() && Object(r.i)(l())[0] }, function (e, t) { e.exports = { source_map: "hidden-source-map", api_base: "https://api-iam.intercom.io", public_path: "https://js.intercomcdn.com/", sheets_proxy_path: "https://intercom-sheets.com/sheets_proxy", sentry_proxy_path: "https://www.intercom-reporting.com/sentry/index.html", install_mode_base: "https://app.intercom.com", sentry_dsn: "https://f305de69cac64a84a494556d5303dc2d@app.getsentry.com/24287", intersection_js: "https://js.intercomcdn.com/intersection/assets/app.js", intersection_styles: "https://js.intercomcdn.com/intersection/assets/styles.js", article_search_messenger_app_id: 27, mode: "production", priv_sep_html_path: "https://www.intercom-reporting.com" } }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return r })), n.d(t, "a", (function () { return i })); const r = 300, i = "ease-in-out" }, function (e, t, n) { "use strict"; n.d(t, "f", (function () { return d })), n.d(t, "e", (function () { return l })), n.d(t, "b", (function () { return p })), n.d(t, "a", (function () { return h })), n.d(t, "c", (function () { return f })), n.d(t, "d", (function () { return b })); var r = n(12), i = n.n(r), s = n(151), o = n(1), c = n(10), a = n(22), u = n(2); function d(e, t) { return n => { "" !== e && n(Object(s.a)(e)), n({ type: "UPDATE_SEARCH_BROWSE_QUERY", phrase: e, hideResultsWithDelay: t }) } } function l(e) { return (t, n) => { const r = n(), { user: c, articleCollections: u } = r; Object(o.h)(c, "clicked", a.d, a.i, "messenger", { collection_id: e }); const d = u.find(t => t.id === e); t({ type: "SELECT_ARTICLE_COLLECTION", collectionId: e }), i()(null == d ? void 0 : d.sections) && t(Object(s.b)(e)) } } function p() { return (e, t) => { const n = t(), { user: r, articleCollections: i } = n; Object(o.h)(r, "clicked", a.h, "home-screen", "messenger"), e(Object(c.k)()), 1 === i.length && e(l(i[0].id)) } } function h() { return (e, t) => { const { session: n } = t(); Object(u.c)(n).then(t => { e(function (e) { return { type: "RECEIVE_ARTICLE_COLLECTIONS", articleCollections: e } }(t)) }) } } function f() { return { type: "SEARCH_BROWSE_GO_BACK" } } function b() { return { type: "SEARCH_BROWSE_GO_BACK_COMPLETE" } } }, , function (e, t, n) { "use strict"; function r(e) { return void 0 !== e.AndroidHost ? e.AndroidHost : void 0 !== e.iOSHost ? e.iOSHost : void 0 } function i(e) { return void 0 !== e.AndroidHost ? "android" : void 0 !== e.iOSHost ? "ios" : void 0 } n.d(t, "a", (function () { return r })), n.d(t, "b", (function () { return i })) }, function (e, t, n) { "use strict"; n.d(t, "c", (function () { return f })), n.d(t, "d", (function () { return _ })), n.d(t, "a", (function () { return g })), n.d(t, "b", (function () { return O })); var r = n(36), i = n.n(r), s = n(2), o = n(5), c = n(21), a = n(40), u = n(1), d = n(43); let l = 0, p = "", h = !1; function f(e, t) { return (n, r) => { const i = r(), { composerSuggestions: s } = Object(d.b)(i); if (!s || !s.isDismissed) return p = e, b(n, r, t) } } const b = i()((function e(t, n, r) { const i = ++l, o = p, c = n(), { session: a } = c, { composerSuggestions: f } = Object(d.b)(c); if (!f || !f.loading) return h = !1, t(m(!0, r)), Object(s.d)(a, o, 3).then(s => { if (t(m(!1, r)), t(g(s, r, i)), h && p !== o) return b.cancel(), void e(t, n, r); const c = Object.assign({}, { query: o, conversation_id: r }, s); Object(u.e)("received", "composer_smart_suggestions", "messenger", {}, c, "m4_metric") }); h = !0 }), 150, { leading: !1, trailing: !0 }); function _(e, t, n, r = !1, i, s) { return async (u, d) => { const l = d(), p = (null == t ? void 0 : t.id) || null, { session: h, newConversation: f, user: b } = l, _ = Object(c.b)(), m = new Date; if (u(g(null, p)), p) { const c = { conversationId: p, clientId: _, createdAt: m, body: Object(a.c)(n.text), composerSuggestionItem: n }; try { u(Object(o.e)(p, c, r)), await e.fireComposerSuggestion(h, { conversationId: p, suggestion: n, clientId: _ }), u(Object(o.f)(p, c, i, t.lastParticipatingAdmin, s, !1, m, !0)) } catch (e) { u(Object(o.d)(p, c, e)) } } else { const t = { clientId: _, body: Object(a.c)(n.text), createdAt: m, composerSuggestionItem: n }; try { u(Object(o.h)(t, r)); const i = await e.fireComposerSuggestion(h, { conversationId: p, suggestion: n, clientId: _, botIntro: f ? f.botIntroId : null, articleUrl: f ? f.articleUrl : null, resolutionBotBehaviorVersionId: b ? b.resolutionBotBehaviorVersionId : null }); u(Object(o.i)(i, null, null, m, "resolution_bot_auto_suggest")) } catch (e) { u(Object(o.g)(null)) } } } } function g(e, t, n = ++l) { return { type: "SET_COMPOSER_SUGGESTIONS", conversationId: t, composerSuggestions: e, priority: n } } function m(e, t) { return { type: "SET_COMPOSER_SUGGESTIONS_LOADING", conversationId: t, loadingStatus: e } } function O(e) { return { type: "SET_COMPOSER_SUGGESTIONS_DISMISSED", conversationId: e } } }, function (e, t, n) { "use strict"; n.d(t, "d", (function () { return f })), n.d(t, "b", (function () { return b })), n.d(t, "h", (function () { return _ })), n.d(t, "a", (function () { return g })), n.d(t, "f", (function () { return m })), n.d(t, "g", (function () { return O })), n.d(t, "c", (function () { return E })), n.d(t, "e", (function () { return S })); var r = n(164), i = n(30), s = n(157), o = n(75), c = n(223), a = n(121), u = n(10), d = n(9), l = n(1), p = n(127), h = n(68); function f(e, t) { return (n, r) => { const { intercomSheet: i } = t.data || {}, s = r(), u = Object(a.g)(s); if (!i) return null; switch (i.type) { case c.b: n({ type: "FINISH_NAVIGATION" }); break; case o.g: n({ type: "START_NAVIGATION" }); break; case o.b: n({ type: "FINISH_NAVIGATION" }); break; case o.a: n(g("sheet_api_close")); break; case o.f: if (!i.payload) return; n(m(i.payload.title)); break; case o.h: if (!u) return null; n({ type: "START_NAVIGATION" }), n(_(e, i.payload)) } } } function b(e, t, n, r, i) { return (s, o) => { const { app: { isMessengerOpen: c }, session: a } = o(); return c || s(Object(u.l)()), s(function (e, t, n) { return { type: "OPEN_SHEET", url: e, cardUri: t, componentId: n } }(r, t, n)), s(v()), s(Object(h.a)()), e.fetchMessengerSheetData(a, t, n, i).then(e => { s(y(e)) }).catch(() => { s(C()) }) } } function _(e, t) { return (n, o) => { const c = o(), { cardUri: u } = Object(a.g)(c), { session: d } = c; return e.submitSheet(d, u, t).then(t => { n(Object(r.b)(t)), n(Object(i.a)(e, t)) }).then(() => new Promise(e => setTimeout(e, 2 * s.b))).then(() => { n({ type: "FINISH_NAVIGATION" }), n(g("sheet_api_submit")) }).catch(() => { n(Object(p.a)("MessengerSheetSubmitError", { sheetValues: t })) }) } } function g(e) { return (t, n) => { const r = n(), i = Object(a.g)(r), { cardUri: s } = i, { card: o } = r.messengerCards[s]; if (o) { const { url: t } = r.messengerSheet, { user: n, app: { conversationId: i } } = r; !function (e, t, n, r, i, s) { l.j.buildAndAddMetric(e, "closed", "messenger_sheet", "messenger", t, { url: n, messenger_card_uri: r, messenger_app_id: i, conversation_id: s }, "m4_metric") }(n, "sheet_api_submit" === e || "sheet_api_close" === e ? e : Object(d.f)(r), t, s, o.messenger_app_id, i) } t({ type: "CLOSE_SHEET" }) } } function m(e) { return { type: "SET_SHEET_TITLE", sheetTitle: e } } function O() { return { type: "START_NAVIGATION" } } function E() { return { type: "FINISH_NAVIGATION" } } function S(e = !1) { return { type: "SET_PROXY_LOADED_STATUS", isLoaded: e } } const v = () => ({ type: "FETCH_MESSENGER_SHEET_DATA_REQUEST" }), y = e => ({ type: "FETCH_MESSENGER_SHEET_DATA_SUCCESS", data: e }), C = () => ({ type: "FETCH_MESSENGER_SHEET_DATA_FAILURE" }) }, , function (e, t, n) { "use strict"; n.d(t, "a", (function () { return o })), n.d(t, "b", (function () { return a })); var r = n(48), i = n(30), s = n(127); const o = (e, t, n, r) => (o, d) => { const { session: l } = d(); return o(c(t, n)), e.submitMessengerCardAction(l, t, n, r).then(t => { o(a(t)), o(Object(i.a)(e, t)) }).catch(() => { o(u(t, n)), o(Object(s.a)("MessengerCardSubmitError", { cardUri: t, componentId: n, inputValues: r })) }) }, c = (e, t) => ({ type: "SUBMIT_MESSENGER_CARD_ACTION_REQUEST", cardUri: e, componentId: t }), a = e => ({ type: "SUBMIT_MESSENGER_CARD_ACTION_SUCCESS", card: Object(r.c)(e) }), u = (e, t) => ({ type: "SUBMIT_MESSENGER_CARD_ACTION_FAILURE", cardUri: e, componentId: t }) }, function (e, t, n) { "use strict"; n.d(t, "c", (function () { return i })), n.d(t, "a", (function () { return s })), n.d(t, "e", (function () { return o })), n.d(t, "b", (function () { return c })), n.d(t, "d", (function () { return a })); var r = n(35); function i(e) { return { type: "OPEN_BOUND_EVENT_CREATOR", stage: e.stage, eventData: e.eventData } } function s(e, t) { return Object(r.h)(e, t), { type: "CHANGE_BOUND_EVENT_CREATOR_STAGE", newStage: t } } function o(e, t) { return Object(r.g)(e, t), { type: "UPDATE_BOUND_EVENT_DATA", eventData: t } } function c(e) { return Object(r.d)(e), { type: "CLOSE_BOUND_EVENT_CREATOR" } } function a(e, t) { return Object(r.e)(e, t), { type: "SAVE_BOUND_EVENT", eventData: t } } }, function (e, t, n) { "use strict"; var r = n(29), i = n(6), s = n(0); const o = Object(s.createSelector)([r.a, e => e.dismissedPointers], (e, t) => e.filter(e => !(e.read && t[e.id]) && Object(i.n)(e))); t.a = Object(s.createSelector)(e => { const { conversations: { byId: t }, pointerMessage: { conversationId: n } } = e; return t[n] }, o, (e, t) => { return n = t, void 0 !== (r = e) && !((e, t) => void 0 !== e.find(e => e.id === t.id))(n, r) && Object(i.n)(r) ? n.concat(r) : n; var n, r }) }, function (e, t, n) { "use strict"; var r = n(8); const i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"; n.d(t, "a", (function () { return s })), n.d(t, "b", (function () { return o })); const s = e => { const t = (e = e || "").match(/[^\x00-\x7F]/); if (!e || r.a.isSafari() && t) { const t = e.split("."); e = `File${(new Date).getTime()}`, t.length > 1 && (e += `.${t[t.length - 1]}`) } return e }, o = (e, t, n) => { if (!e) return; let r; if (e.split(",")[0].indexOf("base64") >= 0) { const t = e.split(",")[1]; r = window.atob ? atob(t) : (e => { if (!e || e.length % 4 != 0) throw new Error("Invalid string. Length must be a multiple of 4"); let t = 0; const n = e.length, r = e.indexOf("=") > 0 ? e.length - e.indexOf("=") : 0, s = new Uint8Array(3 * n / 4 - r), o = new Array(4); for (let n = 0; n < e.length; n += 4)o[0] = i.indexOf(e[n]), o[1] = i.indexOf(e[n + 1]), o[2] = i.indexOf(e[n + 2]), o[3] = i.indexOf(e[n + 3]), s[t++] = 255 & (o[0] << 2 | o[1] >> 4), o[2] < 64 && (s[t++] = 255 & (o[1] << 4 | o[2] >> 2), o[3] < 64 && (s[t++] = 255 & (o[2] << 6 | o[3]))); let c = ""; for (let e = 0; e < s.length; e++)c += String.fromCharCode(parseInt(s[e])); return c })(t) } else r = unescape(e.split(",")[1]); const s = new Uint8Array(r.length); for (let e = 0; e < r.length; e++)s[e] = r.charCodeAt(e); const o = new Blob([s], { type: n }); return o.lastModifiedDate = new Date, o.name = t, o } }, function (e, t, n) { "use strict"; var r = n(161), i = n(99), s = n(39), o = n(5), c = n(10), a = n(40), u = n(21); function d(e, t, n, r, i = null, s = !1, d = !1, l, p) { return (h, f) => { const b = f(), { session: _, borderless: g } = b; let m; m = "message" === n.partType ? null : n.id; const O = function (e) { if (e && e.clientId) return e.clientId; return Object(u.b)() }(i), E = new Date, S = Object(a.c)(r.text), v = { conversationId: t, clientId: O, createdAt: E, body: S, selectedReplyOption: { replyOption: r, quickReplyPart: n } }; return h(Object(o.e)(t, v, s)), g && g.conversationId || h(Object(c.f)(t)), e.quickReply(_, t, m, r, O).then(e => { h(Object(o.f)(t, e, d, l, p, !1, E)) }).catch(e => { h(Object(o.d)(t, v, e)) }) } } var l = n(1); function p(e, t, n, o = !1, c, a, u) { return "messenger_suggested_content" === n.type ? Object(r.d)(e, t, n, o, a, u) : "quick_reply" === n.type ? (c.replyOptions && -1 === c.replyOptions.map(e => e.uuid).indexOf(n.uuid) && (Object(l.c)("quick_reply_uuid_mismatch"), Object(l.g)("quick_reply_uuid_mismatch"), Object(l.b)(`quick_reply_uuid_mismatch partId=${c.id} uuid=${n.uuid}`)), d(e, t.id, c, n)) : "predictive_answer" === n.type ? Object(i.b)(e, n, o) : Object(s.c)(e, n, o) } n.d(t, "a", (function () { return p })) }, , , , , , , , , , , , , function (e, t, n) { "use strict"; t.a = function (e) { var t; e && e.Element && ("function" != typeof (t = e.Element.prototype).matches && (t.matches = t.msMatchesSelector || t.mozMatchesSelector || t.webkitMatchesSelector || function (e) { const t = this, n = (t.document || t.ownerDocument).querySelectorAll(e); let r = 0; for (; n[r] && n[r] !== t;)++r; return Boolean(n[r]) }), "function" != typeof t.closest && (t.closest = function (e) { let t = this; for (; t && 1 === t.nodeType;){ if (t.matches(e)) return t; t = t.parentNode } return null })) } }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, n) { "use strict"; n.d(t, "a", (function () { return c })), n.d(t, "b", (function () { return d })), n.d(t, "c", (function () { return l })); var r = n(4); function i(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function s(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? i(Object(n), !0).forEach((function (t) { o(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : i(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function o(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const c = n(156), { assign: a } = Object; function u() { var e; if (Object(r.a)()) return; const t = window.parent || window; return t ? (null == t ? void 0 : null === (e = t.intercomSettings) || void 0 === e ? void 0 : e.api_base) || function (e) { const t = e.document.querySelector("meta[name=intercom-js-api-base]"); return null == t ? void 0 : t.content }(t) : void 0 } function d() { const e = a({}, c), t = { api_base: u() }; return t.api_base ? (console.log("Overriding config", t), s(s({}, e), t)) : e } function l() { return !1 } }, , , function (e, t, n) { "use strict"; var r = n(0); t.a = Object(r.createSelector)([e => e.session], e => !(!e || !e.token)) }, , function (e, t, n) { "use strict"; n.d(t, "c", (function () { return i })), n.d(t, "d", (function () { return o })), n.d(t, "b", (function () { return c })), n.d(t, "a", (function () { return a })); var r = n(46); function i(e, t) { return (n, i) => { const { session: c } = i(); return n(s(c, t)), e.createOrUpdateUser(c, null, t, "updateUserSuppliedEmail").then(i => { n(o(i, t)), i.unreadConversationIds.length > 0 && n(Object(r.d)(e, "updateUserSuppliedEmail")) }) } } function s(e, t) { return { type: "UPDATE_USER_SUPPLIED_EMAIL_REQUEST", session: e, userSuppliedEmail: t } } function o(e, t) { return { type: "UPDATE_USER_SUPPLIED_EMAIL_SUCCESS", user: e, userSuppliedEmail: t } } function c(e, t) { return (n, r) => { const { session: i } = r(); return n({ type: "UPDATE_PHONE_NUMBER_REQUEST" }), e.updatePhoneNumber(i, t).then(() => { n(function (e) { return { type: "UPDATE_PHONE_NUMBER_SUCCESS", phoneNumber: e } }(t)) }).catch(e => { let t; e && (t = JSON.parse(e).message), n(function (e) { return { type: "UPDATE_PHONE_NUMBER_FAILURE", message: e } }(t)) }) } } function a() { return { type: "INPUT_VALUE_CHANGED" } } }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return r })); const r = e => ({ type: "DISMISS_POINTER_MESSAGE", conversationId: e }) }, function (e, t, n) { "use strict"; var r = n(0), i = n(234); t.a = Object(r.createSelector)(i.a, ({ recentConversations: e }) => e.filter(e => !e.preventEndUserReplies)) }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return a })); var r = n(96), i = n.n(r), s = n(69), o = n.n(s), c = n(0); const a = Object(c.createSelector)(e => e.inboundSuggestions, e => { if (!e) return null; if (e.previewSuggestions) return e.previewSuggestions; return e.allSuggestions && e.allSuggestions.length > 0 ? i()(o()(e.allSuggestions, "priority", "asc")) : null }) }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return r })), n.d(t, "b", (function () { return i })); const r = "html-loaded", i = "sheet-loaded" }, , function (e, t, n) { var r = { "./failed.mp3": 409, "./notification.mp3": 410, "./operator.mp3": 411, "./submit.mp3": 412 }; function i(e) { var t = s(e); return n(t) } function s(e) { if (!n.o(r, e)) { var t = new Error("Cannot find module '" + e + "'"); throw t.code = "MODULE_NOT_FOUND", t } return r[e] } i.keys = function () { return Object.keys(r) }, i.resolve = s, e.exports = i, i.id = 225 }, function (e, t, n) { "use strict"; n.d(t, "b", (function () { return i })), n.d(t, "a", (function () { return o })), n.d(t, "c", (function () { return c })); var r = n(2); function i(e) { return { type: "RECEIVE_SURVEYS", surveys: e } } function s(e) { return { type: "DISMISS_SURVEY", surveyId: e } } function o(e) { return t => { t(s(e)) } } function c(e, t, n) { return async (i, o) => { const { session: c } = o(); await r.b.submitSurvey(c, e, t, n), i(s(e)) } } }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return i })); var r = n(11); const i = () => !!r.b.get("intercom-snippet__intersection-mode") }, function (e, t, n) { "use strict"; n.d(t, "a", (function () { return p })), n.d(t, "b", (function () { return h })); var r = n(122), i = n.n(r), s = n(51), o = n.n(s), c = n(30), a = n(46), u = n(2), d = n(101), l = n(158); const p = () => (e, t) => { const { matchedSlots: n, fetchedSlots: r, isFetched: s, isFetching: c } = t().homeScreen; if (c) return; const a = !o()(n, r.map(e => i()(e, "uri"))); return !s || a ? e(h(u.b)) : void 0 }, h = e => async (t, n) => { t(f()); const r = n(), { session: i, app: s, homeScreen: o } = r, u = Object(d.b)(r), p = s.features.searchBrowseShadowRollout && s.helpCenterSiteUrl; (u || p) && t(Object(l.a)()); const h = await e.getHomeScreenCards(i, { homeScreenSlots: o.matchedSlots, selfServeSuggestionsMatch: s.selfServeSuggestionsMatch }); if (t(Object(a.e)(h)), !1 === h.cardsSuccess) return t(_(h.conversations)), t(g("Couldn't load apps")); const m = h.cards || h; return m.forEach(n => t(Object(c.a)(e, n))), t(b(m.map(e => ({ uri: e.uri, messengerCardId: e.messenger_card_id })), h.conversations, h.hasMoreConversations, h.articleCollections, h.openInboundConversationIds)) }, f = () => ({ type: "GET_HOME_SCREEN_CARDS_REQUEST" }), b = (e, t, n, r, i) => ({ type: "GET_HOME_SCREEN_CARDS_SUCCESS", cards: e, conversations: t, hasMoreConversations: n, articleCollections: r, openInboundConversationIds: i }), _ = e => ({ type: "GET_HOME_SCREEN_CONVERSATIONS_SUCCESS", conversations: e }), g = e => ({ type: "GET_HOME_SCREEN_CARDS_FAILURE", error: e }) }, function (e, t, n) { "use strict"; var r = n(0); t.a = Object(r.createSelector)([e => e.app], e => e.isMessengerOpen) }, function (e, t, n) { "use strict"; var r = n(0); t.a = Object(r.createSelector)([e => e.accessibility], e => e) }, function (e, t, n) { "use strict"; var r = n(0), i = n(163), s = n.n(i), o = n(61); t.a = Object(r.createSelector)(o.b, ({ color: e, secondaryColor: t }) => { if (!e || !t) return {}; const { gradient_start_color: n, gradient_end_color: r, button_text_color: i } = s()({ primaryColor: e, secondaryColor: t, darkenAmount: 20 }); return { primaryColor: e, secondaryColor: t, gradientStartColor: n, gradientEndColor: r, buttonTextColor: i } }) }, function (e, t, n) { "use strict"; var r = n(0); t.a = Object(r.createSelector)([e => e.app], e => e.isBooted || e.bootFailed || e.isBooting && e.isInstantBootEnabled) }, function (e, t, n) { "use strict"; var r = n(0); t.a = Object(r.createSelector)([e => e.user], e => e ? e.locale : void 0) }, function (e, t, n) { "use strict"; var r = n(70), i = n.n(r), s = n(0), o = n(29), c = n(6), a = n(125), u = Object(s.createSelector)(e => e.user, o.a, e => e.openInboundConversationIds, a.a, (e, t, n, r) => { const i = Object(c.t)(t); return r && e.preventMultipleInboundConversation && (null == i ? void 0 : i.length) > 0 ? i.filter((s = n, e => -1 !== s.indexOf(e.id))) : []; var s }); t.a = Object(s.createSelector)(o.a, e => e.newConversation, u, (e, t, n) => { const r = Object(c.t)(e), s = i()([...n, ...r.filter(d)], e => e.id); return t && 1 === t.parts.length && "saving" === t.parts[0].saveState && s.unshift(t), { recentConversations: s } }); function d(e) { const t = Date.now() - 2592e5; return e.lastPartCreatedAt > t } }, , , , , , , , , , , , , function (e, t, n) { e.exports = n(248) }, function (e, t, n) { "use strict"; n.r(t); n(249); var r = n(4); void 0 !== window && void 0 !== window.Object && (!Object(r.a)() && window.parent.__INTERCOM_REACT_DEV_TOOLS__ && (window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__), n(417)) }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, n) { var r = { "./ar.json": [418, 7], "./bg.json": [419, 8], "./bs.json": [420, 9], "./ca.json": [421, 10], "./cs.json": [422, 11], "./da.json": [423, 12], "./de-form.json": [424, 13], "./de.json": [425, 14], "./el.json": [426, 15], "./en.json": [216], "./es.json": [427, 16], "./et.json": [428, 17], "./fi.json": [429, 18], "./fr.json": [430, 19], "./he.json": [431, 20], "./hr.json": [432, 21], "./hu.json": [433, 22], "./id.json": [434, 23], "./it.json": [435, 24], "./ja.json": [436, 25], "./ko.json": [437, 26], "./lt.json": [438, 27], "./lv.json": [439, 28], "./mn.json": [440, 29], "./nb.json": [441, 30], "./nl.json": [442, 31], "./package.json": [443, 32], "./pl.json": [444, 33], "./pt-BR.json": [445, 34], "./pt.json": [446, 35], "./ro.json": [447, 36], "./ru.json": [448, 37], "./sl.json": [449, 38], "./sr.json": [450, 39], "./sv.json": [451, 40], "./tr.json": [452, 41], "./vi.json": [453, 42], "./zh-CN.json": [454, 43], "./zh-TW.json": [455, 44] }; function i(e) { if (!n.o(r, e)) return Promise.resolve().then((function () { var t = new Error("Cannot find module '" + e + "'"); throw t.code = "MODULE_NOT_FOUND", t })); var t = r[e], i = t[0]; return Promise.all(t.slice(1).map(n.e)).then((function () { return n.t(i, 3) })) } i.keys = function () { return Object.keys(r) }, i.id = 379, e.exports = i }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, n) { e.exports = n.p + "audio/failed.4da3027c.mp3" }, function (e, t, n) { e.exports = n.p + "audio/notification.20576730.mp3" }, function (e, t, n) { e.exports = n.p + "audio/operator.2b750c4a.mp3" }, function (e, t, n) { e.exports = n.p + "audio/submit.3abafccd.mp3" }, , , , , function (e, t, n) {
  "use strict"; n.r(t); var r = n(181), i = n(9), s = n(79), o = n(32), c = n(26), a = n(100), u = n(17), d = n(39), l = n(126), p = n(31), h = n(162), f = n(2), b = n(0); const _ = e => e.operator, g = Object(b.createSelector)(_, e => e.lastComposerEvent), m = Object(b.createSelector)(_, e => e.clientsideMessageConditions); class Predicate{ constructor(e) { this.chain = e, this.matched = !1 } trigger() { this.triggering || (this.triggering = !0, this.matched = !0, this.chain.evaluate(), this.triggering = !1) } evaluate() { return this.matched } cancel() { } } class composite_predicate_CompositePredicate extends Predicate{ constructor(e, t) { super(e), this.predicates = t } cancel() { this.predicates.forEach(e => e.cancel()) } } class and_predicate_AndPredicate extends composite_predicate_CompositePredicate{ evaluate() { return this.predicates.every(e => e.evaluate()) } } class duration_predicate_DurationPredicate extends Predicate{ constructor(e, t) { super(e), this.interval = t, this.timer = setTimeout(() => this.trigger(), t) } cancel() { clearTimeout(this.timer) } } var O = n(15); function E(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } class time_on_page_predicate_TimeOnPagePredicate extends Predicate{ constructor(e, t) { super(e), E(this, "_getURL", () => { var e; return null === (e = Object(O.d)()) || void 0 === e ? void 0 : e.href.toLowerCase() }), E(this, "_setURL", () => this.url = this._getURL()), this.interval = t, this._setTimeOnPageTimeout() } _check() { this.url !== this._getURL() && this._resetTimeOnPage() } _resetTimeOnPage() { this.cancel(), this.matched = !1, this._setTimeOnPageTimeout() } _setTimeOnPageTimeout() { this.timer = setTimeout(() => this.trigger(), this.interval), this.urlCheckInterval = setInterval(() => this._check(), 100), this._setURL() } evaluate() { return this._check(), this.matched } cancel() { clearTimeout(this.timer), clearInterval(this.urlCheckInterval) } } class duration_delta_predicate_DurationDeltaPredicate extends Predicate{ constructor(e, t, n) { super(e), this.attribute = n, this.interval = t, setTimeout(() => this._createDeltaTimer(), 0) } _createDeltaTimer() { this.timer = setTimeout(() => { this._evaluateDeltaPredicate() ? this.trigger() : this._createDeltaTimer() }, this._getInterval()) } _getInterval() { const e = this.getTimestamp(); if (!e) return this.interval; const t = Date.now() - e; return Math.max(100, this.interval - t) } _evaluateDeltaPredicate() { const e = this.getTimestamp(); return !!e && Date.now() - e > this.interval } getTimestamp() { return this.chain.getAttribute(this.attribute) } cancel() { clearTimeout(this.timer) } } class periodic_predicate_PeriodicPredicate extends Predicate{ constructor(e, t, n) { super(e), this.missing = n || !1, this.interval = t, this.intervalTimer = setInterval(() => { this._check() }, t) } _check() { this.check() ? this.trigger() : this.matched = !1 } evaluate() { return this._check(), this.matched } cancel() { clearInterval(this.intervalTimer) } } class duration_since_predicate_DurationSincePredicate extends periodic_predicate_PeriodicPredicate{ constructor(e, t, n, r) { super(e, t, r), this.attribute = n } check() { const e = this.chain.getAttribute(this.attribute); return e ? Date.now() - e >= this.interval : this.missing } } class equals_predicate_EqualsPredicate extends periodic_predicate_PeriodicPredicate{ constructor(e, t, n, r, i) { super(e, t), this.attribute = n, this.value = r, this.other = i } check() { return this.other ? this.chain.getAttribute(this.other) === this.chain.getAttribute(this.attribute) : this.value === this.chain.getAttribute(this.attribute) } } class or_predicate_OrPredicate extends composite_predicate_CompositePredicate{ evaluate() { return this.predicates.some(e => e.evaluate()) } } var S = n(20), v = n(25); var y = n(4); class css_selector_predicate_CssSelectorPredicate extends Predicate{ constructor(e, t) { var n, r, i; super(e), i = e => { if (this.isNodeVisible(e)) { if (this.matched) return; this.trigger() } else this.matched = !1 }, (r = "_check") in (n = this) ? Object.defineProperty(n, r, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : n[r] = i, this.selector = t } evaluate() { if (Object(y.a)()) this.matched || (e = this.selector, t = e => { this._check(e) }, Object(v.f)(e, (e => t => e({ offsetWidth: t.offsetWidth, offsetHeight: t.offsetHeight, getClientRects: () => t.clientRects }))(t))); else { const e = window.parent.document.querySelector(this.selector); this._check(e) } var e, t; return this.matched } isNodeVisible(e) { return e && Object(S.u)(e) } } class string_predicate_StringPredicate extends Predicate{ constructor(e, t, n, r) { super(e), this.targetString = t, this.comparison = n, this.candidateString = r } evaluate() { return this.matched = this._check(), this.matched } _check() { switch (this.comparison) { case "eq": return this.candidateString === this.targetString; case "ne": return this.candidateString !== this.targetString; case "starts_with": return this.targetString.startsWith(this.candidateString); case "ends_with": return this.targetString.endsWith(this.candidateString); case "contains": return -1 !== this.targetString.indexOf(this.candidateString); case "not_contains": return !(-1 !== this.targetString.indexOf(this.candidateString)); case "known": return !!this.targetString && "" !== this.targetString; default: return !1 } } }

  class url_predicate_UrlPredicate extends string_predicate_StringPredicate {
    constructor(e, t, n) {
      var r, i, s;

      super(e), s = () => {
        var e;
        return null === (e = Object(O.d)()) || void 0 === e ? void 0 : e.href.toLowerCase()
      },
        (i = "_getURL") in (r = this) ? Object.defineProperty(r, i, { value: s, enumerable: !0, configurable: !0, writable: !0 }) : r[i] = s,
        
        this.targetString = this._getURL(),
        this.comparison = t,
        this.candidateString = null == n ? void 0 : n.toLowerCase(),
        setTimeout(() => this.evaluate(), 0), this.interval = setInterval(() => this.evaluate(), 1e3)
    }
    
    evaluate() {
      const targetString = this._getURL();
      this.targetString = targetString;

      const check = this._check();

      check ? this.trigger() : (this.matched = !1)
      
      return this.matched;
    }
    
    _check() {
      switch (this.comparison) {
        case "regex": return new RegExp(this.candidateString).test(this.targetString);
        default: return super._check()
      }
    }
    
    cancel() {
      clearInterval(this.interval)
    }
  } 
  
  class predicate_chain_PredicateChain{ constructor(e, t) { this.condition = e, this.callback = t, this.root = new and_predicate_AndPredicate(this, this.processSubpredicates(e.predicates)) } evaluate() { if (!this.evaluating) { this.evaluating = !0; const e = this.root.evaluate(); return e && (this.cancel(), setTimeout(() => this.callback(this.condition), 0)), this.evaluating = !1, e } } cancel() { this.root.cancel() } setContext(e) { this.context = e } getAttribute(e) { if (this.context) return this.context[e] } processPredicate(e) { var t; switch (e.type) { case "or": return new or_predicate_OrPredicate(this, this.processSubpredicates(e.predicates)); case "and": return new and_predicate_AndPredicate(this, this.processSubpredicates(e.predicates)); case "eq": return new equals_predicate_EqualsPredicate(this, this.parseInterval(e.interval), e.attribute, e.value, e.other); case "string": if ("client_attributes.last_visited_url" === e.attribute) return new url_predicate_UrlPredicate(this, e.comparison, e.value); case "duration_integer": return null !== (t = e.attribute) && void 0 !== t && -1 !== t.indexOf("time_on_page") ? new time_on_page_predicate_TimeOnPagePredicate(this, 1e3 * this.parseInterval(e.value)) : new duration_predicate_DurationPredicate(this, 1e3 * this.parseInterval(e.value)); case "duration_integer_ms": return new duration_predicate_DurationPredicate(this, this.parseInterval(e.value)); case "duration_delta": return new duration_delta_predicate_DurationDeltaPredicate(this, this.parseInterval(e.value), e.attribute); case "duration_since": return new duration_since_predicate_DurationSincePredicate(this, this.parseInterval(e.value), e.attribute, e.missing); case "css_selector": return new css_selector_predicate_CssSelectorPredicate(this, e.value) } } parseInterval(e) { return parseInt(e, 10) } processSubpredicates(e) { return e ? e.map(e => this.processPredicate(e)).filter(Boolean) : [] } } class predicates_matcher_PredicatesMatcher{ constructor(e) { this.callback = e, this.isStarted = !1, this.context = {} } start(e) { this.isStarted && this.shutdown(), this.conditions = e, this._setupPredicates(e), this.isStarted = !0 } shutdown() { this.predicateChains && this.predicateChains.forEach(e => e.cancel()), this.isStarted = !1 } setContext(e) { this.predicateChains && this.predicateChains.forEach(t => t.setContext(e)) } _setupPredicates(e) { this.predicateChains = e.map(e => new predicate_chain_PredicateChain(e, this.callback)) } } var C = n(5), I = n(30), T = n(6); const w = Object(b.createStructuredSelector)({ clientsideMessageConditions: m }); var j = function (e) { const t = new predicates_matcher_PredicatesMatcher(t => { var n; e.dispatch((n = t, (e, t) => { const { session: r } = t(); return f.b.visitorAutoMessageConditionSatisfied(r, n).then(t => { t && (Object(T.s)(t).forEach(t => e(Object(I.a)(f.b, t, !1))), e({ type: "VISITOR_AUTO_MESSAGE_CONDITION_SATISFIED_SUCCESS" }), e(Object(C.o)(f.b, t, !1, Date.now()))) }, () => e({ type: "VISITOR_AUTO_MESSAGE_CONDITION_SATISFIED_ERROR" })) })) }); return () => { const { clientsideMessageConditions: n } = w(e.getState()), { conditions: r } = t; ((e, t) => { if (!t) return !1; if (!e && t) return !0; if (e.length !== t.length) return !0; const n = e.map(e => e.id), r = t.map(e => e.id); return !n.every(e => r.indexOf(e) >= 0) })(r, n) && t.start(n) } }, R = n(51), A = n.n(R), N = n(66), M = n(42); var P = n(16), U = n(1), D = n(8); function L(e) { return e.reduce((e, t) => Object(T.m)(t) ? e : (e[Object(T.g)(t)] = !0, e), {}) } function k(e, t) { const n = Object(M.a)(t).length > 0 && function (e, t) { const { forceSnippet: n } = t.notificationTypeOverrides; return e.filter(e => { if (Object(T.m)(e)) return !1; const t = `${e.id}-${Object(P.a)(e.parts).id}`; return void 0 === n[t] }) }(e, t).length > 0; if (Object(D.g)() && void 0 !== e.find(e => Object(T.i)(e))) return !0; const r = new Date; return r.setDate(r.getDate() - 2), !((t.user ? new Date(t.user.lastContactedAt) : new Date) < r) && (e.length > 1 || n) } var x = function (e) { return () => { const t = e.getState(), n = L(Object(M.a)(t).slice(0, -3)), r = Object(N.a)(t), i = L(k(r, t) ? r : []); (Object.keys(n).length > 0 || Object.keys(i).length > 0) && function (e, t, n) { const r = (e => e.notificationTypeOverrides.suppress)(e), i = (e => e.notificationTypeOverrides.forceSnippet)(e); return !A()(r, t) || !A()(i, n) }(t, n, i) && e.dispatch({ type: "UPDATE_NOTIFICATION_TYPE_OVERRIDES", suppress: n, forceSnippet: i }), function (e, t, n) { if (Object.keys(e).length <= 1) return; const r = t.filter(e => !e.dismissed); if (1 !== r.length || "full" !== r[0].parts[0].notificationType) return; Object(U.g)("fullMessageSuppressed", { messageType: r[0].parts[0].messageType, dismissedCount: t.length - r.length, isLauncherEnabled: n.isLauncherEnabled }) }(i, r, t.launcher) } }, V = n(67), G = n(238), B = n.n(G); function F(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function H(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? F(Object(n), !0).forEach((function (t) { $(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : F(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function $(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const { assign: W } = Object, q = { isBooting: !1, isBooted: !1, bootFailed: !1, isRehydrated: !1, isMessengerOpen: !1, isWaitingForOpenContent: !1, isErrorReportingDisabled: !1, isOverrideSamplingEnabled: !1, isIntercomLinkEnabled: !1, conversationId: null, features: { anonymousInboundMessages: !1, googleAnalytics: !1, inboundMessages: !1, outboundMessages: !1 }, boundWebEvents: [], isBoundEventCreatorOpen: !1, isInstantBootEnabled: !0, cookieDomain: void 0, viewStack: [], userConversationAttachmentsEnabled: !0, userConversationGifsEnabled: !0, isDeveloperWorkspace: !1, upfrontEmailCollection: { upfrontEmailCollectionSubmitted: !1, upfrontEmailCollectionSetting: "never", upfrontEmailCollectorShowing: !1 }, launcherLogoUrl: void 0, customGoogleAnalyticsTrackerId: void 0, temporaryExpectationsMessage: void 0, hideLightweightAppMessenger: !1 }; function z(e, t) { if (t === Object(i.e)(e)) return W({}, e); const n = [].concat(e.viewStack, [t]); return W({}, e, { viewStack: n }) } function Q(e) { return W({}, e, { viewStack: [] }) } function Y(e) { return W({}, e, { viewStack: e.viewStack.slice(0, -1) }) } const { assign: J } = Object, K = { isLauncherEnabled: !1, launcherEnabledOverride: "not-present" }; const { assign: X } = Object, Z = { isPresent: !1 }; const { assign: ee } = Object; function te(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function ne(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? te(Object(n), !0).forEach((function (t) { re(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : te(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function re(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const ie = { id: null, parts: [], operator: null }; const se = {}; const oe = {}; function ce(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function ae(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? ce(Object(n), !0).forEach((function (t) { ue(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ce(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function ue(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const de = {}; var le = n(49), pe = n.n(le), he = n(11); function fe(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function be(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? fe(Object(n), !0).forEach((function (t) { _e(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : fe(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function _e(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const { assign: ge } = Object, me = { activeArticleId: null, isExpanded: !1, expansionTransitionComplete: !1, isLoaded: !1, viewStack: [], transitioningBack: !1, inSearchBrowse: !1, hash: "" }; function Oe(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Ee(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Oe(Object(n), !0).forEach((function (t) { Se(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Oe(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Se(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const ve = {}; function ye(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Ce(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? ye(Object(n), !0).forEach((function (t) { Ie(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ye(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Ie(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const Te = []; var we = n(123), je = n.n(we), Re = n(74), Ae = n.n(Re); var Ne = function (e, t) { switch (t.type) { case "TRIGGER_TRANSITIONS_SUCCESS": case "CREATE_CONVERSATION_SUCCESS": case "GET_CONVERSATION_SUCCESS": return Object.assign({}, e, { attributes: e.attributes.map(e => Object.assign({}, e, { saveState: pe()(e.value) || "" === e.value ? "unsaved" : "saved" })) }); case "UPDATE_CONVERSATION_FORM_REQUEST": { const { identifier: n, value: r } = t; return Object.assign({}, e, { attributes: e.attributes.map(e => e.identifier === n ? Object.assign({}, e, { value: r, saveState: "saving" }) : e) }) } case "UPDATE_CONVERSATION_FORM_SUCCESS": return Object.assign({}, e, { attributes: e.attributes.map(e => e.identifier === t.identifier ? Object.assign({}, e, { saveState: "saved" }) : e) }); case "UPDATE_CONVERSATION_FORM_FAILURE": return Object.assign({}, e, { attributes: e.attributes.map(e => e.identifier === t.identifier ? Object.assign({}, e, { saveState: "failed" }) : e) }); default: return e } }; const { assign: Me } = Object; function Pe({ createdAt: e, body: t, clientId: n, file: r, isMessage: i, selectedReplyOption: s, composerSuggestionItem: o }) { return { body: t, createdAt: e, clientId: n, isMessage: i, file: r, selectedReplyOption: s, composerSuggestionItem: o, partType: i ? "message" : "comment", eventData: {}, saveState: "saving", seenState: "not-seen-yet", replyOptions: [], author: { isAdmin: !1, isSelf: !0 } } } var Ue = function (e = [], t) { switch (t.type) { case "CREATE_CONVERSATION_REQUEST": { const { body: n, createdAt: r, file: i, composerSuggestionItem: s, clientId: o } = t.part; return t.isRetry ? e.map(e => Me({}, e, { saveState: "saving" })) : e.concat(Pe({ createdAt: r, body: n, file: i, isMessage: !0, composerSuggestionItem: s, clientId: o })) } case "CREATE_CONVERSATION_FAILURE": return e.map(e => Me({}, e, { saveState: "failed", saveFailureReason: t.reason })); case "CREATE_COMMENT_REQUEST": { const { body: n, createdAt: r, clientId: i, file: s, selectedReplyOption: o } = t.part; return t.isRetry ? e.map(e => i === e.clientId ? Me({}, e, { saveState: "saving" }) : e) : e.concat(Pe({ createdAt: r, body: n, clientId: i, file: s, isMessage: !1, selectedReplyOption: o })) } case "CREATE_COMMENT_SUCCESS": return e.map(e => t.part.clientId === e.clientId ? Me({}, e, t.part, { saveState: "saved" }) : e); case "CREATE_COMMENT_FAILURE": return e.map(e => t.part.clientId === e.clientId ? Me({}, e, { saveState: "failed", saveFailureReason: t.reason }) : e); case "TRIGGER_TRANSITIONS_SUCCESS": case "GET_CONVERSATION_SUCCESS": case "CREATE_CONVERSATION_SUCCESS": return t.conversation.parts.map(e => e.form ? Me({}, e, { form: Ne(e.form, t), saveState: e.saveState || "saved" }) : Me({}, e, { saveState: e.saveState || "saved" })); case "CREATE_REACTION_FAILURE": case "CREATE_REACTION_REQUEST": return e.map(e => e.reactionsReply ? Me({}, e, { reactionsReply: { reactionIndex: t.reactionIndex, reactionSet: e.reactionsReply.reactionSet } }) : e); case "CHANGE_CONVERSATION_RATING_INDEX": return e.map(e => "conversationRating" === e.messageType ? Me({}, e, { conversationRating: { chosenRating: t.ratingIndex } }) : e); case "ADD_CONVERSATION_RATING_REMARK": return e.map(e => "conversationRating" === e.messageType ? Me({}, e, { conversationRating: Me({}, e.conversationRating, { remark: t.remark, submitted: !0 }) }) : e); case "UPDATE_UPLOAD_PROGRESS": return e.map(e => t.part.clientId === e.clientId ? Me({}, e, { body: [Me({}, e.body[0], { progress: t.progress })] }) : e); case "USER_CONTENT_SEEN_BY_ADMIN": case "ADMIN_IS_TYPING": return e.map(e => "not-seen-yet" === e.seenState ? Me({}, e, { seenState: "seen" }) : e); case "UPDATE_CONVERSATION_FORM_REQUEST": case "UPDATE_CONVERSATION_FORM_SUCCESS": case "UPDATE_CONVERSATION_FORM_FAILURE": return e.map(e => e.id === t.partId ? Me({}, e, { form: Ne(e.form, t) }) : e); default: return e } }, De = function (e = {}, t) { switch (t.type) { case "ADMIN_IS_TYPING": { const { lastActiveAt: e, firstName: n, avatarUrl: r, adminId: i } = t; return { id: i, lastActiveAt: e, firstName: n, avatar: { square128: r } } } default: return e } }, Le = n(76); function ke(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function xe(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? ke(Object(n), !0).forEach((function (t) { Ve(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ke(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Ve(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const { assign: Ge } = Object, Be = { fetchState: "partial", isFetching: !1, isUpdating: !1, read: !0, dismissed: !1, preventEndUserReplies: !1, parts: [], participants: [], isEmailAttributeCollectorInserted: !1, composerSuggestions: Le.b }; function Fe(e, t) { return void 0 !== e ? e : t } var He = function (e = Be, t) { switch (t.type) { case "GET_CONVERSATION_REQUEST": { const { conversationId: n, isUpdating: r } = t; return Ge({}, e, { id: Fe(e.id, n), fetchState: Fe(e.fetchState, "partial"), isFetching: !0, isUpdating: r, read: Fe(e.read, !0), dismissed: Fe(e.dismissed, !1), preventEndUserReplies: Fe(e.preventEndUserReplies, !1), parts: Fe(e.parts, []) }) } case "TRIGGER_TRANSITIONS_SUCCESS": case "GET_CONVERSATION_SUCCESS": { const { conversation: n } = t, r = n.parts.some(e => !e.author.isAdmin); return n.parts = Object(T.q)(n, e), n.composerState = Object(T.p)(n, e), Ge({}, e, n, { fetchState: "all", isFetching: !1, isUpdating: !1, userParticipated: r, parts: Ue(e.parts, t) }) } case "UPDATE_CONVERSATION_FORM_FAILURE": case "UPDATE_CONVERSATION_FORM_SUCCESS": case "CREATE_CONVERSATION_SUCCESS": { const { conversation: n } = t; return Ge({}, e, n, { fetchState: "all", isFetching: !1, isUpdating: !1, userParticipated: !0, parts: Ue(e.parts, t) }) } case "CONVERSATION_READ_ELSEWHERE": case "MARK_CONVERSATION_AS_READ_REQUEST": return Ge({}, e, { read: !0 }); case "DISMISS_NOTIFICATIONS_REQUEST": return Ge({}, e, { dismissed: !0 }); case "CREATE_COMMENT_SUCCESS": case "CREATE_COMMENT_REQUEST": { const { createdAt: n } = t.part; return Ge({}, e, { userParticipated: !0, lastPartCreatedAt: n, parts: Ue(e.parts, t) }) } case "UPDATE_CONVERSATION_FORM_REQUEST": case "CREATE_REACTION_REQUEST": case "CREATE_COMMENT_FAILURE": case "UPDATE_UPLOAD_PROGRESS": case "CHANGE_CONVERSATION_RATING_INDEX": case "ADD_CONVERSATION_RATING_REMARK": case "USER_CONTENT_SEEN_BY_ADMIN": return Ge({}, e, { parts: Ue(e.parts, t) }); case "ADMIN_IS_TYPING": return Ge({}, e, { lastTypingAdmin: De(e.lastTypingAdmin, t), parts: Ue(e.parts, t) }); case "EMAIL_ATTRIBUTE_COLLECTOR_INSERTED": return Ge({}, e, { isEmailAttributeCollectorInserted: !0 }); case "COMPOSER_CONTENT_CHANGED": case "SET_COMPOSER_SUGGESTIONS": case "SET_COMPOSER_SUGGESTIONS_DISMISSED": case "SET_COMPOSER_SUGGESTIONS_LOADING": return null == t.conversationId ? e : xe(xe({}, e), {}, { composerSuggestions: Object(Le.a)(e.composerSuggestions, t) }); default: return e } }; const { assign: $e } = Object, We = { isFetching: !1, pagesFetched: 0, scrollPosition: 0, byId: {} }; function qe(e = {}, t, n, r) { const { fetchState: i } = e; return $e({}, e, { id: t, fetchState: i || "partial", dismissed: n, read: r }) } function ze(e = {}, t) { switch (t.type) { case "CREATE_OR_UPDATE_USER_SUCCESS": case "UPDATE_USER_SUPPLIED_EMAIL_SUCCESS": { const { unreadConversationIds: n, unreadDismissedConversationIds: r } = t.user, i = {}; return r && r.forEach(t => i[t] = qe(e[t], t, !0, !1)), n && n.forEach(t => i[t] = qe(e[t], t, !1, !1)), $e({}, e, i) } case "GET_UNREAD_CONVERSATIONS_SUCCESS": { const { unreadConversationIds: n, unreadDismissedConversationIds: r } = t.unreadConversations, i = {}; return r.forEach(t => i[t] = qe(e[t], t, !0, !1)), n.forEach(t => i[t] = qe(e[t], t, !1, !1)), $e({}, e, i) } case "GET_CONVERSATIONS_SUCCESS": case "GET_HOME_SCREEN_CONVERSATIONS_SUCCESS": case "GET_HOME_SCREEN_CARDS_SUCCESS": { const n = (t.conversations.conversations || t.conversations).reduce((t, n) => { const { id: r } = n; return e[r] && "all" === e[r].fetchState && !function (e, t = {}, n = {}) { const r = Ae()(t, [e, "parts"]), i = Ae()(n, "parts"); return je()(r).id !== je()(i).id }(r, e, n) ? t : (t[r] = function (e = {}) { return $e({}, e, { fetchState: "summary", isFetching: !1, isUpdating: !1, parts: e.parts.map(e => $e({}, e, { saveState: "saved" })) }) }(n), t) }, {}); return $e({}, e, n) } case "UPDATE_CONVERSATION_FORM_SUCCESS": case "CREATE_CONVERSATION_SUCCESS": case "GET_CONVERSATION_SUCCESS": case "TRIGGER_TRANSITIONS_SUCCESS": { const { id: n } = t.conversation, r = { [n]: He(e[n], t) }; return $e({}, e, r) } case "UPDATE_CONVERSATION_FORM_REQUEST": case "CREATE_REACTION_REQUEST": case "CREATE_REACTION_SUCCESS": case "GET_CONVERSATION_REQUEST": case "CREATE_COMMENT_REQUEST": case "CREATE_COMMENT_SUCCESS": case "CREATE_COMMENT_FAILURE": case "CONVERSATION_READ_ELSEWHERE": case "MARK_CONVERSATION_AS_READ_REQUEST": case "CHANGE_CONVERSATION_RATING_INDEX": case "UPDATE_CONVERSATION_FORM_FAILURE": case "ADD_CONVERSATION_RATING_REMARK": case "SET_COMPOSER_SUGGESTIONS_DISMISSED": case "SET_COMPOSER_SUGGESTIONS": case "SET_COMPOSER_SUGGESTIONS_LOADING": { const n = t.conversationId; if (null == n) return e; const r = { [n]: He(e[n], t) }; return $e({}, e, r) } case "ADMIN_IS_TYPING": case "USER_CONTENT_SEEN_BY_ADMIN": { const n = t.conversationId; if (void 0 === e[n]) return e; const r = { [n]: He(e[n], t) }; return $e({}, e, r) } case "UPDATE_UPLOAD_PROGRESS": { const n = t.conversationId; if (void 0 === n) return e; const r = { [n]: He(e[n], t) }; return $e({}, e, r) } case "DISMISS_NOTIFICATIONS_REQUEST": { const n = t.conversationIds.reduce((n, r) => (n[r] = He(e[r], t), n), {}); return $e({}, e, n) } case "EMAIL_ATTRIBUTE_COLLECTOR_INSERTED": { const n = t.conversationId; if (void 0 === e[n]) return e; const r = { [n]: He(e[n], t) }; return $e({}, e, r) } default: return e } } function Qe(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Ye(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Qe(Object(n), !0).forEach((function (t) { Je(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Qe(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Je(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const { assign: Ke } = Object, Xe = { isFetching: !1, isUpdating: !1, fetchState: "all", read: !0, intercomLinkSolution: "live-chat", parts: [], participants: [], composerState: { visible: !0 }, composerSuggestions: Le.b, botIntroId: null, articleUrl: null }; const Ze = {}; const et = { suppress: {}, forceSnippet: {} }; const { assign: tt } = Object, nt = { isSaving: !1, showErrorMessage: !1, errorMessage: null }; const { assign: rt } = Object, it = { isInstallModeOpen: !1, installModeConfig: { activeSubscription: !1, userHashVerified: !1, secureInstallV2: !1, messengerEnabledForVisitors: !0, messengerEnabledForUsers: !0 } }; const { assign: st } = Object, ot = { isFetching: !1, gifs: [], fetchingFailed: !1, searchTerm: null }; var ct = n(35); const at = { eventData: { selector: "", eventTrigger: ct.b.CLICK.key, name: "", sourceUrl: "", urlRegex: "" }, stage: ct.a.CHOOSE_EVENT_TYPE }; var ut = n(12), dt = n.n(ut); const { assign: lt } = Object, pt = { isLauncherDiscoveryModeEnabled: !1, isLauncherDiscoveryModeOpening: !1, isLauncherDiscoveryModeClosing: !1, hasDiscoveredLauncher: !1 }; function ht(e) { const { app: { features: t, inboundConversationsDisabled: n, officeHoursResponse: r }, clientsideMessageConditions: i, clientsideRulesetConditions: s, role: o } = e; return !!t.launcherDiscoveryMode && (!n && (!(!dt()(i) || !dt()(s)) && (!!pe()(r) && "visitor" === o))) } var ft = n(60), bt = n.n(ft), _t = n(23), gt = n.n(_t), mt = n(48); function Ot(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Et(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Ot(Object(n), !0).forEach((function (t) { St(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Ot(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function St(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const vt = {}; const yt = { isFetching: !1, isFetched: !1, isFailed: !1, matchedSlots: [], fetchedSlots: [], hasMoreConversations: !1 }; function Ct(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function It(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Ct(Object(n), !0).forEach((function (t) { Tt(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Ct(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Tt(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const wt = { isOpen: !1, isSheetsDataLoading: !1, isSheetsDataLoaded: !1, isProxyLoaded: !1, isNavigating: !1, sourceCard: null, data: null, url: null, sheetTitle: "" }; function jt(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Rt(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? jt(Object(n), !0).forEach((function (t) { At(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : jt(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function At(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const Nt = { composerHasContent: !1, lastComposerEvent: 0, lastArticleClosedAt: null, conversationIdOfLastViewedArticle: null, clientsideMessageConditions: null, clientsideRulesetConditions: null, lastTriggerTransitionTimestamp: null, userCreatedConversationAt: null }; function Mt(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Pt(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Mt(Object(n), !0).forEach((function (t) { Ut(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Mt(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Ut(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const Dt = { isShown: !1, alertType: void 0, alertPayload: void 0 }; function Lt(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function kt(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Lt(Object(n), !0).forEach((function (t) { xt(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Lt(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function xt(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const Vt = {}; function Gt(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Bt(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Gt(Object(n), !0).forEach((function (t) { Ft(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Gt(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Ft(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const Ht = { tabNavigation: !1, accessibilityTheme: "default", secondaryAccessibilityTheme: "light" }; function $t(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Wt(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? $t(Object(n), !0).forEach((function (t) { qt(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : $t(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function qt(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const zt = { isFetching: !1, isFetched: !1, isPreviewing: !1, fetchingFailed: !1, activeTour: void 0, updateFailed: !1, videoAudioMuted: !0, userHasInteractedWithVideo: !1, endTourAnimation: "", isAwaitingProgress: !1 }; function Qt(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Yt(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Qt(Object(n), !0).forEach((function (t) { Jt(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Qt(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Jt(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const Kt = { triggers: {}, active: null, failed: !1 }; var Xt = n(70), Zt = n.n(Xt), en = n(95), tn = n.n(en); function nn(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function rn(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? nn(Object(n), !0).forEach((function (t) { sn(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : nn(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function sn(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const on = { allSuggestions: [], isDismissed: !1, serverSideSuggestions: null, previewSuggestions: null }; const cn = []; function an(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function un(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? an(Object(n), !0).forEach((function (t) { dn(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : an(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function dn(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const ln = { content: null }; function pn(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function hn(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? pn(Object(n), !0).forEach((function (t) { fn(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : pn(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function fn(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const bn = { composerSuggestions: null }; function _n(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function gn(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? _n(Object(n), !0).forEach((function (t) { mn(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : _n(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function mn(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const On = { isActive: !1 }; function En(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Sn(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? En(Object(n), !0).forEach((function (t) { vn(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : En(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function vn(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const yn = { type: null, metadata: {} }; function Cn(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function In(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Cn(Object(n), !0).forEach((function (t) { Tn(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Cn(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Tn(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const wn = { isOpen: !1, isFetching: !0, fetchingFailed: !1, phrase: "", searchResults: [], selectedArticleCollectionId: null, showArticleCollection: !1, showSearchResults: !1, hasSearchResults: !1, routedToNewConversation: !1, immediateSearch: !1, hideResultsWithDelay: !1, closeTransitionEnded: !0, searchedPhrase: "", hasViewedAnArticle: !1, skipOpenAnimation: !1 }; const jn = []; const Rn = []; var An = Object(V.combineReducers)({ app: function (e = q, t) { switch (t.type) { case "CREATE_OR_UPDATE_USER_REQUEST": { const { cookieDomain: n } = t.customizationAttributes; return W({}, e, { bootFailed: !1, isBooting: !e.isBooted, cookieDomain: n }) } case "CREATE_OR_UPDATE_USER_SUCCESS": { const { activeAdmins: n, alignment: r, backgroundImage: i, boundWebEvents: s, color: o, customGoogleAnalyticsTrackerId: c, expectedResponseDelay: a, expectedResponseDelayTranslationKey: u, features: d, helpCenterSiteUrl: l, horizontalPadding: p, accessToTeammateEnabled: h, isAudioEnabled: f, isDeveloperWorkspace: b, isErrorReportingDisabled: _, isInstantBootEnabled: g, isIntercomLinkEnabled: m, isOverrideSamplingEnabled: O, lastActiveAt: E, launcherExpectedResponseDelayTranslationKey: S, launcherLogoUrl: v, logoUrl: y, name: C, officeHoursResponse: I, originCookieDomain: T, realtimeConfig: w, secondaryColor: j, selfServeSuggestionsMatch: R, smsEnabled: A, teamGreeting: N, teamIntro: M, temporaryExpectationsMessage: P, upfrontEmailCollectionSetting: U, useCacheFor: D, userConversationAttachmentsEnabled: L, userConversationGifsEnabled: k, verticalPadding: x } = t.user.app, V = null != D && -1 !== D.indexOf("inbound_conversations_disabled") && (e.isRehydrated || e.isBooted) ? e.inboundConversationsDisabled : t.user.app.inboundConversationsDisabled; return W({}, e, { activeAdmins: n, alignment: r, backgroundImage: i, bootFailed: !1, boundWebEvents: s, color: o, customGoogleAnalyticsTrackerId: c, expectedResponseDelay: a, expectedResponseDelayTranslationKey: u, features: d, helpCenterSiteUrl: l, horizontalPadding: p, inboundConversationsDisabled: V, accessToTeammateEnabled: h, isAudioEnabled: f, isBooted: !0, isBooting: !1, isDeveloperWorkspace: b, isErrorReportingDisabled: _, isInstantBootEnabled: g, isIntercomLinkEnabled: m, isOverrideSamplingEnabled: O, lastActiveAt: E, launcherExpectedResponseDelayTranslationKey: S, launcherLogoUrl: v, logoUrl: y, name: C, officeHoursResponse: I, originCookieDomain: T, realtimeConfig: w, secondaryColor: j, selfServeSuggestionsMatch: R, smsEnabled: A, teamGreeting: N, teamIntro: M, temporaryExpectationsMessage: P, userConversationAttachmentsEnabled: L, userConversationGifsEnabled: k, verticalPadding: x, upfrontEmailCollection: H(H({}, e.upfrontEmailCollection), {}, { upfrontEmailCollectionSetting: U }) }) } case "CREATE_OR_UPDATE_USER_FAILURE": return t.isIdentityVerificationError ? W({}, e, { bootFailed: !0, isBooting: !1, isBooted: !1 }) : W({}, e, { bootFailed: e.isBooting }); case "MESSENGER_OPEN_REQUEST_SENT": return W({}, e, { isWaitingForOpenContent: !0 }); case "MESSENGER_OPEN_REQUEST_SUCCESS": case "MESSENGER_OPEN_REQUEST_FAILED": return W({}, e, { isWaitingForOpenContent: !1 }); case "OPEN_MESSENGER": return W({}, e, { isMessengerOpen: !0, viewStack: Object(i.j)(e) ? ["home-screen"] : e.viewStack, hideLightweightAppMessenger: t.hideLightweightAppMessenger }); case "CLOSE_MESSENGER": return W({}, e, { isMessengerOpen: !1 }); case "SHOW_NEW_CONVERSATION": return W(z(t.replaceCurrentView ? Y(e) : e, "new-conversation"), { conversationId: null }); case "SHOW_SEARCH_BROWSE": return W(e, { conversationId: null }); case "SHOW_CONVERSATION": return W(z(t.replaceCurrentView ? Y(e) : e, "conversation"), { conversationId: t.conversationId }); case "SHOW_CONVERSATIONS": return t.resetNavigationHistory ? z(Q(e), "conversations") : z(e, "conversations"); case "GET_CONVERSATION_FAILURE": if (e.conversationId === t.conversationId) { let t = W(e, { conversationId: null }); return "conversation" === t.viewStack.slice(-1)[0] && (t = Y(t)), Object(i.j)(t) && (t = W(t, { viewStack: ["home-screen"] })), t } return e; case "SHOW_EMPTY_SCREEN": return z(e, "empty-screen"); case "SHOW_MESSENGER_TRIGGER_SCREEN": return z(t.replaceCurrentView ? Y(e) : e, "messenger-trigger"); case "SHOW_HOME_SCREEN": return z(e, "home-screen"); case "CREATE_CONVERSATION_SUCCESS": return "new-conversation" === Object(i.e)(e) ? W({}, z(Y(e), "conversation"), { conversationId: t.conversation.id }) : e; case "OPEN_BORDERLESS_CONVERSATION": return W({}, e, { conversationId: t.conversationId }); case "REHYDRATE": return W({}, e, t.state.app, { features: W({}, e.features, t.state.app.features), isRehydrated: !0 }); case "OPEN_BOUND_EVENT_CREATOR": return W({}, e, { isBoundEventCreatorOpen: !0 }); case "MESSENGER_NAVIGATE_BACK": return A()(e.viewStack.slice(-2), ["browse-mode", "conversation"]) ? z(Q(e), "home-screen") : Y(e); case "TOGGLE_UPFRONT_EMAIL_COLLECTOR_STATE": return W({}, e, { upfrontEmailCollection: H(H({}, e.upfrontEmailCollection), {}, { upfrontEmailCollectorShowing: !e.upfrontEmailCollection.upfrontEmailCollectorShowing }) }); case "UPFRONT_EMAIL_COLLECTION_SUBMITTED": return W({}, e, { upfrontEmailCollection: H(H({}, e.upfrontEmailCollection), {}, { upfrontEmailCollectionSubmitted: !0 }) }); default: return e } }, launcher: function (e = K, t) { switch (t.type) { case "CREATE_OR_UPDATE_USER_REQUEST": { const n = "not-present" === t.launcherEnabledOverride ? e.launcherEnabledOverride : t.launcherEnabledOverride; return J({}, e, { launcherEnabledOverride: n }) } case "CREATE_OR_UPDATE_USER_SUCCESS": { const { isLauncherEnabled: n } = t.user.app; return J({}, e, { isLauncherEnabled: n }) } case "CREATE_OR_UPDATE_USER_FAILURE": return t.isIdentityVerificationError ? J({}, e, { isLauncherEnabled: !1 }) : e; case "REHYDRATE": return J({}, e, t.state.launcher); default: return e } }, botIntro: function (e = ie, t) { switch (t.type) { case "CREATE_OR_UPDATE_USER_SUCCESS": { const n = t.user.botIntro; return n ? ne(ne({}, e), {}, { id: n.id, parts: n.parts, operator: n.operator }) : e } default: return e } }, user: function (e = Z, t) { switch (t.type) { case "CREATE_OR_UPDATE_USER_REQUEST": { const { url: n, customAttributes: r, anonymousSessionDuration: i, activeCompanyId: s } = t; return X({}, e, { url: n, customAttributes: r, anonymousSessionDuration: i, activeCompanyId: s }) } case "CREATE_OR_UPDATE_USER_SUCCESS": { const { id: n, locale: r, countryCode: i, role: s, name: o, userSuppliedEmail: c, unreadConversationIds: a, unreadDismissedConversationIds: u, notificationLinkConversationId: d, phoneNumber: l, articleConversationId: p, cdasBreachingLimit: h, lastContactedAt: f, requiresCookieConsent: b, resolutionBotBehaviorVersionId: _, searchRequiredBeforeConversation: g, preventMultipleInboundConversation: m } = t.user, O = t.user.hasConversations || a.length > 0 || u.length > 0; return X({}, e, { id: n, locale: r, countryCode: i, role: s, name: o, userSuppliedEmail: c, hasConversations: O, phoneNumber: l, articleConversationId: p, notificationLinkConversationId: d, cdasBreachingLimit: h, lastContactedAt: f, requiresCookieConsent: b, resolutionBotBehaviorVersionId: _, searchRequiredBeforeConversation: g, preventMultipleInboundConversation: m }) } case "CREATE_CONVERSATION_REQUEST": case "VISITOR_AUTO_MESSAGE_CONDITION_SATISFIED_SUCCESS": case "GET_CONVERSATION_SUCCESS": return X({}, e, { hasConversations: !0 }); case "GET_CONVERSATIONS_SUCCESS": { const { conversations: n } = t.conversations, r = void 0 !== n && n.length > 0; return X({}, e, { hasConversations: r }) } case "UPDATE_USER_SUPPLIED_EMAIL_SUCCESS": { const { userSuppliedEmail: n } = t; return X({}, e, { userSuppliedEmail: n }) } case "UPDATE_PHONE_NUMBER_SUCCESS": { const { phoneNumber: n } = t; return X({}, e, { phoneNumber: n }) } case "USER_IS_PRESENT": return X({}, e, { isPresent: !0 }); case "USER_IS_ABSENT": return X({}, e, { isPresent: !1 }); case "REHYDRATE": return X({}, e, t.state.user); default: return e } }, session: function (e = null, t) { switch (t.type) { case "CREATE_OR_UPDATE_USER_REQUEST": { const { appId: n, userId: r, email: i, userHash: s, anonymousId: o, anonymousSession: c, sessionId: a } = t.session; return ee({}, e, { appId: n, userId: r, email: i, userHash: s, anonymousId: o, anonymousSession: c, sessionId: a }) } case "CREATE_OR_UPDATE_USER_SUCCESS": { const { anonymousId: n, anonymousSession: r, activeCompanyId: i, newSession: s } = t.user; return ee({}, e, { anonymousId: n || e.anonymousId, anonymousSession: r || e.anonymousSession, activeCompanyId: i, newSession: s }) } case "DESTROY_SESSION": return null; case "ANONYMOUS_SESSION_CHANGED": return ee({}, e, { anonymousSession: t.anonymousSession }); default: return e } }, openOnBoot: function (e = yn, t) { var n; switch (t.type) { case "CLOSE_MESSENGER": case "MESSENGER_NAVIGATE_BACK": case "SHOW_HOME_SCREEN": case "HIDE_SEARCH_BROWSE": return Sn({}, yn); case "SHOW_CONVERSATION": return { type: "conversation", metadata: { conversationId: t.conversationId } }; case "CREATE_CONVERSATION_SUCCESS": return { type: "conversation", metadata: { conversationId: t.conversation.id } }; case "SHOW_NEW_CONVERSATION": return { type: "new_conversation", metadata: {} }; case "OPEN_SHEET": if ("article-link" === t.componentId) { const n = Sn({}, e); return { type: "article", metadata: { url: t.url, cardUri: t.cardUri, componentId: t.componentId, previousState: n } } } return e; case "CLOSE_SHEET": return null !== (n = e.metadata) && void 0 !== n && n.previousState ? Sn({}, e.metadata.previousState) : Sn({}, yn); case "OPEN_ARTICLE": { if (!t.fromBrowseMode) return e; const { articleIds: n } = e.metadata; return { type: "search_browse_article", metadata: { articleIds: n ? [...n, t.articleId].filter(Boolean) : [t.articleId].filter(Boolean) } } } case "CLOSE_ARTICLE": return "search_browse_article" === e.type && e.metadata.articleIds.length > 1 ? { type: "search_browse_article", metadata: { articleIds: e.metadata.articleIds.slice(0, e.metadata.articleIds.length - 1) } } : yn; case "REHYDRATE": return Sn(Sn({}, e), t.state.openOnBoot); case "DESTROY_SESSION": return yn; default: return e } }, operator: (e = Nt, t) => { switch (t.type) { case "SHOW_NEW_CONVERSATION": case "SHOW_CONVERSATION": return Rt(Rt({}, e), {}, { lastArticleClosedAt: null, conversationIdOfLastViewedArticle: null }); case "COMPOSER_CONTENT_CHANGED": return Rt(Rt({}, e), {}, { lastComposerEvent: t.lastActiveAt.getTime(), composerHasContent: "" !== t.composerContent }); case "CREATE_CONVERSATION_REQUEST": return Rt(Rt({}, e), {}, { userCreatedConversationAt: t.timestamp }); case "OPEN_ARTICLE": return Rt(Rt({}, e), {}, { lastArticleClosedAt: null, conversationIdOfLastViewedArticle: t.conversationId }); case "CLOSE_ARTICLE": return Rt(Rt({}, e), {}, { lastArticleClosedAt: t.closedAt }); case "CREATE_OR_UPDATE_USER_SUCCESS": case "UPDATE_USER_SUPPLIED_EMAIL_SUCCESS": return Rt(Rt({}, e), {}, { clientsideMessageConditions: t.user.clientsideMessageConditions, clientsideRulesetConditions: t.user.clientsideRulesetConditions }); case "TRIGGER_TRANSITIONS_REQUEST": return Rt(Rt({}, e), {}, { lastTriggerTransitionTimestamp: t.payload.timestamp }); case "REHYDRATE": return Rt(Rt({}, e), t.state.operator); default: return e } }, message: function (e = se, t) { switch (t.type) { case "OPEN_MESSAGE": { const { conversationId: e, partId: n } = t; return { conversationId: e, partId: n } } case "CLOSE_MESSAGE": return se; default: return e } }, pointerMessage: function (e = oe, t) { switch (t.type) { case "OPEN_POINTER_MESSAGE": { const { conversationId: e, partId: n } = t; return { conversationId: e, partId: n } } case "CLOSE_POINTER_MESSAGE": return oe; default: return e } }, dismissedPointers: function (e = de, t) { switch (t.type) { case "DISMISS_POINTER_MESSAGE": return ae(ae({}, e), {}, { [t.conversationId]: !0 }); default: return e } }, article: function (e = me, t) { switch (t.type) { case "OPEN_ARTICLE": { if (parseInt(e.activeArticleId) === parseInt(t.articleId)) return e; const n = JSON.parse(he.a.get("intercom-article-expanded-mode")), r = !!pe()(n) || n; return { activeArticleId: t.articleId, inSearchBrowse: t.fromBrowseMode, isExpanded: r, expansionTransitionComplete: t.forceTransitionComplete || !r, viewStack: [...e.viewStack, t.articleId], isLoaded: !1, hash: t.hash } } case "CLOSE_ARTICLE": const { viewStack: n } = e; return n.pop(), n.length > 0 ? be(be({}, e), {}, { activeArticleId: n[n.length - 1], isLoaded: !1, transitioningBack: !1 }) : me; case "SEARCH_BROWSE_CLOSE_TRANSITION_ENDED": case "SHOW_SEARCH_BROWSE": return me; case "ARTICLE_LOADED": return be(be({}, e), {}, { isLoaded: !0 }); case "TOGGLE_ARTICLE_EXPANDED_MODE": return he.a.set("intercom-article-expanded-mode", JSON.stringify(t.isExpanded)), ge({}, e, { isExpanded: t.isExpanded }); case "EXPANSION_TRANSITION_COMPLETE": return be(be({}, e), {}, { expansionTransitionComplete: !0 }); case "ARTICLE_GO_BACK": return be(be({}, e), {}, { transitioningBack: !0 }); case "OPEN_MESSENGER": if (e.activeArticleId) return be(be({}, e), {}, { isLoaded: !1 }); default: return e } }, articles: function (e = ve, t) { switch (t.type) { case "RECEIVE_ARTICLE": return Ee(Ee({}, e), {}, { [t.article.id]: t.article }); case "CREATE_ARTICLE_REACTION_REQUEST": { const { articleId: n, reactionIndex: r } = t; if (!e.hasOwnProperty(n)) return e; const i = e[n]; return Ee(Ee({}, e), {}, { [n]: Ee(Ee({}, i), {}, { reactionsReply: Ee(Ee({}, i.reactionsReply), {}, { reactionIndex: r }) }) }) } }return e }, articleCollections: function (e = Te, t) { switch (t.type) { case "GET_HOME_SCREEN_CARDS_SUCCESS": case "RECEIVE_ARTICLE_COLLECTIONS": if (t.articleCollections.length > 0) return t.articleCollections; case "GET_ARTICLES_SECTIONS_IN_COLLECTION_SUCCESS": const { collectionId: n, articleSections: r } = t; return e.map(e => e.id === n ? Ce(Ce({}, e), {}, { sections: r }) : e) }return e }, conversations: function (e = We, t) { switch (t.type) { case "CREATE_OR_UPDATE_USER_SUCCESS": case "UPDATE_USER_SUPPLIED_EMAIL_SUCCESS": case "GET_UNREAD_CONVERSATIONS_SUCCESS": return $e({}, e, { byId: ze(e.byId, t) }); case "GET_CONVERSATIONS_REQUEST": return $e({}, e, { isFetching: !0 }); case "GET_CONVERSATIONS_SUCCESS": { const { page: n, totalPages: r } = t.conversations.pages; return $e({}, e, { isFetching: !1, pagesFetched: n, totalPages: r, byId: ze(e.byId, t) }) } case "GET_CONVERSATIONS_FAILURE": return $e({}, e, { isFetching: !1 }); case "UPDATE_CONVERSATION_FORM_REQUEST": case "CREATE_REACTION_REQUEST": case "CREATE_REACTION_FAILURE": case "GET_CONVERSATION_REQUEST": case "GET_CONVERSATION_SUCCESS": case "CREATE_COMMENT_REQUEST": case "CREATE_COMMENT_SUCCESS": case "CREATE_COMMENT_FAILURE": case "CONVERSATION_READ_ELSEWHERE": case "MARK_CONVERSATION_AS_READ_REQUEST": case "DISMISS_NOTIFICATIONS_REQUEST": case "CREATE_CONVERSATION_SUCCESS": case "ADMIN_IS_TYPING": case "UPDATE_UPLOAD_PROGRESS": case "CHANGE_CONVERSATION_RATING_INDEX": case "ADD_CONVERSATION_RATING_REMARK": case "UPDATE_CONVERSATION_FORM_SUCCESS": case "USER_CONTENT_SEEN_BY_ADMIN": case "UPDATE_CONVERSATION_FORM_FAILURE": case "TRIGGER_TRANSITIONS_SUCCESS": case "GET_HOME_SCREEN_CARDS_SUCCESS": case "GET_HOME_SCREEN_CONVERSATIONS_SUCCESS": case "SET_COMPOSER_SUGGESTIONS_DISMISSED": case "COMPOSER_CONTENT_CHANGED": case "SET_COMPOSER_SUGGESTIONS": case "SET_COMPOSER_SUGGESTIONS_LOADING": return $e({}, e, { byId: ze(e.byId, t) }); case "CONVERSATIONS_SCROLLED": return $e({}, e, { scrollPosition: t.scrollPosition }); case "EMAIL_ATTRIBUTE_COLLECTOR_INSERTED": return $e({}, e, { byId: ze(e.byId, t) }); default: return e } }, newConversation: function (e = Xe, t) { switch (t.type) { case "SHOW_NEW_CONVERSATION": return Ke({}, e, { defaultMessage: t.defaultMessage, articleUrl: t.articleUrl || null }); case "MESSENGER_NAVIGATE_BACK": return Ke({}, e, { articleUrl: null }); case "CREATE_CONVERSATION_REQUEST": case "CREATE_CONVERSATION_FAILURE": return Ke({}, e, { userParticipated: !0, parts: Ue(e.parts, t) }); case "SET_NEW_CONVERSATION_COMPOSER_STATE": return Ke({}, e, { composerState: t.composerState }); case "CREATE_CONVERSATION_SUCCESS": return Ke({}, Xe, { composerState: e.composerState }); case "UPDATE_UPLOAD_PROGRESS": { const { conversationId: n } = t; return void 0 !== n ? e : Ke({}, e, { parts: Ue(e.parts, t) }) } case "COMPOSER_CONTENT_CHANGED": case "SET_COMPOSER_SUGGESTIONS": case "SET_COMPOSER_SUGGESTIONS_DISMISSED": case "SET_COMPOSER_SUGGESTIONS_LOADING": return Ye(Ye({}, e), {}, { composerSuggestions: Object(Le.a)(e.composerSuggestions, t) }); case "DELIVER_BOT_INTRO": return Ye(Ye({}, e), {}, { parts: t.botIntro.parts.map((e, n) => ({ id: `bot-intro-${n}`, author: t.botIntro.operator, createdAt: t.createdAt, partType: "bot_intro", body: e, showCreatedAt: !0 })), botIntroId: t.botIntro.id }); default: return e } }, borderless: function (e = Ze, t) { switch (t.type) { case "OPEN_BORDERLESS_CONVERSATION": return Object.assign({}, e, { conversationId: t.conversationId }); case "CLOSE_MESSAGE": return Ze; default: return e } }, notificationChannels: function (e = nt, t) { switch (t.type) { case "UPDATE_USER_SUPPLIED_EMAIL_REQUEST": return tt({}, e, { isSaving: !0 }); case "CREATE_OR_UPDATE_USER_SUCCESS": case "UPDATE_USER_SUPPLIED_EMAIL_SUCCESS": return tt({}, e, { isSaving: !1 }); case "UPDATE_PHONE_NUMBER_REQUEST": return tt({}, e, { isSaving: !0, errorMessage: null, showErrorMessage: !1 }); case "UPDATE_PHONE_NUMBER_SUCCESS": return tt({}, e, { phoneNumber: t.phoneNumber, isSaving: !1 }); case "UPDATE_PHONE_NUMBER_FAILURE": return tt({}, e, { errorMessage: t.message, isSaving: !1, showErrorMessage: !0 }); case "INPUT_VALUE_CHANGED": return tt({}, e, { errorMessage: null, showErrorMessage: !1 }); default: return e } }, notificationTypeOverrides: function (e = et, t) { switch (t.type) { case "UPDATE_NOTIFICATION_TYPE_OVERRIDES": return Object.assign({}, e, { suppress: Object.assign({}, e.suppress, t.suppress), forceSnippet: Object.assign({}, e.forceSnippet, t.forceSnippet) }); default: return e } }, install: function (e = it, t) { switch (t.type) { case "OPEN_INSTALL_MODE": { const { activeSubscription: n, userHashVerified: r, secureInstallV2: i, messengerEnabledForVisitors: s, messengerEnabledForUsers: o } = t; return rt({}, e, { isInstallModeOpen: !0, installModeConfig: { activeSubscription: n, userHashVerified: r, secureInstallV2: i, messengerEnabledForVisitors: s, messengerEnabledForUsers: o } }) } case "CLOSE_INSTALL_MODE": return rt({}, e, { isInstallModeOpen: !1 }); default: return e } }, gifs: function (e = ot, t) { switch (t.type) { case "SEARCH_GIFS_REQUEST": { const { searchTerm: n } = t; return st({}, e, { isFetching: !0, fetchingFailed: !1, searchTerm: n }) } case "SEARCH_GIFS_SUCCESS": { const { gifs: n, searchTerm: r } = t; return r !== e.searchTerm ? e : st({}, e, { isFetching: !1, gifs: n, fetchingFailed: !1, searchTerm: r }) } case "SEARCH_GIFS_FAILURE": { const { searchTerm: n } = t; return n !== e.searchTerm ? e : st({}, e, { isFetching: !1, fetchingFailed: !0, searchTerm: n }) } default: return e } }, boundEventCreator: function (e = at, t) { switch (t.type) { case "OPEN_BOUND_EVENT_CREATOR": return { stage: t.stage, eventData: Object.assign({}, e.eventData, t.eventData) }; case "CHANGE_BOUND_EVENT_CREATOR_STAGE": return Object.assign({}, e, { stage: t.newStage }); case "UPDATE_BOUND_EVENT_DATA": return Object.assign({}, e, { eventData: Object.assign({}, e.eventData, t.eventData) }); case "CLOSE_BOUND_EVENT_CREATOR": return at; default: return e } }, launcherDiscoveryMode: (e = pt, t) => { const { isLauncherDiscoveryModeEnabled: n } = e; switch (t.type) { case "CREATE_OR_UPDATE_USER_SUCCESS": { const { user: n } = t; return lt({}, e, { isLauncherDiscoveryModeEnabled: ht(n) }) } case "GET_CONVERSATIONS_REQUEST": return lt({}, e, { isLauncherDiscoveryModeEnabled: !1, hasDiscoveredLauncher: !0 }); case "OPEN_MESSENGER": return lt({}, e, { hasDiscoveredLauncher: !0, isLauncherDiscoveryModeEnabled: !1 }); case "OPEN_LAUNCHER_DISCOVERY_MODE": return lt({}, e, { isLauncherDiscoveryModeOpening: n, hasDiscoveredLauncher: !0 }); case "CLOSE_LAUNCHER_DISCOVERY_MODE": return lt({}, e, { isLauncherDiscoveryModeOpening: !1, isLauncherDiscoveryModeClosing: n }); case "SHOW_NEW_CONVERSATION": case "OPENING_MESSENGER_FROM_LAUNCHER_DISCOVERY_MODE": return lt({}, e, { isLauncherDiscoveryModeClosing: !1, isLauncherDiscoveryModeOpening: !1 }); case "DISABLE_LAUNCHER_DISCOVERY_MODE": return lt({}, e, { isLauncherDiscoveryModeEnabled: !1, isLauncherDiscoveryModeClosing: !1 }); case "REHYDRATE": const { launcherDiscoveryMode: r } = t.state; return lt({}, e, r); default: return e } }, messengerCards: (e = vt, t) => { switch (t.type) { case "SUBMIT_MESSENGER_CARD_ACTION_FAILURE": { const n = t.componentId, r = Et({}, e); return gt()(r, `${t.cardUri}.isFetching`, !1), bt()(r, `${t.cardUri}.card.canvas.content.components`, e => Object(mt.d)(n, e, !1)) } case "SUBMIT_MESSENGER_CARD_ACTION_SUCCESS": { const n = Et({}, e); return gt()(n, `${t.card.uri}.isFetching`, !1), gt()(n, `${t.card.uri}.isFetched`, !0), gt()(n, `${t.card.uri}.partialCard`, t.card) } case "SUBMIT_MESSENGER_CARD_ACTION_REQUEST": { const n = t.componentId, r = Et({}, e); return gt()(r, `${t.cardUri}.isFetching`, !0), bt()(r, `${t.cardUri}.card.canvas.content.components`, e => Object(mt.d)(n, e, !0)) } case "GET_CARD_CONTENT_REQUEST": { const n = Et({}, e); return gt()(n, `${t.card.uri}.isContentFetching`, !0) } case "GET_CARD_CONTENT_SUCCESS": { const n = Et({}, e); return gt()(n, `${t.card.uri}.isFetching`, !1), gt()(n, `${t.card.uri}.isFetched`, !0), gt()(n, `${t.card.uri}.isContentFetched`, !0), gt()(n, `${t.card.uri}.isContentError`, !1), gt()(n, `${t.card.uri}.isContentFetching`, !1), gt()(n, `${t.card.uri}.card`, t.card), gt()(n, `${t.card.uri}.card.canvas.content`, t.content), bt()(n, `${t.card.uri}.card`, mt.e) } case "GET_CARD_CONTENT_FAILURE": { const n = Et({}, e); return gt()(n, `${t.card.uri}.isContentError`, !0), gt()(n, `${t.card.uri}.isContentFetching`, !1), gt()(n, `${t.card.uri}.partialCard`, t.card) } default: return e } }, homeScreen: (e = yt, t) => { switch (t.type) { case "CREATE_OR_UPDATE_USER_SUCCESS": return Object.assign({}, e, { matchedSlots: t.user.homeScreenSlots }); case "GET_HOME_SCREEN_CARDS_REQUEST": return Object.assign({}, e, { isFetching: !0, isFetched: !1, isFailed: !1 }); case "GET_HOME_SCREEN_CARDS_SUCCESS": return Object.assign({}, e, { isFetching: !1, isFetched: !0, isFailed: !1, fetchedSlots: (n = e.matchedSlots, r = t.cards, n.map(e => { if ("messenger_app" !== e.slotType) return Object.assign({}, e); const t = r.find(t => t.messengerCardId === e.messengerCardId); return Object.assign({}, e, { uri: (null == t ? void 0 : t.uri) || null }) })), hasMoreConversations: t.hasMoreConversations }); case "GET_HOME_SCREEN_CARDS_FAILURE": return Object.assign({}, e, { isFetching: !1, isFetched: !1, isFailed: !0, fetchedSlots: e.matchedSlots.filter(e => "new_conversation_card" === e.slotType), error: t.error }); default: return e }var n, r }, messengerSheet: (e = wt, t) => { switch (t.type) { case "START_NAVIGATION": return It(It({}, e), {}, { isNavigating: !0 }); case "FINISH_NAVIGATION": return It(It({}, e), {}, { isNavigating: !1 }); case "SET_PROXY_LOADED_STATUS": return It(It({}, e), {}, { isProxyLoaded: t.isLoaded }); case "OPEN_SHEET": return It(It({}, e), {}, { url: t.url, isOpen: !0, sourceCard: { cardUri: t.cardUri, componentId: t.componentId } }); case "OPEN_SHEET_WITH_TOKEN": return It(It({}, e), {}, { url: t.url, isOpen: !0, sourceCard: { token: t.token, componentId: t.componentId } }); case "CLOSE_SHEET": return wt; case "SET_SHEET_TITLE": return It(It({}, e), {}, { sheetTitle: t.sheetTitle }); case "FETCH_MESSENGER_SHEET_DATA_REQUEST": return It(It({}, e), {}, { isSheetsDataLoading: !0 }); case "FETCH_MESSENGER_SHEET_DATA_SUCCESS": return It(It({}, e), {}, { isSheetsDataLoading: !1, isSheetsDataLoaded: !0, data: t.data }); case "FETCH_MESSENGER_SHEET_DATA_FAILURE": return It(It({}, e), {}, { isSheetsDataLoading: !1 }); default: return e } }, messengerAlerts: function (e = Dt, t) { switch (t.type) { case "SHOW_ALERT": return Pt(Pt({}, e), {}, { isShown: !0, alertType: t.payload.alertType, alertPayload: t.payload.alertPayload }); case "CLOSE_ALERT": return Dt; default: return e } }, customizationOverrides: function (e = Vt, t) { switch (t.type) { case "CREATE_CUSTOMIZATION_OVERRIDE": return kt(kt({}, e), t.customizationAttributes); case "CREATE_BANNER_CUSTOMIZATION_OVERRIDE": return kt(kt(kt({}, e), t.customizationAttributes), {}, { isSetByBanner: !0 }); default: return e } }, accessibility: function (e = Ht, t) { switch (t.type) { case "SET_TAB_NAVIGATION": return Bt(Bt({}, e), {}, { tabNavigation: t.tabNavigation }); case "SET_ACCESSIBILITY_THEME": return Bt(Bt({}, e), {}, { accessibilityTheme: t.accessibilityTheme, secondaryAccessibilityTheme: t.secondaryAccessibilityTheme }); default: return e } }, tour: (e = zt, t) => { switch (t.type) { case "FETCH_TOUR_REQUEST": return Wt(Wt({}, e), {}, { isFetching: !0, isFetched: !1, fetchingFailed: !1 }); case "TOUR_UPDATE_FAILED": return Wt(Wt({}, e), {}, { updateFailed: !0 }); case "FETCH_TOUR_SUCCESS": return Wt(Wt({}, e), {}, { isFetching: !1, isFetched: !0, fetchingFailed: !1, isPreviewing: t.isPreviewingTour, activeTour: t.tour }); case "FETCH_TOUR_FAILURE": return Wt(Wt({}, e), {}, { isFetching: !1, isFetched: !1, fetchingFailed: !0 }); case "PROGRESS_TOUR": return e.activeTour ? Wt(Wt({}, e), {}, { activeTour: Wt(Wt({}, e.activeTour), {}, { activeStepId: t.activeStepId }) }) : Wt({}, e); case "START_TOUR_PREVIEW": return Wt(Wt({}, e), {}, { isFetched: !0, isPreviewing: !0, activeTour: t.tour }); case "STOP_TOUR_PREVIEW": return Wt(Wt({}, e), {}, { isFetched: !1, isPreviewing: !1, activeTour: void 0 }); case "COMPLETE_TOUR": case "RESET_TOUR": case "STOP_TOUR": return zt; case "MARK_ACTIVE_TOUR_AS_COMPLETED": return e.activeTour ? Wt(Wt({}, e), {}, { activeTour: Wt(Wt({}, e.activeTour), {}, { isCompleted: !0 }) }) : Wt({}, e); case "CHANGE_VIDEO_MUTED": return Wt(Wt({}, e), {}, { videoAudioMuted: t.muted, userHasInteractedWithVideo: !0 }); case "PROGRESS_TOUR_REQUEST_STARTED": return Wt(Wt({}, e), {}, { isAwaitingProgress: !0 }); case "PROGRESS_TOUR_REQUEST_FINISHED": return Wt(Wt({}, e), {}, { isAwaitingProgress: !1 }); default: return e } }, triggers: function (e = Kt, t) { const n = Yt({}, e.triggers); switch (t.type) { case "ADD_TRIGGER": return n[t.trigger.id] = t.trigger, Yt(Yt({}, e), {}, { triggers: n }); case "REMOVE_TRIGGER": return delete n[t.triggerId], Yt(Yt({}, e), {}, { triggers: n }); case "ACTIVATE_TRIGGER": return Yt(Yt({}, e), {}, { active: t.triggerId, failed: !1 }); case "DEACTIVATE_TRIGGER": return Yt(Yt({}, e), {}, { active: null }); case "ACTIVATE_TRIGGER_FAILED": return Yt(Yt({}, e), {}, { failed: !0 }); default: return e } }, inboundSuggestions: function (e = on, t) { switch (t.type) { case "ADD_INBOUND_SUGGESTIONS": return rn(rn({}, e), {}, { allSuggestions: [...e.allSuggestions, t.composerSuggestions] }); case "REMOVE_INBOUND_SUGGESTIONS": return rn(rn({}, e), {}, { allSuggestions: tn()(e.allSuggestions, e => e.rulesetId !== t.rulesetId) }); case "UPDATE_SERVER_SIDE_INBOUND_SUGGESTIONS": { let n = e.allSuggestions; return e.serverSideSuggestions && (n = tn()(n, t => e.serverSideSuggestions && t.rulesetId !== e.serverSideSuggestions.rulesetId)), t.composerSuggestions && (n = Zt()([...n, t.composerSuggestions], "rulesetId")), rn(rn({}, e), {}, { allSuggestions: n, serverSideSuggestions: t.composerSuggestions }) } case "UPDATE_PREVIEW_INBOUND_SUGGESTIONS": return rn(rn({}, e), {}, { previewSuggestions: t.composerSuggestions }); default: return e } }, banners: function (e = cn, t) { switch (t.type) { case "RECEIVE_BANNERS": if (t.banners) return t.banners; case "REACT_TO_BANNER": if (t.bannerId && t.reaction) return e.map(e => e.banner_id === t.bannerId ? Object.assign({}, e, { selected_reaction: t.reaction }) : e) }return e }, composer: (e = ln, t) => { switch (t.type) { case "COMPOSER_CONTENT_CHANGED": return un(un({}, e), {}, { content: t.composerContent }); default: return e } }, predictiveAnswers: (e = bn, t) => { switch (t.type) { case "SET_PREDICTIVE_ANSWERS": return hn(hn({}, e), {}, { composerSuggestions: t.predictiveAnswersSuggestions }); default: return e } }, lightweightApp: (e = On, t) => { switch (t.type) { case "SET_LIGHTWEIGHT_APP_ACTIVE": return gn(gn({}, e), {}, { isActive: t.isActive }); default: return e } }, browseMode: function (e = wn, t) { switch (t.type) { case "SHOW_SEARCH_BROWSE": return In(In({}, wn), {}, { isOpen: !0, closeTransitionEnded: !1, isFetching: e.isFetching, hasViewedAnArticle: e.hasViewedAnArticle, skipOpenAnimation: t.skipOpenAnimation }); case "SEARCH_BROWSE_CLOSE_TRANSITION_ENDED": return In(In({}, e), {}, { closeTransitionEnded: !0 }); case "SEARCH_BROWSE_GO_BACK": return !e.showArticleCollection || e.showSearchResults || e.hasSearchResults ? In(In({}, wn), {}, { closeTransitionEnded: !1, isFetching: e.isFetching, hasViewedAnArticle: e.hasViewedAnArticle }) : In(In({}, e), {}, { phrase: "", searchResults: [], showSearchResults: !1, hasSearchResults: !1, showArticleCollection: !1 }); case "SEARCH_BROWSE_GO_BACK_COMPLETE": return e.showSearchResults || e.hasSearchResults ? In(In({}, e), {}, { closeTransitionEnded: !0 }) : In(In({}, e), {}, { selectedArticleCollectionId: null }); case "SHOW_NEW_CONVERSATION": return e.isOpen ? In(In({}, e), {}, { isOpen: !1, routedToNewConversation: !0 }) : In(In({}, e), {}, { routedToNewConversation: !1 }); case "UPDATE_SEARCH_BROWSE_QUERY": { const { phrase: n, hideResultsWithDelay: r } = t, i = e.hasSearchResults && 0 === (null == n ? void 0 : n.trim().length); return In(In({}, e), {}, { phrase: n, hideResultsWithDelay: r, showSearchResults: !i && e.showSearchResults, hasSearchResults: !i && e.hasSearchResults }) } case "SEARCH_ARTICLES_REQUEST": { const n = e.immediateSearch || t.immediate; return In(In({}, e), {}, { immediateSearch: n, isFetchingSearchResults: !0 }) } case "SEARCH_ARTICLES_SUCCESS": { const { searchResults: n, phrase: r } = t, i = In(In({}, e), {}, { isFetchingSearchResults: !1 }); return r !== i.phrase ? i : In(In({}, i), {}, { fetchingFailed: !1, hasSearchResults: !0, showSearchResults: e.immediateSearch, searchResults: n, immediateSearch: !1, searchedPhrase: r }) } case "SEARCH_ARTICLES_FAILURE": { const { phrase: n } = t, r = In(In({}, e), {}, { isFetchingSearchResults: !1 }); return n !== r.phrase ? r : In(In({}, r), {}, { isFetching: !1, fetchingFailed: !0, immediateSearch: !1 }) } case "SELECT_ARTICLE_COLLECTION": return In(In({}, e), {}, { selectedArticleCollectionId: t.collectionId, showArticleCollection: !0 }); case "RECEIVE_ARTICLE_COLLECTIONS": return 1 === t.articleCollections.length ? In(In({}, e), {}, { selectedArticleCollectionId: t.articleCollections[0].id, showArticleCollection: !0, isFetching: !1 }) : In(In({}, e), {}, { isFetching: !1 }); case "GET_ARTICLES_SECTIONS_IN_COLLECTION_REQUEST": { const { collectionId: n } = t; if (n === e.selectedArticleCollectionId) return In(In({}, e), {}, { isFetching: !0, fetchingFailed: !1 }); break } case "GET_ARTICLES_SECTIONS_IN_COLLECTION_SUCCESS": { const { collectionId: n } = t; if (n === e.selectedArticleCollectionId) return In(In({}, e), {}, { isFetching: !1, fetchingFailed: !1 }); break } case "GET_ARTICLES_SECTIONS_IN_COLLECTION_FAILURE": { const { collectionId: n } = t; if (n === e.selectedArticleCollectionId) return In(In({}, e), {}, { searchResults: [], isFetching: !1, fetchingFailed: !0 }); break } case "CLOSE_ARTICLE": return e.isOpen ? In(In({}, e), {}, { hasViewedAnArticle: !0 }) : e; case "MESSENGER_NAVIGATE_BACK": return In(In({}, wn), {}, { isFetching: e.isFetching, hasViewedAnArticle: e.hasViewedAnArticle }); case "OPEN_MESSENGER": if (!e.skipOpenAnimation) return In(In({}, wn), {}, { isFetching: e.isFetching }); break; case "CLOSE_MESSENGER": return In(In({}, e), {}, { skipOpenAnimation: !1 }) }return e }, openInboundConversationIds: function (e = jn, t) { switch (t.type) { case "GET_HOME_SCREEN_CARDS_SUCCESS": return (null == t ? void 0 : t.openInboundConversationIds) || []; case "CREATE_CONVERSATION_SUCCESS": case "GET_CONVERSATION_SUCCESS": const { conversation: n } = t; return n.isInbound ? "state_closed" === n.state ? e.filter(e => e !== n.id) : "state_open" === n.state && -1 === e.indexOf(n.id) ? [...e, n.id] : e : e; default: return e } }, surveys: function (e = Rn, t) { switch (t.type) { case "RECEIVE_SURVEYS": if (t.surveys) return t.surveys; case "DISMISS_SURVEY": if (t.surveyId) return e.map(e => e.id === t.surveyId ? Object.assign({}, e, { dismissed: !0 }) : e) }return e } }), Nn = n(239), Mn = n.n(Nn), Pn = n(18), Un = n.n(Pn), Dn = n(14); function Ln(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function kn(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Ln(Object(n), !0).forEach((function (t) { xn(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Ln(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function xn(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const Vn = e => { if (!(() => { var e, t; if (Object(y.a)()) return; const n = null === (e = window) || void 0 === e ? void 0 : null === (t = e.parent) || void 0 === t ? void 0 : t.ga; return "function" == typeof n && "function" == typeof (null == n ? void 0 : n.getAll) && (null == n ? void 0 : n.loaded) })()) return; const t = window.parent.ga.getAll(); if (Un()(t) && t.length) { if (e) { const n = Gn(t, e); return n || (window.parent.ga("create", e, "auto", "intercomMessenger"), Gn(window.parent.ga.getAll(), e)) } return t[0] } }, Gn = (e, t) => Mn()(e, (function (e) { try { return e.b.data.values[":trackingId"] === t } catch (n) { if ("function" == typeof e.get) return t === e.get("trackingId") } })), Bn = e => Object.entries(e).reduce((e, [t, n]) => { if (n) return e ? e + `, ${t}: ${n}` : `${t}: '${n}'` }, null), Fn = (e, t) => { var n; const { parts: r } = e, i = r[0], s = t || i && i.id, o = s && -1 !== s.indexOf("message-"), c = { isAdmin: i && i.author && r[0] && r[0].author.isAdmin, customBotId: null === (n = e.analyticsMetadata) || void 0 === n ? void 0 : n.customBotId }, a = { messageId: s && s.replace("message-", "") }; return kn(kn({}, c), o ? a : {}) }, Hn = ["OPEN_MESSENGER", "CLOSE_MESSENGER", "CREATE_CONVERSATION_SUCCESS", "CREATE_COMMENT_SUCCESS", "UPDATE_USER_SUPPLIED_EMAIL_SUCCESS", "SUBMIT_MESSENGER_CARD_ACTION_SUCCESS", "RECORD_MESSAGE_SENT", "MARK_CONVERSATION_AS_READ_REQUEST", "UPFRONT_EMAIL_COLLECTION_SUBMITTED"]; var $n = e => t => n => { const r = e.getState(), i = t(n); if (-1 === Hn.indexOf(n.type) || !r.app.features.googleAnalytics) return i; const s = r.app.customGoogleAnalyticsTrackerId, o = Vn(s); if (!o) return Object(Dn.b)("Intercom - Google Analytics is not installed or configured, have you forgotten to include it?"), i; const c = (e => ({ name: t, metadata: n = {}, nonInteraction: r = !1 } = {}) => { try { e.send("event", kn({ eventCategory: "Intercom Messenger", eventAction: t, eventLabel: Bn(n) }, r ? { nonInteraction: r } : {})) } catch (e) { Object(Dn.b)("Intercom - Something went wrong sending the Google Analytics event", e) } })(o); switch (n.type) { case "OPEN_MESSENGER": c({ name: "Opened Messenger" }); break; case "CLOSE_MESSENGER": c({ name: "Closed Messenger" }); break; case "CREATE_CONVERSATION_SUCCESS": c({ name: "Started New Conversation" }); break; case "CREATE_COMMENT_SUCCESS": { const e = r.conversations.byId[n.conversationId], { customBotId: t, messageId: i, isAdmin: s } = Fn(e), o = kn({}, t ? { "Custom Bot ID": t || i } : { "Message ID": i }); c({ name: "Sent a Reply", metadata: s || t ? o : void 0 }); break } case "UPFRONT_EMAIL_COLLECTION_SUBMITTED": case "UPDATE_USER_SUPPLIED_EMAIL_SUCCESS": c({ name: "Provided Email Address" }); break; case "SUBMIT_MESSENGER_CARD_ACTION_SUCCESS": c({ name: n.card.completed ? "Completed App Flow" : "Interacted with App", metadata: { "App Name": n.card.app_package_name, Location: (a = r.app.viewStack, a.length > 0 ? { "home-screen": "Home", conversation: "Conversation" }[a[a.length - 1]] : "Conversation") } }); break; case "RECORD_MESSAGE_SENT": { const e = r.conversations.byId[n.conversationId], { customBotId: t, messageId: i } = Fn(e, n.partId); i && c({ name: "Triggered Message", metadata: kn({}, t ? { "Custom Bot ID": t || i } : { "Message ID": i }), nonInteraction: !0 }); break } case "MARK_CONVERSATION_AS_READ_REQUEST": { if (r.conversations.byId[n.conversationId].read) return; const e = r.conversations.byId[n.conversationId], { customBotId: t, messageId: i } = Fn(e); c({ name: "Viewed Message", metadata: kn({}, t ? { "Custom Bot ID": t || i } : { "Message ID": i }), nonInteraction: !0 }); break } }var a; return i }, Wn = n(28), qn = n(92), zn = n(59); function Qn(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function Yn(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? Qn(Object(n), !0).forEach((function (t) { Jn(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Qn(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function Jn(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function Kn(e, t) { return void 0 !== t && t !== e } function Xn(e, t, n, r, i, s) { e.write(t, n, { domain: i, path: "/", expires: new Date(Wn.b.now() + r), sameSite: s ? "none" : "lax", secure: s }) } function Zn(e, t) { return function (e) { return null != e }(e) ? e : t } function er({ domainSetting: e, originCookieDomain: t, meta: n = {} }) { if ("none" !== e) { if (void 0 !== e && Object(Dn.b)("Intercom Messenger error: cookie_domain attribute supports only `none` option"), t) return `.${t}`; { const e = Object(qn.a)(), t = (e || "").split(":")[0]; return Object(U.g)("missingOriginDomain", Yn(Yn({}, n), {}, { host: t, rawHost: e })), "localhost" === t ? "" : t } } } var tr = n(56), nr = n(36), rr = n.n(nr), ir = n(242), sr = n.n(ir), or = n(43), cr = n(50); const ar = 11, ur = { increment: U.c, count: U.a, timing: U.f }, dr = () => { }, lr = { info: dr, error: dr }; function pr(e, t, n, r, i) { let s; try { s = new t(e.endpoints, lr, ur, n, r, () => { }, i) } catch (e) { Object(U.b)(e), hr(s) } return s } function hr(e) { if (void 0 !== e) try { e.shutdown() } catch (e) { Object(U.b)(e) } } function fr(e, t, n, r, i, s, o, c, a, u) { if (!vr(t, n, a)) return e; if (hr(e), !Or(n)) return; const d = pr(n, sr.a, () => { br() }, () => { _r() }, u); try { d.subscribeToAllTopics(), gr(d, r, i, s, o, c, p.g, cr.c) } catch (e) { Object(U.b)(e), hr(d) } return d } function br() { return Object(u.c)() || (Object(U.g)("realTimeConnected"), Object(u.l)(!0)), "connected" } function _r() { return "disconnected" } function gr(e, t, n, r, i, s, o, c) { const a = rr()(e => e(), 5e3); e.addListener("NewComment", e => { const { deliveryChannel: r, conversationId: i, createdByUserId: s, createdAt: o } = e.eventData; if (r && -1 === r.indexOf("web")) return; const { user: c } = t.getState(), u = () => t.dispatch(n(f.b, i, !0, o)); s === c.id ? a(u) : u() }), e.addListener("UserContentSeenByAdmin", e => { const { conversationId: n } = e.eventData; t.dispatch(r(n)) }), e.addListener("ConversationSeen", e => { const { conversationId: n } = e.eventData; t.dispatch(s(n)) }), e.addListener("AdminIsTyping", e => { const { conversationId: n, adminId: r, adminName: s, adminAvatar: o, hasDefaultAvatar: c } = e.eventData; t.dispatch(i(n, r, s, mr(o, c))) }), e.addListener("MessengerCardUpdated", e => { const { cardUri: r } = e.eventData, i = Object(or.b)(t.getState()); i && Object(T.h)(i, r) && t.dispatch(n(f.b, i.id, !0)) }), e.addListener("ConversationPartUpdated", e => { const { conversationId: r } = e.eventData; Object(or.b)(t.getState()).id === String(r) && t.dispatch(n(f.b, r, !0)) }), e.addListener("StartTour", e => { const { tour: n } = e.eventData, { user: r } = t.getState(); Object(U.h)(r, "received_nexus", "tour", "messenger", null, { tour_id: n.id }), r.isPresent && t.dispatch(o(n.id)) }), e.addListener("NewContent", e => { const { entity_id: n, entity_type: r } = e.eventData, { user: i } = t.getState(); Object(U.h)(i, "received_nexus", "new_content", "messenger", null, { entity_id: n, entity_type: r }), r === ar && t.dispatch(c(n)) }) } const mr = (e, t) => t || 0 !== e.indexOf("http") ? void 0 : e, Or = e => void 0 !== e && Array.isArray(e.endpoints) && e.endpoints.length > 0, Er = e => Object(P.a)(e.split("/")).split("-")[0], Sr = (e, t) => Er(e) !== Er(t), vr = (e, t, n) => Or(e) && Or(t) ? n || Sr(e.endpoints[0], t.endpoints[0]) : !Or(e) && Or(t) || Or(e) && !Or(t); const yr = e => { const { app: { color: t, secondaryColor: n, selfServeSuggestionsMatch: r, name: i, features: { anonymousInboundMessages: s, googleAnalytics: o, hubspotInstalled: c, inboundMessages: a, marketoEnrichmentInstalled: u, outboundMessages: d }, launcherLogoUrl: l, boundWebEvents: p, helpCenterSiteUrl: h, inboundConversationsDisabled: f, isInstantBootEnabled: b, alignment: _, horizontalPadding: m, verticalPadding: O, isDeveloperWorkspace: E, upfrontEmailCollectionSetting: S, customGoogleAnalyticsTrackerId: v }, launcher: { isLauncherEnabled: y }, launcherDiscoveryMode: { hasDiscoveredLauncher: C }, message: { conversationId: I }, openOnBoot: { type: T, metadata: w }, user: { role: j, locale: R, hasConversations: A } } = e, { conversations: N } = e, M = N ? N.byId : {}; return { app: { color: t, secondaryColor: n, selfServeSuggestionsMatch: r, name: i, features: { anonymousInboundMessages: s, googleAnalytics: o, hubspotInstalled: c, inboundMessages: a, marketoEnrichmentInstalled: u, outboundMessages: d }, launcherLogoUrl: l, boundWebEvents: p, helpCenterSiteUrl: h, inboundConversationsDisabled: f, isInstantBootEnabled: b, alignment: _, horizontalPadding: m, verticalPadding: O, isDeveloperWorkspace: E, upfrontEmailCollectionSetting: S, customGoogleAnalyticsTrackerId: v }, launcher: { isLauncherEnabled: y }, launcherDiscoveryMode: { hasDiscoveredLauncher: C }, user: { role: j, locale: R, hasConversations: A }, message: { conversationId: I }, conversations: { byId: Cr(M) }, openOnBoot: { type: T, metadata: w }, operator: { lastComposerEvent: g(e) } } }, Cr = e => { const t = Object.keys(e), n = {}; return t.forEach(t => { const { dismissed: r, read: i } = e[t]; n[t] = { fetchState: "partial", dismissed: r, read: i } }), n }; let Ir = void 0, Tr = void 0, wr = void 0; var jr = ({ updateRealtimeClient: e, shutdownRealtimeClient: t, getConversation: n, userContentSeenByAdmin: r, adminIsTyping: i, conversationReadElsewhere: s }) => o => c => a => { const u = c(a); switch (a.type) { case "CREATE_OR_UPDATE_USER_SUCCESS": { const t = a.user.app.realtimeConfig, c = a.user.id; Ir = e(Ir, Tr, t, o, n, r, i, s, c !== wr, a.user.role), Tr = t, wr = c; break } case "DESTROY_SESSION": t(Ir), Ir = void 0, Tr = void 0, wr = void 0 }if (!Ir) return u; switch (a.type) { case "MARK_CONVERSATION_AS_READ_REQUEST": Ir.sendEvent("ConversationSeen", { conversationId: a.conversationId }); break; case "USER_IS_TYPING": Ir.throttleSendEvent("UserIsTyping", { conversationId: a.conversationId }, !0); break; case "SUBMIT_MESSENGER_CARD_ACTION_SUCCESS": Ir.sendEvent("MessengerCardUpdated", { cardUri: a.card.uri }) }return u }; const Rr = e => (!Object(y.a)() && window.parent && window.parent.intercomSettings && window.parent.intercomSettings.app_id && (e = `${e}-${window.parent.intercomSettings.app_id}`), e), Ar = e => { try { return JSON.parse(he.a.get(e)) } catch (e) { Object(U.c)("hydrate_read_error") } }, Nr = (e, t) => { try { he.a.set(e, JSON.stringify(t)) } catch (e) { Object(U.c)("hydrate_write_error") } }; const Mr = e => ({ type: "REHYDRATE", state: e }); var Pr = (e, t = "intercom-state") => n => (...r) => { const i = n(...r); if (t = Rr(t), !Object(D.d)()) return i; const s = Ar(t); if (s) { const e = i.getState(); try { i.dispatch(Mr(s)) } catch (n) { Object(U.c)("hydrate_error"), function (e) { try { he.a.remove(e) } catch (e) { Object(U.c)("hydrate_remove_error") } }(t), i.dispatch(Mr(e)) } } return i.subscribe(() => { Nr(t, e(i.getState())) }), i }; var Ur = () => e => t => { const n = e(t); switch (t.type) { case "DESTROY_SESSION": Object(D.d)() && t.clearCookies && he.a.remove(Rr("intercom-state")) }return n }, Dr = { play(e) { if (!D.a.hasAudioSupport()) return; const t = this.load(e); if (t) { const e = t.play(); e && e.catch(() => { }) } }, playFile(e) { e && D.a.hasAudioSupport() && this.play(n(225)(`./${e}`)) }, load(e) { return this.audio[e] || (this.audio[e] = new Audio(e)), this.audio[e] }, playNotification: rr()((function (e) { this.play(n(225)(`./${e}`)) }), 3e3, { leading: !0, trailing: !1 }), audio: {} }, Lr = n(103); let kr = (() => { const e = he.b.get("played-notifications"); return e ? JSON.parse(e) : {} })(); const xr = (e, t) => { kr[e] = t, he.b.set("played-notifications", JSON.stringify(kr)) }, Vr = (e, t) => { const n = Object(P.a)(e.parts); return !((e, t) => { const n = kr[e]; return n === t || -1 === n })(e.id, n.id) || ((e, t) => { const { notificationStatus: n } = e; return "renotifying" === n && t })(e, t) }, Gr = (e, t, n) => { let r = !1; e.forEach(e => { const n = Object(P.a)(e.parts); Vr(e, t) && (r = !0), xr(e.id, n.id) }), r && Dr.playNotification(n) }, Br = (e, t) => { switch (e) { case "CREATE_COMMENT_FAILURE": case "CREATE_CONVERSATION_FAILURE": return "failed.mp3"; case "CREATE_COMMENT_REQUEST": case "CREATE_CONVERSATION_REQUEST": return "submit.mp3"; default: return t && t.author.isBot ? "operator.mp3" : "notification.mp3" } }; var Fr = e => t => n => { const r = t(n), i = e.getState(); if (i.app.isAudioEnabled && !i.app.isBoundEventCreatorOpen) { switch (n.type) { case "CREATE_COMMENT_REQUEST": case "CREATE_CONVERSATION_REQUEST": Dr.playFile(Br(n.type)); break; case "CREATE_COMMENT_FAILURE": case "CREATE_CONVERSATION_FAILURE": Dr.playFile(Br(n.type)); break; case "OPEN_MESSAGE": { const e = i.conversations.byId[n.conversationId]; Gr([e], i.session.newSession, Br(n.type)); break } case "GET_CONVERSATION_SUCCESS": { const { conversation: e, skipNotification: t } = n; if (e.read) return; const r = Object(P.a)(e.parts); if (!0 === t || Object(Lr.a)(r.partType)) return void xr(e.id, r.id); Gr([e], i.session.newSession, Br(n.type, r)); break } case "GET_CONVERSATIONS_SUCCESS": { const e = Object(M.a)(i); Gr(e, i.session.newSession, Br(n.type)); break } case "CREATE_OR_UPDATE_USER_SUCCESS": { const { unreadDismissedConversationIds: e } = n.user; e.forEach(e => { xr(e, -1) }); break } }return r } }, Hr = n(22); const $r = [], Wr = []; var qr = ({ getState: e }) => t => n => (function (e, t) { const { user: n, app: r, article: i } = e(); switch (t.type) { case "OPEN_LAUNCHER_DISCOVERY_MODE": return [Object(U.i)(n, "received", "message", "messenger", "from_launcher_discovery_mode")]; case "CREATE_COMMENT_SUCCESS": return [Object(U.i)(n, "sent", "reply", t.isBorderless ? "borderless" : "messenger", "in_conversation", { conversation_id: t.conversationId, comment_id: t.part.id, is_attachment: Object(u.f)(t.part.body), is_annotated: t.isAnnotatedImage || !1, within_office_hours: Object(u.h)(t.officeHoursResponse), teammate_status: Object(u.d)(t.lastParticipatingAdmin), time_since_last_active_in_minutes: Object(u.e)(t.lastParticipatingAdmin), from_messenger_suggested_content: t.fromMessengerSuggestedContent })]; case "CREATE_CONVERSATION_SUCCESS": const e = -1 !== ["custom_bot", "resolution_bot_auto_suggest"].indexOf(t.conversationTriggerType), s = "resolution_bot_auto_suggest" === t.conversationTriggerType; return [Object(U.i)(n, "sent", "message", "messenger", "in_new_conversation", { conversation_id: t.conversation.id, is_attachment: Object(u.f)(t.conversation.parts[0].body), is_annotated: t.isAnnotatedImage || !1, within_office_hours: Object(u.h)(t.officeHoursResponse), from_suggestion: e, from_messenger_suggested_content: s, trigger_type: t.conversationTriggerType })]; case "UPDATE_CONVERSATION_FORM_REQUEST": return [Object(U.i)(n, "sent", "reply", "messenger", "in_conversation", { type: "automated_lead_qualification", conversation_id: t.conversationId, part_id: t.partId, attribute_identifier: t.identifier, reply: t.value, attribute_type: t.identifierType, form_type: t.formType, attribute_is_custom_data: t.isCustomData })]; case "CREATE_REACTION_REQUEST": return [Object(U.i)(n, "sent", "reaction", t.isFromConversation ? "messenger" : "in_app", t.isFromConversation ? "in_conversation" : "from_full", { conversation_id: t.conversationId })]; case "OPEN_ARTICLE": const o = Object.assign({ owner: "educate", article_id: t.articleId, conversation_id: t.conversationId }, t.metricMetadata || {}, !t.fromBrowseMode && { article_channel: "messenger", article_source: "conversation" }); return [t.fromBrowseMode && Object(U.i)(n, "clicked", Hr.c, Hr.i, "messenger", o), !!t.metricMetadata && !t.fromBrowseMode && Object(U.i)(n, "viewed", "article", "in_app", "from_conversation", o, "educate_event")].filter(Boolean); case "CREATE_ARTICLE_REACTION_REQUEST": const { activeArticle: c } = i, a = c && c.reactionsReply && c.reactionsReply.reactionSet[t.reactionIndex] && c.reactionsReply.reactionSet[t.reactionIndex].emoji; return [Object(U.i)(n, "sent", "reaction", "in_app", "on_article", { owner: "educate", reaction: a, article_id: t.articleId, conversation_id: r.conversationId }, "educate_event")]; case "CREATE_EVENT": return t.boundEventMetadata ? [Object(U.i)(n, "triggered", "bound_event", "in_app", "from_customer_site", Object.assign(t.boundEventMetadata, { event_name: t.name }))] : []; default: return [] } }(e, n).forEach(e => Object(U.m)(e)),// prettier-ignore
    "DESTROY_SESSION" === n.type && ($r.splice(0), Wr.splice(0)), t(n)), zr = !Object(y.a)() && !0 === parent.__INTERCOM_REDUX_DEV_TOOLS__ && parent.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? parent.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ trace: !1, traceLimit: 25 }) : () => e => e; const Qr = jr({ updateRealtimeClient: fr, shutdownRealtimeClient: hr, getConversation: C.l, userContentSeenByAdmin: C.t, adminIsTyping: C.a, conversationReadElsewhere: C.c }), Yr = function (e) { let t, n; return r => i => s => { const o = r.getState(); switch (s.type) { case "CREATE_OR_UPDATE_USER_SUCCESS": { if (!o.session) return; const { appId: r } = o.session, { anonymousSessionDuration: i } = o.user, { anonymousId: a, anonymousSession: u } = s.user, { originCookieDomain: d } = s.user.app, { crossSiteCookies: l } = s.user.app.features, p = er({ domainSetting: o.app.cookieDomain, originCookieDomain: d, meta: { action: s.type, role: s.user && s.user.role } }); if (Kn(t, a)) { const n = Zn(i, Object(zn.b)(s.user) ? 6048e5 : 2333e7); Xn(e, Object(c.a)(r), a, n, p, l), t = a } if (Kn(n, u)) { const t = Zn(i, 6048e5); Xn(e, Object(c.b)(r), u, t, p, l), n = u } break } case "DESTROY_SESSION": { const { session: t } = o, { originCookieDomain: n } = o.app, r = er({ domainSetting: o.app.cookieDomain, originCookieDomain: n, meta: { action: s.type, role: s.user && s.user.role } }); if (t && s.clearCookies) { const { appId: n } = t; e.clear(Object(c.b)(n), { domain: r, path: "/" }), e.clear(Object(c.a)(n), { domain: r, path: "/" }), e.clear(Object(c.d)(n), { domain: r, path: "/" }) } break } }return i(s) } }(o.a), Jr = zr(), Kr = Pr(yr); var Xr = e => Object(V.createStore)(An, e, Object(V.compose)(Object(V.applyMiddleware)(B.a, qr, Fr, $n, Qr, Yr, Ur, tr.d), Kr, Jr)); var Zr = n(10), ei = n(57), ti = n(77), ni = n(54); const ri = 0, ii = 12, si = 14; var oi = n(243), ci = n.n(oi), ai = n(244), ui = n.n(ai); const di = ["app_id", "user_id", "email", "user_hash", "session_duration", "custom_data", "user_data", "widget", "custom_launcher_selector", "hide_default_launcher", "alignment", "horizontal_padding", "vertical_padding", "cookie_domain", "background_color", "action_color", "api_base"]; function li(e) { return !dt()(e) } function pi(e) { return di.indexOf(e) < 0 } function hi(e) { return Object.keys(e).filter(pi).filter(li).reduce((t, n) => (t[n] = e[n], t), {}) } function fi(e) { return Object.keys(e).filter(li).reduce((t, n) => { const r = e[n]; return function (e) { return null != e }(r) && (t[n] = r), t }, {}) } function bi(e) { return Object.assign(function (e) { return e.custom_data ? hi(e.custom_data) : {} }(e), hi(e)) } function _i(e) { return function (e) { if (!e.user_data) return; return fi({ appId: e.app_id, email: e.user_data.email, userId: e.user_data.user_id, userHash: e.user_data.user_hash }) }(e) || function (e) { return fi({ appId: e.app_id, email: e.email, userId: e.user_id, userHash: e.user_hash }) }(e) } function gi(e) { return e && e.widget && !dt()(e.widget.activator) && "#IntercomDefaultWidget" !== e.widget.activator ? e.widget.activator : null } function mi(e) { return dt()(e.custom_launcher_selector) ? gi(e) : e.custom_launcher_selector } function Oi(e) { return ui()(e.hide_default_launcher) ? e.hide_default_launcher ? "hide" : "show" : function (e) { return e.widget && "#IntercomDefaultWidget" === e.widget.activator ? "show" : "not-present" }(e) } function Ei(e) { return e.session_duration || null } function Si(e) { const t = { alignment: e.alignment, horizontalPadding: e.horizontal_padding, verticalPadding: e.vertical_padding, cookieDomain: e.cookie_domain, color: e.action_color, secondaryColor: e.background_color }; return ci()(t, e => void 0 !== e) } var vi = n(21), yi = n(165), Ci = n(24), Ii = n.n(Ci); function Ti(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const wi = Ii()("intercom.client-matching.client-match-object.base"); class base_BaseClientMatchObject{ constructor(e) { Ti(this, "_ruleset", void 0), Ti(this, "_predicateChain", void 0), this._ruleset = e, this._predicateChain = new predicate_chain_PredicateChain(e, () => { }) } getRuleset() { return this._ruleset } getRulesetId() { return this._ruleset.ruleset_id } getObjectType() { return this._ruleset.ruleset_link_object_type } getSerializedObject() { return this._ruleset.serialized_object } isMatchableInLocation(e) { return !this._ruleset.matching_locations || -1 !== this._ruleset.matching_locations.indexOf(e) } evaluatePredicates() { return !(!this.matchOnMobileBrowser() && Object(D.g)()) && this._predicateChain.evaluate() } canRematch() { return "transient_match" === this.getRuleset().ruleset_match_behavior } matchOnMobileBrowser() { return !0 } refreshActiveMatch(e) { this.onRefreshActiveMatch(this._ruleset.serialized_object, e) } async match(e, t) { wi(`.match called [${this.getObjectType()}]`, this.getRuleset()); const n = e.getState(), r = this.getRuleset(), i = this.onPreMatch(e); let s; try { const e = f.b.rulesetConditionSatisfied(n.session, r.ruleset_id, r.ruleset_link_id, r.user_id, r.company_id, r.predicates, r.checkpoint_id, r.extra_context).then(e => this.selectMatchObject(e)), t = this.getSerializedObject(); s = t ? await Promise.resolve(t) : await e } catch (e) { return Object(U.b)(`Call to /match failed, unable to complete client match rulesetId=${this.getRulesetId()}`) } this.onMatch(s, e, i, t) } selectMatchObject(e) { return e } onPreMatch(e) { } onMatch(e, t, n, r) { } onRefreshActiveMatch(e, t) { } unmatch(e) { wi(`.unmatch called [${this.getObjectType()}]`, this.getRuleset()), this.onUnmatch(e) } onUnmatch(e) { } } class banner_BannerClientMatchObject extends base_BaseClientMatchObject{ selectMatchObject(e) { return e.banner } onMatch(e, t) { if (!e) return; const n = f.b.buildBanner(e); let { banners: r } = t.getState(); r = r.concat(n), t.dispatch(Object(cr.f)(r)) } canRematch() { return !0 } onUnmatch(e) { let { banners: t } = e.getState(); t = t.filter(e => e.ruleset_id !== this.getRuleset().ruleset_id), e.dispatch(Object(cr.f)(t)) } } class tour_TourClientMatchObject extends base_BaseClientMatchObject{ selectMatchObject(e) { return e.tour } matchOnMobileBrowser() { return !1 } onPreMatch() { var e, t, n; return y.a ? {} : { currentUrl: null === (e = window) || void 0 === e ? void 0 : null === (t = e.parent) || void 0 === t ? void 0 : null === (n = t.location) || void 0 === n ? void 0 : n.pathname } } onMatch(e, t, n) { var r, i, s; t.dispatch(Object(p.k)(f.b.buildTour(e))), Object(y.a)() || n.currentUrl === (null === (r = window) || void 0 === r ? void 0 : null === (i = r.parent) || void 0 === i ? void 0 : null === (s = i.location) || void 0 === s ? void 0 : s.pathname) || (Object(U.c)("tour_match_url_mismatch"), Object(U.b)(`tour_match_url_mismatch rulesetId=${this.getRulesetId()}`)) } } class inbound_trigger_InboundTriggerClientMatchObject extends base_BaseClientMatchObject{ selectMatchObject(e) { return e.composerSuggestions } onMatch(e, t) { t.dispatch(Object(d.a)(e)) } onUnmatch(e) { e.dispatch(Object(d.b)(this.getRulesetId())) } } var ji = n(99); class answerbot_predictive_context_AnswerbotPredictiveContextClientMatchObject extends base_BaseClientMatchObject{ selectMatchObject(e) { return e.answerbotPredictiveContexts } onMatch(e, t) { t.dispatch(Object(ji.a)(e)) } onUnmatch(e) { e.dispatch(Object(ji.a)(null)) } } const Ri = Ii()("intercom.client-match-object.messenger-trigger"); class messenger_trigger_MessengerTriggerClientMatchObject extends base_BaseClientMatchObject{ constructor(...e) { var t, n, r; super(...e), r = void 0, (n = "_node") in (t = this) ? Object.defineProperty(t, n, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = r } selectMatchObject() { return null } onMatch(e, t) { this._node = this._findDOMNode(e), t.dispatch(Object(ti.a)(e, f.b)) } onUnmatch(e) { e.dispatch(Object(ti.b)(this.messengerTriggerId())) } onRefreshActiveMatch(e, t) { this._shouldRefreshActiveMatch() && (Ri(`TriggerId=${e.id} (${e.selector}) is missing from the page, re-attaching listener`), this.onUnmatch(t), this.onMatch(e, t)) } messengerTriggerId() { return this.getSerializedObject().id } _shouldRefreshActiveMatch() { return Boolean(this._node && !this._documentContains(this._node)) } _findDOMNode(e) { return window.parent.document.querySelector(e.selector) } _documentContains(e) { return window.parent.document.contains ? window.parent.document.contains(e) : window.parent.document.body.contains(e) } } class chat_ChatClientMatchObject extends base_BaseClientMatchObject{ selectMatchObject(e) { return e.chat } onMatch(e, t) { e && t.dispatch(Object(C.o)(f.b, Object(f.a)(e))) } } class custom_bot_CustomBotClientMatchObject extends base_BaseClientMatchObject{ selectMatchObject(e) { return e.customBot } onMatch(e, t) { e && t.dispatch(Object(C.o)(f.b, Object(f.a)(e))) } } class post_PostClientMatchObject extends base_BaseClientMatchObject{ selectMatchObject(e) { return e.post } onMatch(e, t) { e && t.dispatch(Object(C.o)(f.b, Object(f.a)(e))) } } class seriesCondition_SeriesConditionClientMatchObject extends base_BaseClientMatchObject{ selectMatchObject(e) { return e.seriesCondition } onMatch(e, t, n, r) { r.createOrUpdateUser({}, "apiUpdate", !0) } } function Ai(e) { switch (e.ruleset_link_object_type) { case "banner": return new banner_BannerClientMatchObject(e); case "tour": return new tour_TourClientMatchObject(e); case "inbound_trigger": case "inbound_custom_bot": return new inbound_trigger_InboundTriggerClientMatchObject(e); case "chat": return new chat_ChatClientMatchObject(e); case "custom_bot": return new custom_bot_CustomBotClientMatchObject(e); case "post": return new post_PostClientMatchObject(e); case "messenger_trigger": case "button_custom_bot": return new messenger_trigger_MessengerTriggerClientMatchObject(e); case "answerbot_predictive_context": return new answerbot_predictive_context_AnswerbotPredictiveContextClientMatchObject(e); case "series_condition": return new seriesCondition_SeriesConditionClientMatchObject(e); default: return new base_BaseClientMatchObject(e) } } function Ni(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const Mi = Ii()("intercom.client-matching.client-match-runner"); class client_match_runner_ClientMatchRunner{ constructor(e, t) { Ni(this, "clientMatches", []), Ni(this, "activeClientMatchIds", {}), Ni(this, "evalLoop", null), Ni(this, "store", void 0), Ni(this, "session", void 0), this.store = e, this.session = t } start() { null === this.evalLoop && (Mi("Starting evaluation loop"), this.evalLoop = setInterval(() => this.performClientMatching(), 500)) } stop() { null !== this.evalLoop && (Mi("Stopping evaluation loop"), window.clearInterval(this.evalLoop), this.evalLoop = null) } updateClientMatches(e, t) { this._removeMissingMatches(e, t), this._addNewMatches(e), this.performClientMatching() } performClientMatching() { const e = this._evaluateClientMatches(); this._processResults(e) } _evaluateClientMatches() { const e = { positiveMatches: [], negativeMatches: [] }; return this.clientMatches.forEach(t => { t.evaluatePredicates() ? e.positiveMatches.push(t) : e.negativeMatches.push(t) }), e } _processResults(e) { e.negativeMatches.forEach(e => { const t = e.getRulesetId(); this.activeClientMatchIds[t] && (e.unmatch(this.store), delete this.activeClientMatchIds[t], e.canRematch() || this._removeClientMatch(e)) }), e.positiveMatches.forEach(e => { const t = e.getRulesetId(); this.activeClientMatchIds[t] ? e.refreshActiveMatch(this.store) : (e.match(this.store, this.session), this.activeClientMatchIds[t] = !0) }) } _addNewMatches(e) { for (const t of e) this.clientMatches.find(e => e.getRulesetId() === t.ruleset_id) || this.clientMatches.push(Ai(t)); this._evaluateClientMatches() } _removeMissingMatches(e, t) { for (const n of this.clientMatches) n.isMatchableInLocation(t) && !e.find(e => e.ruleset_id === n.getRulesetId()) && (this.activeClientMatchIds[n.getRulesetId()] && n.unmatch(this.store), this._removeClientMatch(n)) } _removeClientMatch(e) { this.clientMatches.splice(this.clientMatches.indexOf(e), 1) } } var Pi = n(227); const Ui = e => { try { return e.self !== e.top } catch (e) { return !1 } }, Di = e => { try { return e.document.body.text.length > 0 } catch (e) { return !1 } }; var Li = n(228), ki = n(130); function xi(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const { assign: Vi } = Object; function Gi(e, t, n) { let r = t(e.getState()); return () => { const i = t(e.getState()); r !== i && (r = i, n(i)) } } function Bi(e) { return e.intercomSettings } var Fi = class session_Session{ constructor(e, t, n) { xi(this, "handleCustomLauncherClick", e => (e.preventDefault(), this.toggleMessenger(), this.addLauncherClickedMetric(), gi(Bi(this.window)) && (U.j.addIncrementOpMetric("legacyCustomLauncherClick"), U.j.buildAndAddHcMetric("legacyCustomLauncherClick")), !1)), xi(this, "handleMessengerChange", e => { (e ? this.messengerOpenCallbacks : this.messengerCloseCallbacks).forEach(e => e()), e && this.sendMessengerOpenRequest(), e || "messenger-trigger" !== Object(i.f)(this.store.getState()) || this.store.dispatch(Zr.b.navigateBack()) }), xi(this, "handleUnreadConversationCountChange", e => { this.unreadConversationCountChangeCallbacks.forEach(t => t(e)) }), this.window = e, this.store = t || (e => { const t = Xr(e); return t.subscribe(j(t)), t.subscribe(x(t)), t })(), this.destroyApp = n, this.isReady = !1, this.hasScrapedCookies = !1, this.readyCallbacks = [], this.messengerOpenCallbacks = [], this.messengerCloseCallbacks = [], this.unreadConversationCountChangeCallbacks = [], this.storeSubscribers = [], this.clientMatchRunner = new client_match_runner_ClientMatchRunner(this.store, this), this.startClientMatchRunner(), this.createMessengerChangeSubscriber(), this.createUnreadConversationCountChangeSubscriber() } createOrUpdateUser(e = {}, t, n = !1) { const r = this.getSettings(e), i = this.window.intercomEncryptedPayload; const s = this.store.getState().app; let { session: a } = this.store.getState(); const d = _i(r); if (a = Vi({}, a, d), !function (e) { return e && e.appId }(a)) return U.j.addIncrementOpMetric("bailed_ping_request_because_of_invalid_session"), Promise.resolve(); const { appId: l } = a; (({ appWindow: e, appId: t }) => { if (Ui(e)) { const n = Ui(e.parent), r = Di(e), { referrer: i } = e.document; Object(U.d)(`messenger_sandboxed - referrer=${i}`), Object(U.c)("messenger_sandboxed", { appId: t, appSandboxed: n, hasBodyText: r }) } })({ appWindow: this.window, appId: l }), a = Vi({}, a, function (e) { const t = {}, n = o.a.read(Object(c.a)(e)) || o.a.read(Object(c.d)(e)), r = o.a.read(Object(c.b)(e)); n && Vi(t, { anonymousId: n }); r && Vi(t, { anonymousSession: r }); return t }(l)); const p = bi(r), h = {}; if (Object(c.f)()) h.marketo_tracking_cookie = null, h.hubspot_tracking_cookie = null; else { if (s.features.marketoEnrichmentInstalled) { this.hasScrapedCookies = !0; const e = o.a.read(Object(c.e)()); e && (h.marketo_tracking_cookie = e) } if (s.features.hubspotInstalled) { this.hasScrapedCookies = !0; const e = o.a.read(Object(c.c)()); e && (h.hubspot_tracking_cookie = e) } } const b = mi(r); b && this.enableCustomLauncher(b), this.stopMetricsPolling = U.j.startMetricsPolling(a, this.window), Object(u.a)() || (U.j.buildAndAddHcMetric("apiBoot"), Object(u.m)(!0)); const _ = this.window.document.URL, g = Si(r); return function (e, t) { Object(ct.c)(e, e => t.dispatch(Object(yi.c)(e))), Object(ct.f)(e) }(this.window, this.store), this.store.dispatch(ei.c.createOrUpdateUser(f.b, a, _, p, Oi(r), Ei(r), g, n, i, t, h, this.destroyApp)).then(e => e && this.handleUserCreateOrUpdate(e, r)) } sendMessengerOpenRequest() { this.whenReady(() => { const e = this.store.getState(); if (e.app.features.openEndpoint || e.app.features.openEndpointShadow) return this.store.dispatch(ei.c.sendMessengerOpen(f.b, e.app.features.openEndpointShadow)).then(e => e && this.handleMessengerOpen(e)) }) } handleMessengerOpen(e) { if (!this.store.getState().app.features.openEndpoint) return; const { clientsideRulesetConditions: t, composerSuggestions: n } = e; this.store.dispatch(Object(d.e)(n)), this.clientMatchRunner.updateClientMatches(t, si) } createCustomizationOverride(e) { const t = Si(this.getSettings(e)); return this.store.dispatch(Object(l.b)(t)) } destroy(e = !0) { this.store.dispatch(ei.c.destroySession(e)), this.stopMetricsPolling && this.stopMetricsPolling(), this.disableCustomLauncher(), this.removeStoreSubscribers(), this.stopClientMatchRunner(), ei.c.setupDefaultCreateOrUpdateUserRateLimiting(), ei.c.isDuplicateCreateOrUpdateUserRequest.reset() } openMessenger() { this.whenReady(() => { const { borderless: e } = this.store.getState(); e.conversationId ? this.store.dispatch(Zr.b.openConversationInMessenger(e.conversationId)) : (this.store.dispatch(Zr.b.showInitialScreen()), this.store.dispatch(Zr.b.openMessenger())) }) } openOnBoot() { const { getState: e, dispatch: t } = this.store, n = e().openOnBoot; if (!Object(s.b)() && n) switch (n.type) { case "conversation": const e = n.metadata.conversationId; e && t(Zr.b.openConversationInMessenger(e)); break; case "new_conversation": t(Zr.b.openMessenger()), t(Zr.b.showNewConversation()); break; case "article": if ("article-link" === n.metadata.componentId && n.metadata.url) { var r, i; const e = null === (r = n.metadata) || void 0 === r ? void 0 : null === (i = r.previousState) || void 0 === i ? void 0 : i.metadata; if (e) { const n = e.conversationId; n && t(Zr.b.openConversationInMessenger(n)) } t(Object(h.b)(f.b, n.metadata.cardUri, n.metadata.componentId, n.metadata.url, {})) } } } openOnBootAfterUserLoaded() { const { getState: e } = this.store, t = e().openOnBoot; if (!Object(s.b)() && t) switch (t.type) { case "search_browse_article": return this.openIntoSearchBrowseArticle(t) } } async openIntoSearchBrowseArticle(e) { const { dispatch: t } = this.store, { articleIds: n } = e.metadata, r = n.pop(); await t(Object(Li.b)(f.b)), t(Zr.b.showSearchBrowse(!0)), t(Object(ki.i)(r, null, !0, !0)), t(Zr.b.openMessenger(!0)), t(Object(ki.h)(r, null, !0)) } closeMessenger() { this.whenReady(() => { this.store.dispatch(Zr.b.closeMessenger()) }) } toggleMessenger() { this.whenReady(() => { this.store.dispatch(Zr.b.toggleMessenger()) }) } showConversations() { this.whenReady(() => { this.store.dispatch(Zr.b.openConversations()) }) } showNewConversation(e) { this.whenReady(() => { this.store.dispatch(Zr.b.openNewConversation(e)) }) } startTour(e) { this.whenReady(() => { this.store.dispatch(Object(p.d)(e)) }) } createEvent(e, t) { this.whenReady(() => { this.store.dispatch(ei.c.createEvent(f.b, e, t)).then(e => { if (!e) return; const { clientsideRulesetConditions: t, tour: n } = e; t && t.length > 0 ? this.clientMatchRunner.updateClientMatches(t, ii) : n && this.store.dispatch(Object(p.k)(n)) }) }) } createArticleReaction(e, t, n) { this.whenReady(() => { const { session: r, app: { isMessengerOpen: s } } = this.store.getState(), o = !("conversation" === Object(i.f)(this.store.getState()) && s); f.b.createArticleReaction(r, e, t, o, n) }) } previewInboundCustomBot(e) { this.whenReady(() => { e = f.b.buildComposerSuggestions(e), this.store.dispatch(Object(d.d)(e)) }) } previewOutboundCustomBot(e) { this.store.dispatch(Object(ti.d)(f.b, e)) } createMetric(e, t) { this.whenReady(() => { const { session: n, user: r } = this.store.getState(); t = Vi({ anonymous_id: n.anonymousId, end_user_id: r.id, user_id: r.id, user_role: r.role }, t); const i = n.appId, s = [{ name: e.toString(), id: vi.a.generateUUID(), app_id_code: i, created_at: Math.round(Date.now() / 1e3), metadata: t }]; Object(zn.a)(r) && f.b.createMetrics(n, s) }) } trigger(e) { this.store.dispatch(Object(ti.c)(e, f.b)) } getSettings(e) { return Vi({}, Bi(this.window), e) } getArticleReaction(e, t, n) { this.whenReady(() => { const { session: r } = this.store.getState(); f.b.getArticleReaction(r, e, t, n) }) } enterTourPreviewMode(e) { this.whenReady(() => { this.store.dispatch(Object(p.i)(f.b.buildTour(e), !0)) }) } exitTourPreviewMode() { this.whenReady(() => { this.store.dispatch(Object(p.j)()) }) } getVisitorId() { const { session: e } = this.store.getState(); if (!e) return; const { appId: t } = e; return o.a.read(Object(c.a)(t)) || o.a.read(Object(c.d)(t)) } onMessengerOpen(e) { this.messengerOpenCallbacks.push(e) } onMessengerClose(e) { this.messengerCloseCallbacks.push(e) } onUnreadConversationCountChange(e) { const t = this.store.getState(), n = Object(ni.b)(t); this.unreadConversationCountChangeCallbacks.push(e), e(n) } enableCustomLauncher(e) { if (Object(y.a)()) return; this.disableCustomLauncher(); const t = this.window.document.getElementsByTagName("body")[0]; this.customLauncherClickHandler = Object(S.g)(t, e, this.handleCustomLauncherClick), Object(S.c)(t, "click", this.customLauncherClickHandler) } disableCustomLauncher() { if (!this.customLauncherClickHandler) return; const e = this.window.document.getElementsByTagName("body")[0]; Object(S.y)(e, "click", this.customLauncherClickHandler), this.customLauncherClickHandler = null } whenReady(e) { if (this.isReady) return setTimeout(e, 1); this.readyCallbacks.push(e) } executeReadyCallbacks() { const { readyCallbacks: e } = this; for (; e.length;)e.shift()(); this.readyCallbacks = [] } addLauncherClickedMetric() { this.whenReady(() => { const { user: e, app: { isMessengerOpen: t } } = this.store.getState(), n = { is_messenger_open: t, is_custom_launcher: !0 }; U.j.buildAndAddMetric(e, "clicked", "launcher", "in_app", "", n) }) } handleUserCreateOrUpdate(e, t) { if (this.shouldSendTrackingCookies() && this.createOrUpdateUser(t, "apiUpdate"), e.clientsideRulesetConditions && this.clientMatchRunner.updateClientMatches(e.clientsideRulesetConditions, ri), this.isReady) return e; if (this.executeReadyCallbacks(), this.isReady = !0, Object(Pi.a)() && this.window.parent.postMessage("messenger_session_ready", "*"), !Object(u.b)()) { const e = this.store.getState(), t = Object(a.a)(e), n = Object(D.j)(); U.j.buildAndAddHcMetric("createOrUpdateUser", { messengerIsVisible: Object(u.g)(t), isLauncherEnabled: t, hasDisplayNoneSet: n }), Object(u.k)(!0) } return this.openOnBootAfterUserLoaded(), e } shouldSendTrackingCookies() { const e = this.store.getState().app; return !this.hasScrapedCookies && (e.features.hubspotInstalled || e.features.marketoEnrichmentInstalled) } startClientMatchRunner() { this.clientMatchRunner.start() } stopClientMatchRunner() { this.clientMatchRunner.stop() } createMessengerChangeSubscriber() { this.addStoreSubscriber(Gi(this.store, e => e.app.isMessengerOpen, this.handleMessengerChange)) } createUnreadConversationCountChangeSubscriber() { this.addStoreSubscriber(Gi(this.store, ni.b, this.handleUnreadConversationCountChange)) } addStoreSubscriber(e) { this.storeSubscribers.push(this.store.subscribe(e)) } removeStoreSubscribers() { this.storeSubscribers.forEach(e => !!e && e()) } }, Hi = n(245), $i = n.n(Hi), Wi = n(229), qi = n(61), zi = n(230), Qi = n(231), Yi = n(94); const Ji = ({ isLauncherEnabled: e, customization: { verticalPadding: t } }) => e ? t + 60 + 20 : t; var Ki = e => `\n  @keyframes intercom-lightweight-app-launcher {\n    from {\n      opacity: 0;\n      transform: scale(0.5);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  @keyframes intercom-lightweight-app-gradient {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @keyframes intercom-lightweight-app-messenger {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .intercom-lightweight-app {\n    position: fixed;\n    z-index: 2147483001;\n    width: 0;\n    height: 0;\n    font-family: intercom-font, "Helvetica Neue", "Apple Color Emoji", Helvetica, Arial, sans-serif;\n  }\n\n  .intercom-lightweight-app-gradient {\n    position: fixed;\n    z-index: 2147483002;\n    width: 500px;\n    height: 500px;\n    bottom: 0;\n    ${e.customization.alignment}: 0;\n    pointer-events: none;\n    background: radial-gradient(\n      ellipse at bottom ${e.customization.alignment},\n      rgba(29, 39, 54, 0.16) 0%,\n      rgba(29, 39, 54, 0) 72%);\n    animation: intercom-lightweight-app-gradient 200ms ease-out;\n  }\n\n  .intercom-lightweight-app-launcher {\n    position: fixed;\n    z-index: 2147483003;\n    bottom: ${(({ isMobile: e, customization: t }) => e ? 20 : t.verticalPadding)(e)}px;\n    ${e.customization.alignment}: ${(({ isMobile: e, customization: t }) => e ? 20 : t.horizontalPadding)(e)}px;\n    width: 60px;\n    height: 60px;\n    border-radius: 50%;\n    background: ${e.colors.primaryColor};\n    cursor: pointer;\n    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.06), 0 2px 32px 0 rgba(0, 0, 0, 0.16);\n    animation: intercom-lightweight-app-launcher 250ms ease;\n  }\n\n  .intercom-lightweight-app-launcher:focus {\n    outline: none;\n    ${e.accessibility.tabNavigation ? `box-shadow: inset 0 0 0 5px ${(({ accessibility: e }) => Yi.a[e.accessibilityTheme])(e)};` : ""}\n  }\n\n  .intercom-lightweight-app-launcher-icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 60px;\n    height: 60px;\n    transition: transform 100ms linear, opacity 80ms linear;\n  }\n\n  .intercom-lightweight-app-launcher-icon-open {\n    ${e.isMessengerOpen && !e.hideLightweightAppMessenger ? "\n        opacity: 0;\n        transform: rotate(30deg) scale(0);\n      " : "\n        opacity: 1;\n        transform: rotate(0deg) scale(1);\n      "}\n  }\n\n  .intercom-lightweight-app-launcher-icon-open svg {\n    width: 28px;\n    height: 32px;\n  }\n\n  .intercom-lightweight-app-launcher-icon-open svg path {\n    fill: ${e.colors.buttonTextColor};\n  }\n\n  .intercom-lightweight-app-launcher-icon-self-serve {\n    ${e.isMessengerOpen && !e.hideLightweightAppMessenger ? "\n        opacity: 0;\n        transform: rotate(30deg) scale(0);\n      " : "\n        opacity: 1;\n        transform: rotate(0deg) scale(1);\n      "}\n  }\n\n  .intercom-lightweight-app-launcher-icon-self-serve svg {\n    height: 56px;\n  }\n\n  .intercom-lightweight-app-launcher-icon-self-serve svg path {\n    fill: ${e.colors.buttonTextColor};\n  }\n\n  .intercom-lightweight-app-launcher-custom-icon-open {\n    max-height: 36px;\n    max-width: 36px;\n    ${e.isMessengerOpen && !e.hideLightweightAppMessenger ? "\n        opacity: 0;\n        transform: rotate(30deg) scale(0);\n      " : "\n        opacity: 1;\n        transform: rotate(0deg) scale(1);\n      "}\n  }\n\n  .intercom-lightweight-app-launcher-icon-minimize {\n    ${e.isMessengerOpen && !e.hideLightweightAppMessenger ? "\n        opacity: 1;\n        transform: rotate(0deg) scale(1);\n      " : "\n        opacity: 0;\n        transform: rotate(-60deg) scale(0);\n      "}\n  }\n\n  .intercom-lightweight-app-launcher-icon-minimize svg {\n    width: 16px;\n  }\n\n  .intercom-lightweight-app-launcher-icon-minimize svg path {\n    fill: ${e.colors.buttonTextColor};\n  }\n\n  .intercom-lightweight-app-messenger {\n    position: fixed;\n    z-index: 2147483003;\n    overflow: hidden;\n    background-color: white;\n    animation: intercom-lightweight-app-messenger 250ms ease-out;\n    ${e.isMobile ? "\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      " : `\n        width: 376px;\n        height: calc(100% - ${20 + Ji(e)}px);\n        max-height: 704px;\n        min-height: 250px;\n        ${e.customization.alignment}: ${e.customization.horizontalPadding}px;\n        bottom: ${Ji(e)}px;\n        box-shadow: 0 5px 40px rgba(0,0,0,0.16);\n        border-radius: 8px;\n      `}\n  }\n\n  .intercom-lightweight-app-messenger-header {\n    height: 75px;\n    background: linear-gradient(\n      135deg,\n      ${e.colors.gradientStartColor} 0%,\n      ${e.colors.gradientEndColor} 100%\n    );\n  }\n\n  @media print {\n    .intercom-lightweight-app {\n      display: none;\n    }\n  }\n`, Xi = n(37); const Zi = (e, t) => { const { onLauncherClick: n, launcherLogoUrl: r, allowSelfServeIcon: i } = t, s = ns(t), o = e.document.createElement("div"); o.addEventListener("click", n, !0), o.addEventListener("keydown", s, !0), o.setAttribute("class", "intercom-lightweight-app-launcher intercom-launcher"), o.setAttribute("role", "button"), o.setAttribute("tabindex", "0"), o.setAttribute("aria-label", Object(Xi.e)("open_intercom_messenger")); const c = e.document.createElement("div"); if (c.setAttribute("class", "intercom-lightweight-app-launcher-icon intercom-lightweight-app-launcher-icon-open"), r) { const t = e.document.createElement("img"); t.setAttribute("src", r), t.setAttribute("alt", ""), t.setAttribute("class", "intercom-lightweight-app-launcher-custom-icon-open"), c.appendChild(t) } else i ? (c.setAttribute("class", "intercom-lightweight-app-launcher-icon intercom-lightweight-app-launcher-icon-self-serve"), c.innerHTML = '<svg aria-hidden="true" viewBox="1 1 60 60"><path d="M27.765 42.244c-8.614 0-15.622-7.008-15.622-15.622S19.151 11 27.765 11s15.622 7.008 15.622 15.622-7.007 15.622-15.622 15.622zm0-28.398c-7.045 0-12.775 5.73-12.775 12.775s5.73 12.775 12.775 12.775 12.775-5.73 12.775-12.775-5.73-12.775-12.775-12.775z"/><path d="M34.869 39.146l4.014-3.738 9.286 9.114a3.164 3.164 0 01-.07 4.562l-.071.066a3.163 3.163 0 01-4.561-.257l-8.598-9.747zM27.77 34.173c-2.882 0-5.412-.876-7.656-2.526a1.002 1.002 0 01-.35-.81c.008-.461.445-.969 1.02-.959.284.005.493.153.713.308 1.837 1.302 3.832 1.971 6.275 1.971 1.875 0 4.492-.476 6.314-2.118a.98.98 0 01.638-.261.92.92 0 01.686.241c.222.209.33.527.336.735a1.02 1.02 0 01-.318.775c-1.333 1.237-4.262 2.644-7.658 2.644z"/></svg>\n') : c.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 32"><path d="M28 32s-4.714-1.855-8.527-3.34H3.437C1.54 28.66 0 27.026 0 25.013V3.644C0 1.633 1.54 0 3.437 0h21.125c1.898 0 3.437 1.632 3.437 3.645v18.404H28V32zm-4.139-11.982a.88.88 0 00-1.292-.105c-.03.026-3.015 2.681-8.57 2.681-5.486 0-8.517-2.636-8.571-2.684a.88.88 0 00-1.29.107 1.01 1.01 0 00-.219.708.992.992 0 00.318.664c.142.128 3.537 3.15 9.762 3.15 6.226 0 9.621-3.022 9.763-3.15a.992.992 0 00.317-.664 1.01 1.01 0 00-.218-.707z"/></svg>'; o.appendChild(c); const a = e.document.createElement("div"); return a.setAttribute("class", "intercom-lightweight-app-launcher-icon intercom-lightweight-app-launcher-icon-minimize"), a.innerHTML = '<svg viewBox="0 0 16 14" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M.116 4.884l1.768-1.768L8 9.232l6.116-6.116 1.768 1.768L8 12.768.116 4.884z"/></svg>', o.appendChild(a), o }, es = (e, t, n, r, i, s) => o => { if (s.textContent = Ki(o), t.locale !== o.locale && Object(Xi.d)(o.locale), !t.isAppActive && o.isAppActive ? e.document.body.appendChild(n) : t.isAppActive && !o.isAppActive && e.document.body.removeChild(n), !t.isLauncherEnabled && o.isLauncherEnabled) { const t = Zi(e, o); n.appendChild(t) } else if (t.isLauncherEnabled && !o.isLauncherEnabled) { const t = (e => e.document.querySelector(".intercom-lightweight-app-launcher"))(e); t && n.contains(t) && n.removeChild(t) } t.isMessengerOpen || !o.isMessengerOpen || o.hideLightweightAppMessenger ? t.isMessengerOpen && !o.isMessengerOpen && (n.removeChild(r), n.removeChild(i)) : (n.appendChild(r), n.appendChild(i)), t = o }, ts = (e, t) => () => { const { body: n } = e.document; t && n.contains(t) && n.removeChild(t) }, ns = ({ onLauncherKeypress: e }) => ({ keyCode: t }) => { t !== S.a.ENTER && t !== S.a.SPACE || e() }, rs = ({ onTabKeyDown: e }) => ({ keyCode: t }) => { t === S.a.TAB && e() }, is = ({ onClick: e }) => () => { e() }; var ss = (e, t) => { const { isAppActive: n, isLauncherEnabled: r, isMessengerOpen: i, locale: s } = t; void 0 !== s && Object(Xi.d)(s); const o = rs(t), c = is(t); e.document.addEventListener("keydown", o, !0), e.document.addEventListener("click", c, !1); const a = e.document.createElement("div"); if (a.setAttribute("class", "intercom-lightweight-app"), a.setAttribute("aria-live", "polite"), n && e.document.body.appendChild(a), r) { const n = Zi(e, t); a.appendChild(n) } const u = e.document.createElement("div"); u.setAttribute("class", "intercom-lightweight-app-messenger intercom-messenger"); const d = e.document.createElement("div"); d.setAttribute("class", "intercom-lightweight-app-messenger-header"), u.appendChild(d); const l = e.document.createElement("div"); l.setAttribute("class", "intercom-lightweight-app-gradient"), i && (a.appendChild(u), a.appendChild(l)); const p = e.document.createElement("style"); p.setAttribute("id", "intercom-lightweight-app-style"), p.setAttribute("type", "text/css"); const h = e.document.createTextNode(Ki(t)); return p.appendChild(h), a.appendChild(p), { updateLightweightApp: es(e, t, a, u, l, h), removeLightweightApp: ts(e, a) } }, os = n(232), cs = n(233); const as = e => ({ type: "SET_LIGHTWEIGHT_APP_ACTIVE", isActive: e }); var us = n(73); function ds(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function ls(e) { for (var t = 1; t < arguments.length; t++){ var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? ds(Object(n), !0).forEach((function (t) { ps(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ds(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function ps(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } const hs = Object(b.createStructuredSelector)({ isAppActive: os.a, isLauncherEnabled: a.a, isMessengerOpen: Wi.a, customization: qi.b, accessibility: zi.a, colors: Qi.a, launcherLogoUrl: i.m, allowSelfServeIcon: i.c, locale: cs.a, hideLightweightAppMessenger: i.h }), fs = e => { Object(U.e)("clicked", "launcher", "in_app", "", { is_messenger_open: !1, is_custom_launcher: !1, is_borderless_open: !1 }), e.dispatch(Object(Zr.l)()) }; var bs = (e, t) => { const n = ((e, t) => ({ isMobile: Object(s.b)(), onLauncherClick: () => { t.dispatch(Object(us.b)(!1)), fs(t) }, onLauncherKeypress: () => { fs(t) }, onClick: () => { t.dispatch(Object(us.b)(!1)) }, onTabKeyDown: () => { t.dispatch(Object(us.b)(!0)) } }))(0, t), r = hs(t.getState()), i = ls(ls({}, r), n), { updateLightweightApp: o, removeLightweightApp: c } = ss(e, i); t.dispatch(as(!0)); const a = t.subscribe(() => { const e = hs(t.getState()); if (e === r) return; const i = ls(ls({}, e), n); o(i) }); return () => { a(), c(e), t.dispatch(as(!1)) } }, _s = n(166); const gs = Object(b.createSelector)([e => e.app.isMessengerOpen], e => e), ms = Object(b.createSelector)([N.a], e => e.length > 0), Os = Object(b.createSelector)([M.a], e => e.length > 0), Es = Object(b.createSelector)([_s.a], e => e.length > 0), Ss = Object(b.createSelector)([e => e.install.isInstallModeOpen], e => e), vs = Object(b.createSelector)([e => e.banners], e => e.length > 0), ys = Object(b.createSelector)([ni.b], e => e > 0), Cs = Object(b.createSelector)([e => e.launcherDiscoveryMode.isLauncherDiscoveryModeOpening], e => e), Is = Object(b.createSelector)([e => e.tour.activeTour], e => null != e), Ts = Object(b.createSelector)([e => e.surveys], e => e.length > 0); var ws = Object(b.createSelector)([gs, ms, Os, Es, Ss, vs, ys, Cs, Is, Ts], (e, t, n, r, i, s, o, c, a, u) => Boolean(e || t || n || r || i || s || o || c || a || u)); const js = e => new Promise(t => { const n = e.subscribe(() => { ws(e.getState()) && (n(), t()) }) }), Rs = async (e = 3) => { try { const t = Date.now(), r = await $i()(async () => await Promise.all([n.e(49), n.e(0)]).then(n.bind(null, 876)), { retries: e }), i = Date.now(); return Object(U.f)("load_app_bundle_duration", i - t), r.default } catch (e) { throw Object(U.c)("load_app_bundle_failed"), e } }, As = async e => { try { const n = e.getState(), { launcherLogoUrl: r } = n.app; if (!r) return; await (t = r, new Promise((e, n) => { const r = new Image; r.addEventListener("load", () => e(r)), r.addEventListener("error", () => n(r)), r.src = t })) } catch (e) { Object(U.c)("load_launcher_image_failed") } var t }; var Ns = async (e, t) => { await As(t); const n = bs(e, t); let r, i = !0; return Promise.race([new Promise(e => { Object(y.a)() && e() }), js(t)]).then(async () => { if (!i) return; const [, s] = await Promise.all([(o = 250, new Promise(e => { setTimeout(e, o) })), Rs()]); var o; r = await s(e, t), n() }), () => { i && (r ? r() : n(), i = !1) } }; var Ms = class app_App{ constructor(e) { var t, n, r; r = e => { this.session.destroy(e), this.session = new Fi(this.window), this.renderApp && this.renderApp.then(e => e()), this.renderApp = void 0 }, (n = "destroySession") in (t = this) ? Object.defineProperty(t, n, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = r, this.window = e, this.session = new Fi(this.window, null, this.destroySession) } createOrUpdateUser(e, t) { const n = this.session.createOrUpdateUser(e, t); return this.renderApp || (this.renderApp = Ns(this.window, this.session.store)), n } openOnBoot() { this.session.openOnBoot() } createCustomizationOverride(e) { return this.session.createCustomizationOverride(e) } openMessenger() { this.session.openMessenger() } openMessengerFromAPI() { this.session.openMessenger(); const { user: e } = this.session.store.getState(); Object(U.h)(e, "opened", "messenger", "in_app", "from_api") } closeMessenger() { this.session.closeMessenger() } closeMessengerFromAPI() { this.session.closeMessenger(); const { user: e } = this.session.store.getState(); Object(U.h)(e, "closed", "messenger", "messenger", "from_api") } showConversations() { this.session.showConversations() } showNewConversation(e) { this.session.showNewConversation(e) } startTour(e) { const t = parseInt(e, 10); if (isNaN(t)) return void Object(Dn.a)("Invalid tourId passed to startTour. tourId must be a number"); this.session.startTour(t); const { user: n } = this.session.store.getState(); Object(U.h)(n, "requested", "messenger", "tour", "from_api", { tour_id: t }) } createEvent(e, t) { this.session.createEvent(e, t) } onMessengerOpen(e) { this.session.onMessengerOpen(e) } onMessengerClose(e) { this.session.onMessengerClose(e) } onUnreadConversationCountChange(e) { this.session.onUnreadConversationCountChange(e) } getArticleReaction(e, t, n) { this.session.getArticleReaction(e, t, n) } createArticleReaction(e, t, n) { this.session.createArticleReaction(e, t, n) } previewInboundCustomBot(e) { this.session.previewInboundCustomBot(e) } previewOutboundCustomBot(e) { this.session.previewOutboundCustomBot(e) } createMetric(e, t) { this.session.createMetric(e, t) } getVisitorId() { return this.session.getVisitorId() } enterTourPreviewMode(e) { return this.session.enterTourPreviewMode(e) } exitTourPreviewMode() { return this.session.exitTourPreviewMode() } trigger(e) { if (this.session.isReady) return this.session.trigger(e); Object(Dn.a)("Intercom is not ready. Aborting MessengerTrigger request") } }; function Ps(e) { return (...t) => { const n = { boot(t) { e.createCustomizationOverride(t), e.createOrUpdateUser(t, "apiBoot"), e.openOnBoot() }, update(t) { e.createCustomizationOverride(t), e.createOrUpdateUser(t, "apiUpdate") }, shutdown(t = !0) { e.destroySession(t) }, show() { e.openMessengerFromAPI() }, showMessages() { e.showConversations() }, showNewMessage(t) { e.showNewConversation(t) }, startTour(t) { e.startTour(t) }, hide() { e.closeMessengerFromAPI() }, trackEvent(t, n) { e.createEvent(t, n) }, onShow(t) { e.onMessengerOpen(t) }, onHide(t) { e.onMessengerClose(t) }, onUnreadCountChange(t) { e.onUnreadConversationCountChange(t) }, trigger(t) { e.trigger(t) }, getVisitorId: () => e.getVisitorId(), version: () => "3a5f2cc12cfaed6a7621910194c6a3662ad8d6e0", "private:getArticleReaction": (t, n, r) => { e.getArticleReaction(t, n, r) }, "private:createMetric": (t, n) => { e.createMetric(t, n) }, "private:createArticleReaction": (t, n, r) => { e.createArticleReaction(t, n, r) }, "private:enterTourPreviewMode": t => { e.enterTourPreviewMode(t) }, "private:exitTourPreviewMode": () => { e.exitTourPreviewMode() }, "private:previewInboundCustomBot": t => { e.previewInboundCustomBot(t) }, "private:previewOutboundCustomBot": t => { e.previewOutboundCustomBot(t) } }, r = t[0]; if (r && n[r]) return n[r](...t.slice(1)) } }
  
  function Us(e, t) {
    t.Intercom = e;
    t.Intercom.booted = !0;
  }
  
  function Ds(e) { const t = function (e) { return e.Intercom }(e); return t && t.q || [] } function Ls(e) { return Ds(e).some(e => "boot" === e[0] || "shutdown" === e[0]) } function ks(e, t) { const n = Ds(t); for (; n.length;)e(...n.shift()) } var xs = n(71), Vs = n.n(xs); const Gs = n(156); var Bs = n(13), Fs = n(98), Hs = n(97), $s = n(55); if (Object(y.a)()) { const e = JSON.parse(Object($s.a)(window.location.href).window); Object(O.h)(e), Object(Hs.a)() } else Object(O.h)(window.parent); Object(r.a)(window), function (e) { if (void 0 !== e) try { const t = new e.CustomEvent("test", { cancelable: !0 }); if (t.preventDefault(), !0 !== t.defaultPrevented) throw new Error("Could not prevent default") } catch (t) { const n = function (e, t) { (t = t || {}).bubbles = !!t.bubbles, t.cancelable = !!t.cancelable; const n = document.createEvent("CustomEvent"); n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail); const r = n.preventDefault; return n.preventDefault = function () { r.call(this); try { Object.defineProperty(this, "defaultPrevented", { get: function () { return !0 } }) } catch (e) { this.defaultPrevented = !0 } }, n }; n.prototype = e.Event.prototype, e.CustomEvent = n } }(window), Object(y.a)() || (window.requestAnimationFrame = window.parent.requestAnimationFrame || window.requestAnimationFrame), Object(y.a)(); const Ws = Object(y.a)() ? window : parent; Object(tr.a)(window); const qs = new Ms(Ws); Object(tr.b)(qs.session.store); const zs = Ps(qs), Qs = Ls(Ws); ks(zs, Ws), Us(zs, Ws), Qs || zs("boot"), new class intersection_Intersection{ constructor(e) { var t, n, r; r = ["http://intercom.test", "http://app.intercom.test", "https://app.intercom.com", "https://app.intercom.io", "https://eu.intercom.com", "https://eu.intercom.io", "https://intercomrades.intercom.io", "https://intercomrades.intercom.com", "https://intercomrades.eu.intercom.io", "https://intercomrades.eu.intercom.com"], (n = "intercomDomains") in (t = this) ? Object.defineProperty(t, n, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = r, this.window = e, this.setupIntersection() } setupIntersection() { this.openerExists() && (this.modeExists() ? this.injectIntersection() : (this.setupMessageListener(), this.sendMessageToOpener({ type: "intercom-snippet__ready" }))) } sendMessageToOpener(e) { this.window.opener.postMessage(e, "*") } openerExists() { return !!this.window.opener } modeExists() { return !!he.b.get("intercom-snippet__intersection-mode") } setupMessageListener() { this.window.addEventListener("message", this.bootIntersection.bind(this)) } getMode() { return he.b.get("intercom-snippet__intersection-mode") } getAppId() { return he.b.get("intercom-snippet__intersection-app-id") } bootIntersection(e) { -1 !== this.intercomDomains.indexOf(e.origin) && "intercom-snippet__boot-intersection" === e.data.type && (this.removeMessageListener(), this.saveOpenerOrigin(e.origin), this.injectIntersection(e.data.mode, e.data.appId)) } removeMessageListener() { this.window.removeEventListener("message", this.bootIntersection.bind(this)) } saveOpenerOrigin(e) { he.b.set("intercom-snippet__intersection-opener-origin", e) } injectIntersection(e, t) { this.window.document.getElementById("intersection-container") || (this.injectIntersectionFrame(), this.injectEmberApp(e, t)) } injectIntersectionFrame() { const e = this.window.document.createElement("div"), t = this.window.document.createElement("iframe"); e.id = "intersection-container", t.id = "intersection-frame", t.frameBorder = 0, e.appendChild(t), this.window.document.body.insertAdjacentElement("beforeend", e) } createScriptTag(e) { const t = document.createElement("script"); return t.type = "text/javascript", t.charset = "utf-8", t.src = e, t } injectFrameTemplate(e, t = this.getMode(), n = this.getAppId()) { const r = Vs()(t), i = Vs()(n); e.open(), e.write(`\n    <!doctype html>\n      <head>\n        <title>Intersection </title>\n        <meta name="intersection-mode" content=${r}>\n        <meta name="intersection-appId" content=${i}>\n      </head>\n      <body></body>\n    </html>\n    `), e.close() } injectIntersectionScripts(e) { const t = this.createScriptTag(Gs.intersection_js), n = this.createScriptTag(Gs.intersection_styles); e.contentWindow.document.head.appendChild(t), e.contentWindow.document.head.appendChild(n) } injectEmberApp(e, t) { const n = this.window.document.getElementById("intersection-frame"); this.injectFrameTemplate(n.contentDocument, e, t), this.injectIntersectionScripts(n) } }(Ws), Object(y.a)() && (window.addEventListener("message", Object(v.b)({ "intercom:boot": ({ settings: e }) => { qs.createOrUpdateUser(e) }, "intercom:window-resize": ({ updates: e }) => { Object(O.i)(e) }, "intercom:api-call": ({ args: e }) => { zs(...e) }, "intercom:ready-for-boot": ({ cookie: e }) => { Object(Fs.b)(e), Object(v.i)() } })), Object(Bs.a)("intercom:prepare-for-boot"))
}]);
